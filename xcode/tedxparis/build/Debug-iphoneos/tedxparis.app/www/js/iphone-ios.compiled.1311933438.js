(function(){var g;g={version:[0,9,1],onReady:function(b){b()},adapter:"ios",adapterModules:{ios:["app","uielement","inputs/touch","uielements/list","uielements/mediacontrols","uielements/video.mediaelement","uielements/video.youtube","utils/datasource"]},adapterDeps:[],debug:!1,basePath:"joshfire/",requirePath:""};var b=function(b){for(var e=[g.adapter].concat(g.adapterDeps),d=0,h=b.length;d<h;d++){b[d]=b[d].replace(/\{adapter\}/g,g.adapter);var a=/^noadapter\!/.test(b[d]);a&&(b[d]=b[d].substring(10));
if(/^joshfire\//.test(b[d])){var k=b[d].substring(9);b[d]=g.basePath+k;for(var m=0,r=e.length;m<r&&!a;m++){for(var v=!1,o=0,p=g.adapterModules[e[m]].length;o<p;o++)if(g.adapterModules[e[m]][o]===k){b[d]=b[d].replace(k,"adapters/"+e[m]+"/"+k);v=!0;break}if(v===!0)break}}else b[d]=g.requirePath+b[d]}return b};g.define=function(c,e){define(b(c),e)};g.require=function(c,e){var d={};g.debug&&g.adapter!="node"&&(d.urlArgs="bust="+(new Date).getTime());require(d,b(c),e)};this.Joshfire=g;if(typeof module!==
"undefined"&&module.exports)module.exports.Joshfire=g})();(function(g){g.onReady=function(b){g.require(["joshfire/vendor/zepto"],function(){b.call()})}})(Joshfire);Joshfire.definedModules={};Joshfire.loadedModules={};Joshfire.loadModule=function(g){Joshfire.loadedModules[g]||(Joshfire.loadedModules[g]=Joshfire.definedModules[g](),Joshfire.definedModules[g]=!0);return Joshfire.loadedModules[g]};Joshfire.compiled=1311933419603;
var require=function(g,b,c){g.length&&(c=b,b=g);g=[];typeof b==="string"&&(b=[b]);for(var e=0;e<b.length;e++){Joshfire.definedModules[b[e]]||(b[e]="joshfire/"+b[e]);if(!Joshfire.definedModules[b[e]])throw Error(b[e]+" was not included, please reference it in build.js");g.push(Joshfire.loadModule(b[e]))}c.apply(this,g)};
Joshfire.definedModules["joshfire/vendor/underscore"]=function(){return function(){var g=this,b=g._,c={},e=Array.prototype,d=Object.prototype,h=e.slice,a=e.unshift,k=d.toString,m=d.hasOwnProperty,r=e.forEach,v=e.map,o=e.reduce,p=e.reduceRight,w=e.filter,u=e.every,A=e.some,y=e.indexOf,s=e.lastIndexOf,d=Array.isArray,x=Object.keys,G=Function.prototype.bind,j=function(a){return new C(a)};j.VERSION="1.1.6";var t=j.each=j.forEach=function(a,b,f){if(a!=null)if(r&&a.forEach===r)a.forEach(b,f);else if(j.isNumber(a.length))for(var d=
0,k=a.length;d<k;d++){if(b.call(f,a[d],d,a)===c)break}else for(d in a)if(m.call(a,d)&&b.call(f,a[d],d,a)===c)break};j.map=function(a,b,f){var j=[];if(a==null)return j;if(v&&a.map===v)return a.map(b,f);t(a,function(a,d,K){j[j.length]=b.call(f,a,d,K)});return j};j.reduce=j.foldl=j.inject=function(a,b,f,d){var c=f!==void 0;a==null&&(a=[]);if(o&&a.reduce===o)return d&&(b=j.bind(b,d)),c?a.reduce(b,f):a.reduce(b);t(a,function(a,j,K){!c&&j===0?(f=a,c=!0):f=b.call(d,f,a,j,K)});if(!c)throw new TypeError("Reduce of empty array with no initial value");
return f};j.reduceRight=j.foldr=function(a,b,f,d){a==null&&(a=[]);if(p&&a.reduceRight===p)return d&&(b=j.bind(b,d)),f!==void 0?a.reduceRight(b,f):a.reduceRight(b);a=(j.isArray(a)?a.slice():j.toArray(a)).reverse();return j.reduce(a,b,f,d)};j.find=j.detect=function(a,b,f){var j;B(a,function(a,d,c){if(b.call(f,a,d,c))return j=a,!0});return j};j.filter=j.select=function(a,b,f){var j=[];if(a==null)return j;if(w&&a.filter===w)return a.filter(b,f);t(a,function(a,d,c){b.call(f,a,d,c)&&(j[j.length]=a)});return j};
j.reject=function(a,b,f){var j=[];if(a==null)return j;t(a,function(a,d,c){b.call(f,a,d,c)||(j[j.length]=a)});return j};j.every=j.all=function(a,b,f){var j=!0;if(a==null)return j;if(u&&a.every===u)return a.every(b,f);t(a,function(a,d,K){if(!(j=j&&b.call(f,a,d,K)))return c});return j};var B=j.some=j.any=function(a,b,f){b||(b=j.identity);var d=!1;if(a==null)return d;if(A&&a.some===A)return a.some(b,f);t(a,function(a,j,K){if(d=b.call(f,a,j,K))return c});return d};j.include=j.contains=function(a,b){var f=
!1;if(a==null)return f;if(y&&a.indexOf===y)return a.indexOf(b)!=-1;B(a,function(a){if(f=a===b)return!0});return f};j.invoke=function(a,b){var f=h.call(arguments,2);return j.map(a,function(a){return(b.call?b||a:a[b]).apply(a,f)})};j.pluck=function(a,b){return j.map(a,function(f){return f[b]})};j.max=function(a,b,f){if(!b&&j.isArray(a))return Math.max.apply(Math,a);var d={computed:-Infinity};t(a,function(a,j,c){j=b?b.call(f,a,j,c):a;j>=d.computed&&(d={value:a,computed:j})});return d.value};j.min=function(a,
b,f){if(!b&&j.isArray(a))return Math.min.apply(Math,a);var d={computed:Infinity};t(a,function(a,j,c){j=b?b.call(f,a,j,c):a;j<d.computed&&(d={value:a,computed:j})});return d.value};j.sortBy=function(a,b,f){return j.pluck(j.map(a,function(a,j,d){return{value:a,criteria:b.call(f,a,j,d)}}).sort(function(f,a){var b=f.criteria,j=a.criteria;return b<j?-1:b>j?1:0}),"value")};j.sortedIndex=function(a,b,f){f||(f=j.identity);for(var d=0,c=a.length;d<c;){var k=d+c>>1;f(a[k])<f(b)?d=k+1:c=k}return d};j.toArray=
function(a){return!a?[]:a.toArray?a.toArray():j.isArray(a)?a:j.isArguments(a)?h.call(a):j.values(a)};j.size=function(a){return j.toArray(a).length};j.first=j.head=function(a,b,f){return b!=null&&!f?h.call(a,0,b):a[0]};j.rest=j.tail=function(a,b,f){return h.call(a,b==null||f?1:b)};j.last=function(a){return a[a.length-1]};j.compact=function(a){return j.filter(a,function(a){return!!a})};j.flatten=function(a){return j.reduce(a,function(a,f){if(j.isArray(f))return a.concat(j.flatten(f));a[a.length]=f;
return a},[])};j.without=function(a){var b=h.call(arguments,1);return j.filter(a,function(f){return!j.include(b,f)})};j.uniq=j.unique=function(a,b){return j.reduce(a,function(f,a,d){if(0==d||(b===!0?j.last(f)!=a:!j.include(f,a)))f[f.length]=a;return f},[])};j.intersect=function(a){var b=h.call(arguments,1);return j.filter(j.uniq(a),function(f){return j.every(b,function(a){return j.indexOf(a,f)>=0})})};j.zip=function(){for(var a=h.call(arguments),b=j.max(j.pluck(a,"length")),f=Array(b),d=0;d<b;d++)f[d]=
j.pluck(a,""+d);return f};j.indexOf=function(a,b,f){if(a==null)return-1;var d;if(f)return f=j.sortedIndex(a,b),a[f]===b?f:-1;if(y&&a.indexOf===y)return a.indexOf(b);f=0;for(d=a.length;f<d;f++)if(a[f]===b)return f;return-1};j.lastIndexOf=function(a,b){if(a==null)return-1;if(s&&a.lastIndexOf===s)return a.lastIndexOf(b);for(var f=a.length;f--;)if(a[f]===b)return f;return-1};j.range=function(a,b,f){arguments.length<=1&&(b=a||0,a=0);for(var f=arguments[2]||1,j=Math.max(Math.ceil((b-a)/f),0),d=0,c=Array(j);d<
j;)c[d++]=a,a+=f;return c};j.bind=function(a,b){if(a.bind===G&&G)return G.apply(a,h.call(arguments,1));var f=h.call(arguments,2);return function(){return a.apply(b,f.concat(h.call(arguments)))}};j.bindAll=function(a){var b=h.call(arguments,1);b.length==0&&(b=j.functions(a));t(b,function(f){a[f]=j.bind(a[f],a)});return a};j.memoize=function(a,b){var f={};b||(b=j.identity);return function(){var j=b.apply(this,arguments);return m.call(f,j)?f[j]:f[j]=a.apply(this,arguments)}};j.delay=function(a,b){var f=
h.call(arguments,2);return setTimeout(function(){return a.apply(a,f)},b)};j.defer=function(a){return j.delay.apply(j,[a,1].concat(h.call(arguments,1)))};var H=function(a,b,f){var j;return function(){var d=this,c=arguments,k=function(){j=null;a.apply(d,c)};f&&clearTimeout(j);if(f||!j)j=setTimeout(k,b)}};j.throttle=function(a,b){return H(a,b,!1)};j.debounce=function(a,b){return H(a,b,!0)};j.once=function(a){var b=!1,f;return function(){if(b)return f;b=!0;return f=a.apply(this,arguments)}};j.wrap=function(a,
b){return function(){var f=[a].concat(h.call(arguments));return b.apply(this,f)}};j.compose=function(){var a=h.call(arguments);return function(){for(var b=h.call(arguments),f=a.length-1;f>=0;f--)b=[a[f].apply(this,b)];return b[0]}};j.after=function(a,b){return function(){if(--a<1)return b.apply(this,arguments)}};j.keys=x||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],f;for(f in a)m.call(a,f)&&(b[b.length]=f);return b};j.values=function(a){return j.map(a,j.identity)};
j.functions=j.methods=function(a){return j.filter(j.keys(a),function(b){return j.isFunction(a[b])}).sort()};j.extend=function(a){t(h.call(arguments,1),function(b){for(var f in b)b[f]!==void 0&&(a[f]=b[f])});return a};j.defaults=function(a){t(h.call(arguments,1),function(b){for(var f in b)a[f]==null&&(a[f]=b[f])});return a};j.clone=function(a){return j.isArray(a)?a.slice():j.extend({},a)};j.tap=function(a,b){b(a);return a};j.isEqual=function(a,b){if(a===b)return!0;var f=typeof a;if(f!=typeof b)return!1;
if(a==b)return!0;if(!a&&b||a&&!b)return!1;if(a._chain)a=a._wrapped;if(b._chain)b=b._wrapped;if(a.isEqual)return a.isEqual(b);if(j.isDate(a)&&j.isDate(b))return a.getTime()===b.getTime();if(j.isNaN(a)&&j.isNaN(b))return!1;if(j.isRegExp(a)&&j.isRegExp(b))return a.source===b.source&&a.global===b.global&&a.ignoreCase===b.ignoreCase&&a.multiline===b.multiline;if(f!=="object")return!1;if(a.length&&a.length!==b.length)return!1;var f=j.keys(a),d=j.keys(b);if(f.length!=d.length)return!1;for(var c in a)if(!(c in
b)||!j.isEqual(a[c],b[c]))return!1;return!0};j.isEmpty=function(a){if(j.isArray(a)||j.isString(a))return a.length===0;for(var b in a)if(m.call(a,b))return!1;return!0};j.isElement=function(a){return!!(a&&a.nodeType==1)};j.isArray=d||function(a){return k.call(a)==="[object Array]"};j.isArguments=function(a){return!(!a||!m.call(a,"callee"))};j.isFunction=function(a){return!(!a||!a.constructor||!a.call||!a.apply)};j.isString=function(a){return!!(a===""||a&&a.charCodeAt&&a.substr)};j.isNumber=function(a){return!!(a===
0||a&&a.toExponential&&a.toFixed)};j.isNaN=function(a){return a!==a};j.isBoolean=function(a){return a===!0||a===!1};j.isDate=function(a){return!(!a||!a.getTimezoneOffset||!a.setUTCFullYear)};j.isRegExp=function(a){return!(!a||!a.test||!a.exec||!(a.ignoreCase||a.ignoreCase===!1))};j.isNull=function(a){return a===null};j.isUndefined=function(a){return a===void 0};j.noConflict=function(){g._=b;return this};j.identity=function(a){return a};j.times=function(a,b,f){for(var j=0;j<a;j++)b.call(f,j)};j.mixin=
function(a){t(j.functions(a),function(b){q(b,j[b]=a[b])})};var O=0;j.uniqueId=function(a){var b=O++;return a?a+b:b};j.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g};j.template=function(a,b){var f=j.templateSettings,f="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(f.interpolate,function(f,a){return"',"+a.replace(/\\'/g,"'")+",'"}).replace(f.evaluate||null,function(f,a){return"');"+
a.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",f=new Function("obj",f);return b?f(b):f};var C=function(a){this._wrapped=a};j.prototype=C.prototype;var P=function(a,b){return b?j(a).chain():a},q=function(b,d){C.prototype[b]=function(){var f=h.call(arguments);a.call(f,this._wrapped);return P(d.apply(j,f),this._chain)}};j.mixin(j);t(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=
e[a];C.prototype[a]=function(){b.apply(this._wrapped,arguments);return P(this._wrapped,this._chain)}});t(["concat","join","slice"],function(a){var b=e[a];C.prototype[a]=function(){return P(b.apply(this._wrapped,arguments),this._chain)}});C.prototype.chain=function(){this._chain=!0;return this};C.prototype.value=function(){return this._wrapped};return j}()};
Joshfire.definedModules["joshfire/class"]=function(){return function(g){var b=!1,c=/xyz/.test(function(){})?/\b__super\b/:/.*/,e=function(){};e.extend=function(d){function e(){!b&&this.__constructor&&this.__constructor.apply(this,arguments)}var a=this.prototype;b=!0;var k=new this;b=!1;for(var m in d)k[m]=typeof d[m]=="function"&&typeof a[m]=="function"&&c.test(d[m])?function(b,d){return function(){var c=this.__super;this.__super=a[b];var k=d.apply(this,arguments);this.__super=c;return k}}(m,d[m]):
d[m];e.prototype=k;e.constructor=e;e.extend=arguments.callee;return e};return function(b,c){return g.isFunction(b)?b.extend(c):e.extend(b)}}(Joshfire.loadModule("joshfire/vendor/underscore"))};Joshfire.definedModules["joshfire/main"]=function(){return Joshfire};
Joshfire.definedModules["joshfire/mixins/pubsub"]=function(){return function(){return{mixin:function(g){g.__pubsubSubscribes=!1;g.__pubsubLastUid=-1;g.publish=function(b,c,e){if(!this.__pubsubSubscribes.hasOwnProperty(b)&&!this.__pubsubSubscribes.hasOwnProperty("*"))return!1;var d=this,h=function(){for(var a=(d.__pubsubSubscribes[b]||[]).concat(d.__pubsubSubscribes["*"]||[]),k=0,e=a.length;k<e;k++)a[k]&&a[k].func(b,c,a[k].token)};e===!0?h():setTimeout(h,0);return!0};g.subscribe=function(b,c){if(this.__pubsubSubscribes===
!1)this.__pubsubSubscribes={};this.__pubsubSubscribes.hasOwnProperty(b)||(this.__pubsubSubscribes[b]=[]);var e=(++this.__pubsubLastUid).toString();this.__pubsubSubscribes[b].push({token:e,func:c});return e};g.unsubscribe=function(b){for(var c in this.__pubsubSubscribes)if(this.__pubsubSubscribes.hasOwnProperty(c))for(var e=0,d=this.__pubsubSubscribes[c].length;e<d;e++)if(this.__pubsubSubscribes[c][e].token===b)return this.__pubsubSubscribes[c].splice(e,1),b;return!1}}}}(Joshfire.loadModule("joshfire/main"))};
Joshfire.definedModules["joshfire/mixins/state"]=function(){return function(g){return{mixin:function(b){b.setState=function(b,e){if(!this.__stateStore)this.__stateStore={};g.isEqual(this.__stateStore[b],e)||(this.__stateStore[b]=e,this.publish("state",[b,e],!0))};b.setStates=function(b){if(!this.__stateStore)this.__stateStore={};var e=this,d=[];g.each(b,function(b,a){g.isEqual(e.__stateStore[a],b)||(e.__stateStore[a]=b,d.push([a,b]))});g.each(d,function(b){e.publish("state",b,!0)})};b.deleteState=
function(b){if(!this.__stateStore)this.__stateStore={};delete this.__stateStore[b]};b.onState=function(b,e,d){this.getState(b)==e&&d();this.subscribe("state",function(h,a){a[0]==b&&a[1]==e&&d()})};b.getState=function(b){if(!this.__stateStore)this.__stateStore={};return!b?this.__stateStore:this.__stateStore[b]}}}}(Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["joshfire/vendor/json2"]=function(){return function(){if(!window.JSON)window.JSON={};(function(){function g(d,c){var k,e,w,u,A=h,y,s=c[d];s&&typeof s==="object"&&typeof s.toJSON==="function"&&(s=s.toJSON(d));typeof m==="function"&&(s=m.call(c,d,s));switch(typeof s){case "string":return b(s);case "number":return isFinite(s)?String(s):"null";case "boolean":case "null":return String(s);case "object":if(!s)return"null";h+=a;y=[];if(Object.prototype.toString.apply(s)==="[object Array]"){u=
s.length;for(k=0;k<u;k+=1)y[k]=g(k,s)||"null";w=y.length===0?"[]":h?"[\n"+h+y.join(",\n"+h)+"\n"+A+"]":"["+y.join(",")+"]";h=A;return w}if(m&&typeof m==="object"){u=m.length;for(k=0;k<u;k+=1)typeof m[k]==="string"&&(e=m[k],(w=g(e,s))&&y.push(b(e)+(h?": ":":")+w))}else for(e in s)Object.prototype.hasOwnProperty.call(s,e)&&(w=g(e,s))&&y.push(b(e)+(h?": ":":")+w);w=y.length===0?"{}":h?"{\n"+h+y.join(",\n"+h)+"\n"+A+"}":"{"+y.join(",")+"}";h=A;return w}}function b(a){d.lastIndex=0;return d.test(a)?'"'+
a.replace(d,function(a){var b=k[a];return typeof b==="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a){return a<10?"0"+a:a}if(typeof Date.prototype.toJSON!=="function")Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=
function(){return this.valueOf()};var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h,a,k={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;if(typeof JSON.stringify!=="function")JSON.stringify=function(b,d,c){var k;a=h="";if(typeof c==="number")for(k=0;k<c;k+=1)a+=" ";else typeof c===
"string"&&(a=c);if((m=d)&&typeof d!=="function"&&(typeof d!=="object"||typeof d.length!=="number"))throw Error("JSON.stringify");return g("",{"":b})};if(typeof JSON.parse!=="function")JSON.parse=function(a,b){function d(a,c){var k,e,h=a[c];if(h&&typeof h==="object")for(k in h)Object.prototype.hasOwnProperty.call(h,k)&&(e=d(h,k),e!==void 0?h[k]=e:delete h[k]);return b.call(a,c,h)}var c,a=String(a);e.lastIndex=0;e.test(a)&&(a=a.replace(e,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));
if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return c=eval("("+a+")"),typeof b==="function"?d({"":c},""):c;throw new SyntaxError("JSON.parse");}})();return window.JSON=JSON}()};
Joshfire.definedModules["joshfire/tree"]=function(){return function(g,b,c,e,d,h){g=b({allowRootAccess:!1,inverses:{down:"up",up:"down",next:"prev",prev:"next"},__constructor:function(a,b,c){this.app=a;this.options=d.extend({defaultQuery:{limit:20,skip:0}},c||{});this.id=b;this.id2index={};this.beingLoaded={};this.stateChangeSerial=1;this.tree={};this.childrenFunctions={};this.queryCache={};this.itemCache={};this.init()},init:function(){},setup:function(a){this.options.tree?this.set("/",this.options.tree,
a):this.set("/",this.buildTree?this.buildTree():[],a)},moveTo:function(a,b,d){var c=this;if(b)if(c.isDirectory(b)){var e=!0;c.resolveMoves(b.substring(0,b.length-1),["down"],d,function(b,d){e=!1;c.setState(a,d)});e&&c.setState(a,b)}else c.setState(a,b)},move:function(a,b,d){var c=this,e=++c.stateChangeSerial;if(b){var h=!0;c.resolveMoves(c.getState(a),b,d,function(b,d){h=!1;e==c.stateChangeSerial&&c.moveTo(a,d)});h&&(b=="down"||b.length==1&&b[0]=="down")&&c.setState(a,(c.getState(a)+"/").replace(/\/\/$/,
"/"))}},compactMoves:function(a){if(a.length<2)return[].concat(a);for(var b=[],d=0;d<a.length;d++)d<a.length-1&&a[d]==this.inverses[a[d+1]]?d++:b.push(a[d]);return b},resolveMoves:function(a,b,c,e){var h=this,b=d.isString(b)?[b]:[].concat(b);this.isDirectory(a)&&(a=this.getDirName(a),b.unshift("down"));var b=[].concat(this.compactMoves(b)),g=function(a,w,u){if(a)return e(a);if(b.length===0)return e(null,w,u);a=b.shift();a=="up"?h._resolveMoveUp(w,g):a=="next"?h._resolveMoveNextPrev(w,1,g):a=="prev"?
h._resolveMoveNextPrev(w,-1,g):a=="down"&&(a=d.indexOf(b,"down")==-1,h._resolveMoveDown(w,a?c:!1,g))};g(null,a)},_resolveMoveNextPrev:function(a,b,d){var c=this.getDirName(a)+"/",e=this.getBaseName(a),e=this.id2index[c][e];e+=b;e>=0&&e<this.tree[c].length&&(a=c+this.tree[c][e].id);d(null,a)},_resolveMoveUp:function(a,b){var d=this.getDirName(a);if(d!==""||this.allowRootAccess)a=d;b(null,a)},_resolveMoveDown:function(a,b,c){var e=this;if(e.childrenFunctions[a]){var b=e._prepareQuery(b),g=function(d,
h,g,o){if(d)return c(d);if(!o){e.addToQueryCache(a,b,h,g);d=0;for(o=h.length;d<o;d++)e.addToItemCache(a+"/"+h[d].id,h[d],g);e.insert(a+"/",b,h,g)}a=a+"/"+e.tree[a+"/"][0].id;c(null,a,h)},o=e.checkQueryCache(a,b);if(o)g(null,o.data,o.options,!0);else{var p=a+"/ "+h.stringify(b);e.beingLoaded[p]?e.beingLoaded[p].push(g):(e.beingLoaded[p]=[g],e.publish("loading",[a+"/",b],!0),e.childrenFunctions[a](b,function(a,b,c){var h=e.beingLoaded[p];delete e.beingLoaded[p];d.each(h,function(d){d(a,b,c||{})})}))}}else e.tree[a+
"/"]?e.tree[a+"/"]!="loading"&&(e.tree[a+"/"].length>0&&(a=a+"/"+e.tree[a+"/"][0].id),g=this.getDirName(a)+"/",c(null,a,this.get(g))):c(null,a,[])},_prepareQuery:function(a){return a=d.extend({},this.options.defaultQuery,a||{})},checkQueryCache:function(a,b){var d=h.stringify(b);if(this.queryCache[a]&&this.queryCache[a][d])if(+new Date<this.queryCache[a][d].expires)return this.queryCache[a][d];else delete this.queryCache[a][d];return null},addToQueryCache:function(a,b,d,c){var e=c.cache;e&&(b=h.stringify(b),
this.queryCache[a]||(this.queryCache[a]={}),this.queryCache[a][b]={expires:+new Date+e*1E3,data:d,options:c})},checkItemCache:function(a){if(this.itemCache[a])if(+new Date<this.itemCache[a].expires)return this.itemCache[a].data;else delete this.itemCache[a];return null},addToItemCache:function(a,b,d){var c=d.cache;c&&(this.itemCache[a]={expires:+new Date+c*1E3,data:b,options:d})},get:function(a){if(this.isDirectory(a))return this.tree[a];else{var b;b=a===""?"":this.getDirName(a)+"/";a=this.getBaseName(a);
return this.tree[b]&&this.id2index[b]!==null&&(a=this.id2index[b][a],a!==null)?this.tree[b][a]:null}},fetch:function(a,b,d){var c=this;if(a=="/")return d(null,c.get("/"));var e=c.isDirectory(a),h=a.substring(1).split("/"),g="";if(!e){var w=this.checkItemCache(a);if(w)return d(null,w)}var u=function(){c.resolveMoves(g,["down"],h.length==1?b:!1,function(b,k,w){h.length==1?e?d(null,w):d(null,c.get(a)):(g+="/"+h.shift(),u())})};u()},isDirectory:function(a){return a.charAt(a.length-1)=="/"},getBaseName:function(a){a=
a.split("/");return a[a.length-1]},sendChangeEvent:function(a){this.publish("change",[a,this.get(a)])},getDirName:function(a){return a.replace(/\/[^\/]*$/,"")},update:function(a,b){var c=this.get(a);d.extend(c,b);this.set(a,c)},set:function(a,b,c){var e=d.clone(b),c=c||function(){},h=this;if(h.isDirectory(a)){h.tree[a]=[];h.id2index[a]={};if(!e.length)return c();for(var b=d.after(e.length,function(){h.sendChangeEvent(a);c()}),g=0;g<e.length;g++)h.id2index[a][e[g].id]=g,h.set(a+e[g].id,e[g],b)}else{var p;
a===""?(p="",h.id2index[""]={"":0},h.tree[""]=[]):p=h.getDirName(a)+"/";b=h.getBaseName(a);if(h.tree[p]===null||h.id2index[p]===null)return c("no base point");var w=h.id2index[p][b];if(w===null)return c("no base point");d.each(h.tree,function(b,d){d.indexOf(a+"/")===0&&delete h.tree[d]});b=e.children;delete e.children;var u=function(){h.formatItem(a,e,function(b,d){h.tree[p][w]=d;h.sendChangeEvent(a);c()})};if(d.isFunction(b))h.childrenFunctions[a]=b;else if(d.isArray(b)){h.set(a+"/",b,function(a){if(a)return c(a);
u()});return}u()}},insert:function(a,b,d){if(this.isDirectory(a)){var c=this.get(a)||[];this.set(a,c.slice(0,b.skip).concat(d,c.slice(b.skip+d.length,c.length)))}},formatItem:function(a,b,d){d(null,b)},prefetchAll:function(){var a=this;a.subscribe("change",function(b,d){var c=d[0];!a.isDirectory(c)&&a.childrenFunctions[c]&&a.moveTo("preload",c+"/")})}});c.mixin(g.prototype);e.mixin(g.prototype);return g}(Joshfire.loadModule("joshfire/main"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/mixins/pubsub"),
Joshfire.loadModule("joshfire/mixins/state"),Joshfire.loadModule("joshfire/vendor/underscore"),Joshfire.loadModule("joshfire/vendor/json2"))};
Joshfire.definedModules["joshfire/utils/delayedswitch"]=function(){return function(g){return g({__constructor:function(b,c,e){this._on=b;this._off=c;this.delayON=e;this.timer=!1},on:function(){if(this.delayON){if(!this.timer){var b=this;this.timer=setTimeout(function(){b.timer=!1;b._on&&b._on()},this.delayON)}}else this._on&&this._on()},off:function(){if(this.timer)clearTimeout(this.timer),this.timer=!1;this._off&&this._off()},reset:function(){this.off();this.on()}})}(Joshfire.loadModule("joshfire/class"))};
Joshfire.definedModules["joshfire/uielement"]=function(){return function(g,b,c,e,d,h){g=b({getDefaultOptions:function(){return{hideDelay:0,autoShow:!0,showOnFocus:!0,hideOnBlur:!1,innerTemplate:"<%= htmlInner %>",innerHtmlId:!1,htmlId:!1,loadingTemplate:"Loading...",template:'<div style="display:none;" class="josh-type-<%= type %> josh-id-<%= id %> <%= htmlClass %>" id="<%= htmlId %>" data-josh-ui-path="<%= path %>"><%= htmlOuter %></div>',autoRefresh:!0,autoInsert:!0,forceDataPathRefresh:!1}},__constructor:function(a,
b,c){var e=this;e.app=a;e.path=b;e.id=b.substring(1).replace(/\//g,"_",b);e.options=h.extend(e.getDefaultOptions(),c||{});e.htmlClass=e.options.htmlClass||"";e.htmlId=e.getHtmlId();e.innerHtmlId=e.getInnerHtmlId();e.htmlEl=!1;e.innerHtmlEl=!1;e.parentEl=!1;e.parentUi=!1;e.hasFocus=!1;e.nextShowHide=!1;e.children=[];e.showHideSwitch=new d(function(){e.processShowHide()},null,e.options.hideDelay);h.each(e.options,function(a,b){if(b.substring(0,2)=="on"&&typeof a=="function"){var d=b.charAt(2).toLowerCase()+
b.substring(3);e.subscribe(d,function(b,d,c){a(e,b,d,c)})}});e.subscribe("state",function(){e.checkFresh()});e.init();if(!e.data)e.data=!1,e.dataPath=!1;e.publish("afterInit")},init:function(){},setup:function(a){var b=this;b.options.uiDataMaster&&b.app.ui.fetch(b.options.uiDataMaster,!1,function(){var a=b.app.ui.element(b.options.uiDataMaster);a.subscribe("select",function(d,c){c.length&&c[0].length&&a.dataPath&&b.setDataPath(a.dataPath+c[0])})});b.options.uiDataSync&&b.app.ui.fetch(b.options.uiDataSync,
!1,function(){b.app.ui.element(b.options.uiDataSync).subscribe("data",function(a,d){d.length&&b.setData(d[0])})});typeof b.options.dataPath=="string"&&b.setDataPath(b.options.dataPath);a()},setDataPath:function(a){var b=this;if(b.dataPath!=a||this.options.forceDataPathRefresh)b.setLoading(!0),b.setState("dataPath",a),b.dataPath=a,b.app.data.fetch(a,!1,function(d,c){b.dataPath==a&&(b.setLoading(!1),d||(b.setData(c),b.dataBound||b.bindToDataPath()))})},bindToDataPath:function(){var a=this;a.dataBound=
!0;a.app.data.subscribe("change",function(b,d){a.dataPath==d[0]&&a.setData(d[1])})},setLoading:function(a){this.setState("loading",a);if(a&&this.htmlEl&&this.options.loadingTemplate&&!this.children.length)this.htmlEl.innerHTML=this.template(this.options.loadingTemplate),this.htmlIsLoader=!0},focus:function(){var a=this;a.publish("beforeFocus",null,!0);if(!a.hasFocus&&a.options.showOnFocus===!0){for(var b=this.path,d=0;d<a.path.split("/").length-1;d++)a.app.ui.resolveMoves(b,"up",!1,function(b,d){a.app.ui.element(d).show()});
a.show()}this.app.ui.setState("focus",this.path);this.hasFocus=!0;this.publish("afterFocus")},blur:function(){this.publish("beforeBlur",null,!0);this.options.hideOnBlur===!0&&this.hideDelayed();this.hasFocus=!1;this.publish("afterBlur")},template:function(a){this._=h;return h.isFunction(a)?a(this):h.template(a,this)},show:function(){},hide:function(){},hasHtmlClass:function(a){return!a||typeof a!="string"?void 0:(" "+this.htmlEl.className+" ").indexOf(" "+a+" ")!=-1},addHtmlClass:function(a){a&&typeof a==
"string"&&(this.hasHtmlClass(a)||(this.htmlEl.className+=" "+a))},removeHtmlClass:function(a){if(a&&typeof a=="string")this.htmlEl.className=(" "+this.htmlEl.className+" ").split(" "+a+" ").join(" ").slice(1,-1)},toggleHtmlClass:function(a){a&&typeof a=="string"&&(this.hasHtmlClass(a)?this.removeHtmlClass(a):this.addHtmlClass(a))},processShowHide:function(){this.nextShowHide=="show"?this.show():this.hide()},showDelayed:function(){this.nextShowHide="show";this.showHideSwitch.reset()},hideDelayed:function(){this.nextShowHide=
"hide";this.showHideSwitch.reset()},insertInParent:function(){this.parentUi&&this.parentUi.children.push(this)},insert:function(a,b){var d=this;d.options.autoRefresh&&d.subscribe("data",function(){d.refresh()});this.publish("beforeInsert",[a],!0);this.parentInnerHtmlEl=this.parentUi=!1;if(a)if(a.app&&a.options){if(this.parentUi=a,a.innerHtmlEl)this.parentInnerHtmlEl=a.innerHtmlEl}else this.parentInnerHtmlEl=a;else if(this.path.length)this.parentUi=this.app.ui.element(this.app.ui.getDirName(this.path)),
this.parentInnerHtmlEl=this.parentUi.innerHtmlEl;this.insertInParent();this.setState("inserted",!0);this.options.autoShow&&this.show();this.publish("afterInsert");this.insertChildren(!1,b)},insertChildren:function(a,b){var d=this;b||(b=function(){});d.app.ui.fetch(d.path+"/",!1,function(c,e){if(!e||!e.length)return b(c);for(var g=h.after(e.length,function(){b()}),p=0;p<e.length;p++)a||e[p].element.options.autoInsert?e[p].element.insert(d,g):g();return!0})},refresh:function(a){if(this.getState("inserted"))this.htmlIsLoader||
this.children.length==0?(this.htmlInner=this.getInnerHtml(),this.htmlEl.innerHTML=this.template(this.options.innerTemplate),this.htmlIsLoader=!1):this.innerHtmlEl.innerHTML=this.getInnerHtml(),this.publish("afterRefresh"),a&&a()},getHtmlId:function(){return this.options.htmlId?this.options.htmlId:this.app.id+"__"+this.id.toString().replace(/_/g,"__")},getInnerHtmlId:function(){return this.options.innerHtmlId?this.options.innerHtmlId:this.getHtmlId()},checkFresh:function(){this.isFresh()?(this.setState("fresh",
!0),this.publish("fresh")):this.setState("fresh",!1);this.parentUi&&this.parentUi.checkFresh()},isFresh:function(){if(!this.getState("loading")){for(var a=0,b=this.children.length;a<b;a++)if(!this.children[a].isFresh())return!1;return!0}return!1},getHtml:function(){this.htmlInner=this.getInnerHtml();this.htmlOuter=this.template(this.options.innerTemplate);return this.template(this.options.template)},getFreshHtml:function(a){var b=this;if(this.isFresh())a(null,this.getHtml());else var d=this.subscribe("fresh",
function(){b.unsubscribe(d);a(null,b.getHtml())})},getInnerHtml:function(){return""},setData:function(a){this.data=a;this.publish("data",[a]);this.setLoading(!1)}});c.mixin(g.prototype);e.mixin(g.prototype);return g}(Joshfire.loadModule("joshfire/main"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/mixins/pubsub"),Joshfire.loadModule("joshfire/mixins/state"),Joshfire.loadModule("joshfire/utils/delayedswitch"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["joshfire/adapters/ios/uielement"]=function(){return function(g,b,c){return b(g,{getDefaultOptions:function(){return c.extend(this.__super(),{})},remove:function(){$("#"+this.htmlId).remove()},insertInParent:function(){this.__super();if(!document.getElementById(this.htmlId)){var b=document.createElement("div");b.innerHTML=this.getHtml();this.parentInnerHtmlEl.insertBefore(b)}this.htmlEl=document.getElementById(this.htmlId);this.innerHtmlEl=document.getElementById(this.innerHtmlId)},
refresh:function(b){(!document.getElementById(this.htmlId)||!document.getElementById(this.htmlId).id)&&this.options.autoInsert===!0&&this.insert(this.parentEl);this.__super(b)},show:function(){this.publish("beforeShow",null,!0);this._show();this.publish("afterShow");this.showHideSwitch.off()},hide:function(){this.publish("beforeHide",null,!0);this._hide();this.publish("afterHide");this.showHideSwitch.off()},_show:function(){if(document.getElementById(this.htmlId))document.getElementById(this.htmlId),
document.getElementById(this.htmlId).style.display="block"},_hide:function(){if(document.getElementById(this.htmlId))document.getElementById(this.htmlId),document.getElementById(this.htmlId).style.display="none"}})}(Joshfire.loadModule("joshfire/uielement"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["joshfire/uielements/panel"]=function(){return function(g,b){return b(g,{type:"Panel",getInnerHtml:function(){return this.options.content?this.options.content:this.data&&this.data.content?this.data.content:this.__super()},refresh:function(b){if(!this.children.length)return this.__super(b)}})}(Joshfire.loadModule("joshfire/adapters/ios/uielement"),Joshfire.loadModule("joshfire/class"))};
Joshfire.definedModules["joshfire/tree.ui"]=function(){return function(g,b,c,e){return b(c,{allowRootAccess:!0,setupQueue:[],formatItem:function(b,c,a){var k=this;this.setupQueue.push(b);e.isString(c.type)?g.require(["joshfire/uielements/"+c.type],function(e){c.element=new e(k.app,b,c);a(null,c)}):(c.element=new c.type(k.app,b,c),a(null,c))},setup:function(b){var c=this;c.__super(function(){c.setupElements(b)})},setupElements:function(b){var c=this,a=function(){if(!c.setupQueue.length)return b();
var e=c.setupQueue.shift();c.element(e).setup(a)};a()},addRootElement:function(b){this.set("",{id:"root",type:"panel",autoShow:!0},b)},init:function(){var b=this;this.__super();b.lastFocusedPath=null;b.subscribe("state",function(c,a){var e=a[1];if(a[0]=="focus"){var g=b.element(e);if(e!=b.lastFocusedPath)b.lastFocusedPath&&b.element(b.lastFocusedPath).blur(),g.focus(),b.lastFocusedPath=e}});b.app.subscribe("input",function(c,a){b.lastFocusedPath&&b.element(b.lastFocusedPath).publish(c,a)})},set:function(b,
c,a){var k=this;if(b=="/"&&!this.tree[""]&&!this.tree["/"])if(e.isArray(c))return this.addRootElement(function(){k.set(b,c,a)}),!0;else b="";return this.__super(b,c,a)},element:function(b){b=this.get(b);return!b?!1:b.element}})}(Joshfire.loadModule("joshfire/main"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/tree"),Joshfire.loadModule("joshfire/vendor/underscore"),Joshfire.loadModule("joshfire/uielements/panel"))};Joshfire.definedModules["joshfire/tree.data"]=function(){return function(g){return g}(Joshfire.loadModule("joshfire/tree"))};
Joshfire.definedModules["joshfire/app"]=function(){return function(g,b,c,e,d,h,a){b=b({id:"DefaultAppId",getDefaultOptions:function(){return{autoSetup:!0,uiTree:!1,inputs:[],dataTree:!1,autoInsert:!1}},__constructor:function(b){this.options=a.extend(this.getDefaultOptions(),b||{});this.init();this.options.autoSetup&&this.setupAll(function(){})},init:function(){},setup:function(a){a()},setupAll:function(a){var b=this,c=function(c){b.publish("error",[c]);a(c)};b.setupDataTree(function(d){if(d)return c(d);
b.setupUiTree(function(d){if(d)return c(d);b.setupInputs(function(d){if(d)return c(d);b.setup(function(d){if(d)return c(d);b.publish("ready");a(null,!0)})})})})},setupUiTree:function(a){this.options.uiTree||this.uiTree?(this.ui=new c(this,"ui",{tree:this.options.uiTree||this.uiTree}),this.ui.setup(a)):this.options.uiClass||this.uiClass?(this.ui=new (this.options.uiClass||this.uiClass)(this,"ui"),this.ui.setup(a)):a(null)},setupDataTree:function(a){this.options.dataTree||this.dataTree?(this.data=new e(this,
"data",{tree:this.options.dataTree||this.dataTree}),this.data.setup(a)):this.options.dataClass||this.dataClass?(this.data=new (this.options.dataClass||this.dataClass)(this,"data"),this.data.setup(a)):a(null)},setupInputs:function(b){var d=this;if(d.options.inputs.length===0)return b(null);var c=a.after(d.options.inputs.length,function(){b(null)});d.inputs={};a.each(d.options.inputs,function(b){var e=function(a){d.inputs[b]=new a(d,b);d.inputs[b].setup(c)};a.isString(b)?g.require(["joshfire/inputs/"+
b],e):e(b)})}});d.mixin(b.prototype);h.mixin(b.prototype);return b}(Joshfire.loadModule("joshfire/main"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/tree.ui"),Joshfire.loadModule("joshfire/tree.data"),Joshfire.loadModule("joshfire/mixins/pubsub"),Joshfire.loadModule("joshfire/mixins/state"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["joshfire/vendor/zepto"]=function(){return function(){(function(b){if(String.prototype.trim===b)String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")};if(Array.prototype.reduce===b)Array.prototype.reduce=function(c){if(this===void 0||this===null)throw new TypeError;var e=Object(this),d=e.length>>>0,h=0,a;if(typeof c!="function")throw new TypeError;if(d==0&&arguments.length==1)throw new TypeError;if(arguments.length>=2)a=arguments[1];else{do{if(h in
e){a=e[h++];break}if(++h>=d)throw new TypeError;}while(1)}for(;h<d;)h in e&&(a=c.call(b,a,e[h],h,e)),h++;return a}})();var g=function(){function b(a,b,f){var d=!a||a==3?b:b.parentNode;d.insertBefore(f,!a?d.firstChild:a==1?b.nextSibling:a==2?b:null)}function c(a,b,f,d){return u(b)?b.call(a,f,d):b}function e(a,b){return b===A?d(a):d(a).filter(b)}function d(b,c){if(!b)return h();if(c!==A)return d(c).find(b);else if(u(b))return d(B).ready(b);else if(b instanceof h)return b;else{var f;p(b)?f=o(b):b instanceof
Element||b===window||b===B?(f=[b],b=null):f=P.test(b)?a(b):b.nodeType&&b.nodeType==3?[b]:x(B,b);return h(f,b)}}function h(a,b){a=a||j;a.__proto__=h.prototype;a.selector=b||"";return a}function a(a){q.innerHTML=(""+a).trim();return t.call(q.childNodes)}function g(a){return a in O?O[a]:O[a]=RegExp("(^|\\s)"+a+"(\\s|$)")}function m(a){return a.filter(function(a,b,d){return d.indexOf(a)==b})}function r(a){return a.replace(/-+(.)?/g,function(a,b){return b?b.toUpperCase():""})}function v(a){return[].concat.apply([],
a)}function o(a){return a.filter(function(a){return a!==A&&a!==null})}function p(a){return a instanceof Array}function w(a){return a instanceof Object}function u(a){return{}.toString.call(a)=="[object Function]"}var A,y,s,x,G,j=[],t=j.slice,B=window.document,H={},O={},C=B.defaultView.getComputedStyle,P=/^\s*<[^>]+>/,q=B.createElement("div");d.extend=function(a,b){for(y in b)a[y]=b[y];return a};d.qsa=x=function(a,b){return!b?h():t.call(a.querySelectorAll(b))};d.isFunction=u;d.isObject=w;d.isArray=
p;d.fn={forEach:j.forEach,map:j.map,reduce:j.reduce,push:j.push,indexOf:j.indexOf,concat:j.concat,ready:function(a){(B.readyState=="complete"||B.readyState=="loaded")&&a();B.addEventListener("DOMContentLoaded",a,!1);return this},get:function(a){return a===A?this:this[a]},size:function(){return this.length},remove:function(){return this.each(function(){this.parentNode.removeChild(this)})},each:function(a){this.forEach(function(b,f){a.call(b,f,b)});return this},filter:function(a){return d([].filter.call(this,
function(b){return x(b.parentNode,a).indexOf(b)>=0}))},add:function(a,b){return d(m(this.concat(d(a,b))))},is:function(a){return this.length>0&&d(this[0]).filter(a).length>0},not:function(a){var b=[];if(u(a)&&a.call!==A)this.each(function(f){a.call(this,f)||b.push(this)});else{var f=t.call(typeof a=="string"?this.filter(a):a instanceof NodeList?a:d(a));t.call(this).forEach(function(a){f.indexOf(a)<0&&b.push(a)})}return d(b)},eq:function(a){return d(this[a])},first:function(){return d(this[0])},last:function(){return d(this[this.length-
1])},find:function(a){var b;b=this.length==1?x(this[0],a):v(this.map(function(b){return x(b,a)}));return d(b)},closest:function(a,b){var f=this[0],c=x(b!==A?b:B,a);for(c.length===0&&(f=null);f&&f!==B&&c.indexOf(f)<0;)f=f.parentNode;return d(f!==B&&f)},parents:function(a){for(var b=[],f=this;f.length>0;)f=o(f.map(function(a){if((a=a.parentNode)&&a!==B&&b.indexOf(a)<0)return b.push(a),a}));return e(b,a)},parent:function(a){return e(m(o(this.pluck("parentNode"))),a)},children:function(a){return e(v(this.map(function(a){return t.call(a.children)})),
a)},siblings:function(a){return e(v(this.map(function(a){return t.call(a.parentNode.children).filter(function(b){return b!==a})})),a)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(a){return this.map(function(b){return b[a]})},show:function(){return this.each(function(){this.style.display=="none"&&(this.style.display=null);if(C(this,"").getPropertyValue("display")=="none"){var a=this.style,b=this.nodeName,f,d;H[b]||(f=B.createElement(b),B.body.insertAdjacentElement("beforeEnd",
f),d=C(f,"").getPropertyValue("display"),f.parentNode.removeChild(f),d=="none"&&(d="block"),H[b]=d);a.display=H[b]}})},replaceWith:function(a){return this.each(function(){var b=d(this),f=b.prev();b.remove();f.after(a)})},hide:function(){return this.css("display","none")},toggle:function(){return this.css("display")=="none"?this.show():this.hide()},prev:function(){return d(this.pluck("previousElementSibling"))},next:function(){return d(this.pluck("nextElementSibling"))},html:function(a){return a===
A?this.length>0?this[0].innerHTML:null:this.each(function(b){this.innerHTML=c(this,a,b,this.innerHTML)})},text:function(a){return a===A?this.length>0?this[0].innerText:null:this.each(function(){this.innerText=a})},attr:function(a,b){return typeof a=="string"&&b===A?this.length>0&&this[0].nodeName=="INPUT"&&this[0].type=="text"&&a=="value"?this.val():this.length>0?this[0].getAttribute(a)||(a in this[0]?this[0][a]:A):A:this.each(function(f){if(w(a))for(y in a)this.setAttribute(y,a[y]);else this.setAttribute(a,
c(this,b,f,this.getAttribute(a)))})},removeAttr:function(a){return this.each(function(){this.removeAttribute(a)})},data:function(a,b){return this.attr("data-"+a,b)},val:function(a){return a===A?this.length>0?this[0].value:null:this.each(function(){this.value=a})},offset:function(){if(this.length==0)return null;var a=this[0].getBoundingClientRect();return{left:a.left+B.body.scrollLeft,top:a.top+B.body.scrollTop,width:a.width,height:a.height}},css:function(a,b){if(b===A&&typeof a=="string")return this[0].style[r(a)]||
C(this[0],"").getPropertyValue(a);s="";for(y in a)s+=y+":"+a[y]+";";typeof a=="string"&&(s=a+":"+b);return this.each(function(){this.style.cssText+=";"+s})},index:function(a){return this.indexOf(d(a)[0])},hasClass:function(a){return g(a).test(this[0].className)},addClass:function(a){return this.each(function(b){G=[];var f=this.className;c(this,a,b,f).split(/\s+/g).forEach(function(a){d(this).hasClass(a)||G.push(a)},this);G.length&&(this.className+=(f?" ":"")+G.join(" "))})},removeClass:function(a){return this.each(function(b){G=
this.className;c(this,a,b,G).split(/\s+/g).forEach(function(a){G=G.replace(g(a)," ")});this.className=G.trim()})},toggleClass:function(a,b){return this.each(function(f){f=c(this,a,f,this.className);b!==A&&!b||d(this).hasClass(f)?d(this).removeClass(f):d(this).addClass(f)})},submit:function(){return this.each(function(){try{this.submit()}catch(a){}})}};["width","height"].forEach(function(a){d.fn[a]=function(){var b=this.offset();return b?b[a]:null}});["prepend","after","before","append"].forEach(function(c,
j){d.fn[c]=function(f){typeof f!="object"&&(f=a(f));return this.each(function(a,d){if(f.length||f instanceof h){dom=f;for(var c=0;c<dom.length;c++)b(j,d,dom[j<2?dom.length-c-1:c])}else b(j,d,f)})}});["append","prepend"].forEach(function(b){d.fn[b+"To"]=function(d){typeof d!="object"&&(d=a(d));d[b](this);return this}});h.prototype=d.fn;return d}();"$"in window||(window.$=g);(function(b){function c(a){var d=b.extend({originalEvent:a},a);v.forEach(function(b){d[b]=function(){return a[b].apply(a,arguments)}});
return d}function e(b,d,c,e){var h=b._zid||(b._zid=r++);(d||"").split(/\s/).forEach(function(d){a(b,d,c,e).forEach(function(a){delete m[h][a.i];b.removeEventListener(a.e,a.proxy,!1)})})}function d(a,d,c,e,g){var k=a._zid||(a._zid=r++),v=m[k]||(m[k]=[]);d.split(/\s/).forEach(function(d){var k=g||c,j=function(a){return k(a,a.data)},d=b.extend(h(d),{fn:c,proxy:j,sel:e,del:g,i:v.length});v.push(d);a.addEventListener(d.e,j,!1)})}function h(a){a=(""+a).split(".");return{e:a[0],ns:a.slice(1).sort().join(" ")}}
function a(a,b,d,c){b=h(b);if(b.ns)var e=RegExp("(?:^| )"+b.ns.replace(" "," .* ?")+"(?: |$)");return(m[a._zid||(a._zid=r++)]||[]).filter(function(a){return a&&(!b.e||a.e==b.e)&&(!b.ns||e.test(a.ns))&&(!d||a.fn==d)&&(!c||a.sel==c)})}var g=b.qsa,m={},r=1;b.event={add:d,remove:e};b.fn.bind=function(a,b){return this.each(function(){d(this,a,b)})};b.fn.unbind=function(a,b){return this.each(function(){e(this,a,b)})};b.fn.one=function(a,b){return this.each(function(){var c=this;d(this,a,function(){b();
e(c,a,arguments.callee)})})};var v=["preventDefault","stopImmediatePropagation","stopPropagation"];b.fn.delegate=function(a,e,h){return this.each(function(m,r){d(r,e,h,a,function(d,e){var m=d.target;g(r,a);m&&m!==r&&m!==document&&h.call(m,b.extend(c(d),{currentTarget:m,liveFired:r}),e)})})};b.fn.undelegate=function(a,b,d){return this.each(function(){e(this,b,d,a)})};b.fn.live=function(a,d){b(document.body).delegate(this.selector,a,d);return this};b.fn.die=function(a,d){b(document.body).undelegate(this.selector,
a,d);return this};b.fn.trigger=function(a,b){return this.each(function(){var d=document.createEvent("Events");d.initEvent(a,!0,!0);d.data=b;this.dispatchEvent(d)})}})(g);(function(b){function c(b){var c={},a=b.match(/(Android)\s+([\d.]+)/),e=b.match(/(iPhone\sOS)\s([\d_]+)/),g=b.match(/(iPad).*OS\s([\d_]+)/),r=b.match(/(webOS)\/([\d.]+)/),b=b.match(/(BlackBerry).*Version\/([\d.]+)/);if(a)c.android=!0,c.version=a[2];if(e)c.ios=!0,c.version=e[2].replace(/_/g,"."),c.iphone=!0;if(g)c.ios=!0,c.version=
g[2].replace(/_/g,"."),c.ipad=!0;if(r)c.webos=!0,c.version=r[2];if(b)c.blackberry=!0,c.version=b[2];return c}b.os=c(navigator.userAgent);b.__detect=c;var e=navigator.userAgent.match(/WebKit\/([\d.]+)/);b.browser=e?{webkit:!0,version:e[1]}:{webkit:!1}})(g);(function(b,c){b.fn.anim=function(e,d,h,a){var g=[],m,r;for(r in e)r==="opacity"?m=e[r]:g.push(r+"("+e[r]+")");b.isFunction(a)&&this.one("webkitTransitionEnd",a);return this.css({"-webkit-transition":"all "+(d!==c?d:0.5)+"s "+(h||""),"-webkit-transform":g.join(" "),
opacity:m})}})(g);(function(b){function c(){}var e=0,d=b.isObject,h;b.ajaxJSONP=function(a){var d="jsonp"+ ++e,c=document.createElement("script");window[d]=function(b){a.success(b);delete window[d]};c.src=a.url.replace(/=\?/,"="+d);b("head").append(c)};b.ajaxSettings={type:"GET",beforeSend:c,success:c,error:c,complete:c,accepts:{script:"text/javascript, application/javascript",json:"application/json",xml:"application/xml, text/xml",html:"text/html",text:"text/plain"}};b.ajax=function(a){var a=a||
{},c=b.extend({},a);for(h in b.ajaxSettings)c[h]||(c[h]=b.ajaxSettings[h]);if(/=\?/.test(c.url))return b.ajaxJSONP(c);if(!c.url)c.url=window.location.toString();if(c.data&&!c.contentType)c.contentType="application/x-www-form-urlencoded";if(d(c.data))c.data=b.param(c.data);if(c.type.match(/get/i)&&c.data)a=c.data,c.url.match(/\?.*=/)?a="&"+a:a[0]!="?"&&(a="?"+a),c.url+=a;var e=c.accepts[c.dataType],g=new XMLHttpRequest;c.headers=b.extend({"X-Requested-With":"XMLHttpRequest"},c.headers||{});e&&(c.headers.Accept=
e);g.onreadystatechange=function(){if(g.readyState==4){var a,b=!1;if(g.status>=200&&g.status<300||g.status==0){if(e=="application/json")try{a=JSON.parse(g.responseText)}catch(d){b=d}else a=g.responseText;b?c.error(g,"parsererror",b):c.success(a,"success",g)}else b=!0,c.error(g,"error");c.complete(g,b?"error":"success")}};g.open(c.type,c.url,!0);if(c.beforeSend(g,c)===!1)return g.abort(),!1;if(c.xhrFields)for(var v in c.xhrFields)g[v]=c.xhrFields[v];if(c.contentType)c.headers["Content-Type"]=c.contentType;
for(name in c.headers)g.setRequestHeader(name,c.headers[name]);g.send(c.data);return g};b.get=function(a,c){b.ajax({url:a,success:c})};b.post=function(a,c,d,e){b.isFunction(c)&&(e=e||d,d=c,c=null);b.ajax({type:"POST",url:a,data:c,success:d,dataType:e})};b.getJSON=function(a,c){b.ajax({url:a,success:c,dataType:"json"})};b.fn.load=function(a,c){if(!this.length)return this;var d=this,e=a.split(/\s/),h;e.length>1&&(a=e[0],h=e[1]);b.get(a,function(a){d.html(h?b(document.createElement("div")).html(a).find(h).html():
a);c&&c()});return this};b.param=function(a,c){var e=[],g=function(a,b){e.push(encodeURIComponent(c?c+"["+a+"]":a)+"="+encodeURIComponent(b))},v=b.isArray(a);for(h in a)d(a[h])?e.push(b.param(a[h],c?c+"["+h+"]":h)):g(v?"":h,a[h]);return e.join("&").replace("%20","+")}})(g);(function(b){var c={},e;b(document).ready(function(){b(document.body).bind("touchstart",function(b){var h=Date.now(),a=h-(c.last||h);c.target="tagName"in b.touches[0].target?b.touches[0].target:b.touches[0].target.parentNode;e&&
clearTimeout(e);c.x1=b.touches[0].pageX;c.y1=b.touches[0].pageY;if(a>0&&a<=250)c.isDoubleTap=!0;c.last=h}).bind("touchmove",function(b){c.x2=b.touches[0].pageX;c.y2=b.touches[0].pageY}).bind("touchend",function(){c.isDoubleTap?(b(c.target).trigger("doubleTap"),c={}):c.x2>0||c.y2>0?((Math.abs(c.x1-c.x2)>30||Math.abs(c.y1-c.y2)>30)&&b(c.target).trigger("swipe")&&b(c.target).trigger("swipe"+(Math.abs(c.x1-c.x2)>=Math.abs(c.y1-c.y2)?c.x1-c.x2>0?"Left":"Right":c.y1-c.y2>0?"Up":"Down")),c.x1=c.x2=c.y1=
c.y2=c.last=0):"last"in c&&(e=setTimeout(function(){e=null;b(c.target).trigger("tap");c={}},250))}).bind("touchcancel",function(){c={}})});["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"].forEach(function(c){b.fn[c]=function(b){return this.bind(c,b)}})})(g);return g}()};Joshfire.definedModules["joshfire/input"]=function(){return function(g){return g({__constructor:function(b){this.app=b},setup:function(b){b(null)}})}(Joshfire.loadModule("joshfire/class"))};
Joshfire.definedModules["joshfire/adapters/ios/inputs/touch"]=function(){return function(g,b,c){return b(g,{setup:function(b){var d=this;c(window).live(function(){try{return document.createEvent("TouchEvent"),!0}catch(b){return!1}}()?"touchstart click tap MozTouchDown":"mousedown",function(b){for(var a=this;a&&a!=document;a=a.parentNode)if(c(a).attr("data-josh-ui-path")){var e=d.app.ui.element(c(a).attr("data-josh-ui-path"));(b.type=="mousedown"||!e.hasScroller&&b.type!="click"||b.type=="click"&&
e.hasScroller)&&d.app.ui.element(c(a).attr("data-josh-ui-path")).publish("input",["enter",c(a).attr("data-josh-grid-id")],!0);break}});b(null)}})}(Joshfire.loadModule("joshfire/input"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/zepto"))};
Joshfire.definedModules["joshfire/adapters/ios/app"]=function(){return function(g,b,c,e,d,h){Joshfire.getScript=function(){};return g(b,{getDefaultOptions:function(){return e.extend(this.__super(),{inputs:[h],autoInsert:!0,parentElement:document.body})},__constructor:function(a){var b=this;this.options=e.extend(this.getDefaultOptions(),a||{});b.options.autoInsert&&b.subscribe("ready",function(){c.onReady(function(){b.insert(b.options.parentElement)})});this.__super(a)},insert:function(a){this.baseHtmlEl=
e.isString(a)?document.getElementById(a):a;this.publish("beforeInsert",[this.baseHtmlEl],!0);this.ui.element("").insert(this.baseHtmlEl);this.publish("afterInsert")}})}(Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/app"),Joshfire.loadModule("joshfire/main"),Joshfire.loadModule("joshfire/vendor/underscore"),Joshfire.loadModule("joshfire/vendor/zepto"),Joshfire.loadModule("joshfire/adapters/ios/inputs/touch"))};
Joshfire.definedModules["joshfire/utils/pool"]=function(){return function(){var g=function(b){var c={},e,d,h=null,b=Math.max(+b|0,1);e=[];for(d=0;d<b;d+=1)e.push([]);c.size=function(){var a;if(h===null)for(a=h=0;a<b;a+=1)h+=e[a].length;return h};c.enqueue=function(a,c){c=c&&+c|0||0;h=null;if(c&&(c<0||c>=b))c=b-1;e[c].push(a)};c.dequeue=function(){var a=null,b,c=e.length;h=null;for(b=0;b<c;b+=1)if(e[b].length){a=e[b].shift();break}return a};return c};return function(b){function c(){var a=r.size();
p("dispense() clients="+a+" available="+m.length);a>0&&(m.length>0?(p("dispense() - reusing obj"),objWithTimeout=m.shift(),r.dequeue()(objWithTimeout.obj)):v<b.max&&(v+=1,p("dispense() - creating obj - count="+v),b.create(function(a){var b=r.dequeue();b?b(a):h.release(a)})))}function e(){o||(o=!0,setTimeout(d,k))}function d(){var a=[],c=(new Date).getTime(),d,h,g;o=!1;d=0;for(h=m.length;d<h;d+=1)g=m[d].timeout,c<g?a.push(m[d]):(p("removeIdle() destroying obj - now:"+c+" timeout:"+g),g=m[d].obj,v-=
1,b.destroy(g));m=a;h=m.length;h>0?(p("availableObjects.length="+h),e()):p("removeIdle() all objects removed")}var h={},a=b.idleTimeoutMillis||3E4,k=b.reapIntervalMillis||1E3,m=[],r=new g(b.priorityRange||1),v=0,o=!1,p=b.log?typeof b.log==="function"?b.log:function(){}:function(){};b.max=Math.max(b.max,1);h.acquire=function(a,b){r.enqueue(a,b);c()};h.borrow=function(a,b){p("borrow() is deprecated. use acquire() instead");h.acquire(a,b)};h.release=function(b){b={obj:b,timeout:(new Date).getTime()+
a};m.push(b);p("timeout: "+b.timeout);c();e()};h.returnToPool=function(a){p("returnToPool() is deprecated. use release() instead");h.release(a)};return h}}()};
Joshfire.definedModules["joshfire/utils/datasource"]=function(){return function(g,b,c,e){return b({__constructor:function(b){this.options=b||{};this.cache={};this.pool=new c({name:"joshfire",max:this.options.concurrency||1,create:function(b){b()},destroy:function(){}})},testCache:function(b,c){if(b.cache){var a=this.hash(b);if(this.cache[a]&&this.cache[a].time+b.cache*1E3>+new Date)return c(null,JSON.parse(JSON.stringify(this.cache[a].result))),!0}return!1},request:function(b,c){var a=this;if(!this.testCache(b,
c)){var g=e.extend({},b),m=function(e,g){a.pool.release();if(c){if(e)return c(e);b.cache&&(a.cache[a.hash(b)]={result:JSON.parse(JSON.stringify(g)),time:+new Date});c(null,g)}};this.pool.acquire(function(){if(!a.testCache(b,c))return a._request(g,m)})}},_request:function(b){b.error("no backend included!")},hash:function(b){return JSON.stringify([b.url,b.dataType,b.data,b.type,b.username,b.password])}})}(Joshfire.loadModule("joshfire/main"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/utils/pool"),
Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["joshfire/adapters/ios/utils/datasource"]=function(){return function(g,b,c,e){return b(g,{_request:function(b,h){b.dataType=="jsonp"&&(b.url+=b.url.match(/\?.*=/)?"&callback=?&":"?callback=?",e.each(b.data,function(a,c){b.url+="&"+c+"="+a}));b.success=function(a){h(null,a)};b.error=function(a){h(a)};return c.ajax(b)}})}(Joshfire.loadModule("joshfire/utils/datasource"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/zepto"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["src/api/ted"]=function(){return function(g,b){var c=new g,e=function(b){var a=[],c;for(c in b)a.push(c+"="+encodeURIComponent(b[c]));return a.join("&")},d={query:function(b,a){c.request({url:"http://ted-api.appspot.com/rest/v1/json/"+b,dataType:"jsonp",cache:"no",jsonp:"callback"},function(b,c){return b?a(b,null):a(null,c)})},completeTalks:function(c,a){d.query("Talker?page_size=200&fin_key="+encodeURIComponent(b.pluck(c,"talker").join(",")),function(d,e){if(d)return a(d);
if(e.list.Talker&&!b.isArray(e.list.Talker))e.list.Talker=[e.list.Talker];b.each(c,function(a){b.each(e.list.Talker,function(b){if(a.talker==b.key)a.talker=b})});a(null,c)})},getTalks:function(c,a){var g={page_size:c.limit,offset:c.skip};if(c.filter){if(c.filter.theme){d.query("TalkTheme?"+e(g)+"&feq_theme="+encodeURIComponent(c.filter.theme),function(e,g){if(e)return a(e);delete c.filter.theme;c.filter.id=g.list.TalkTheme?b.isArray(g.list.TalkTheme)?b.pluck(g.list.TalkTheme,"talk"):g.list.TalkTheme.talk:
null;d.getTalks(c,a)});return}if(c.filter.id)b.isArray(c.filter.id)?g.fin_key=c.filter.id.join(","):g.feq_key=c.filter.id}c.sort&&c.sort.date&&(g.ordering=(c.sort.date==-1?"-":"")+"tedid");d.query("Talk?"+e(g),function(c,e){if(c)return a(c);d.completeTalks(b.isArray(e.list.Talk)?e.list.Talk:[e.list.Talk],function(d,e){if(d)return a(c);a(null,b.map(e,function(a){return{id:a.tedid,label:a.name.indexOf(": ")==-1?a.name:a.name.substring(a.name.indexOf(": ")+2),summary:a.shortsummary,image:a.image,talker:a.talker,
key:a.key,duration:a.duration_postad}}))})})},getThemes:function(c,a){d.query("Theme?page_size="+c.limit+"&offset="+c.skip,function(c,d){if(c)return a(c);childCallback(null,b.map(d.list.Theme,function(a){return{id:a.key,label:a.name,image:a.image}}),{cache:86400})})},getVideo:function(b,a){d.query("Video?feq_talk="+b,function(b,c){if(b)return a(b);a(null,c.list.Video)})}};return d}(Joshfire.loadModule("joshfire/adapters/ios/utils/datasource"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["src/api/tedx"]=function(){return function(g,b){var c=new g;return{getTEDxList:function(e,d){var h=!1;if(e.filter&&e.filter.id)h=e.filter.id;c.request({url:"https://spreadsheets.google.com/feeds/list/0ArnpnObxnz4RdHJhSVlURUlFdk9pc09jOHkxLWRHa1E/od6/public/values?hl=fr&alt=json-in-script",dataType:"jsonp",cache:3600},function(a,c){if(a)return d(a);var e=[];b.each(c.feed.entry,function(a,b){if(a.gsx$tedxname.$t==h||!h){var c=h?a.gsx$eventname.$t:a.gsx$formattedname.$t+" "+a.gsx$eventname.$t,
d=a.gsx$youtubeplaylist.$t,g=d.match(/list\=PL([0-9A-Z]+)/);g&&(d=g[1]);(g=d.match(/view_play_list\?p\=([0-9A-Z]+)/))&&(d=g[1]);e.push({id:b,image:a.gsx$eventimage.$t,label:c,meta:{title:a.gsx$formattedname.$t,website:a.gsx$website.$t,twitter:a.gsx$twitteraccount.$t,youtube:d}})}});d(null,e)})},formatTalkDataFromYoutube:function(b){var c=b.label,c=c.replace(/tedx( )?([a-z0-9]+)( 20[0-9]{2})?/ig,""),c=c.replace(/[0-9]{2,4}\/[0-9]{2}\/[0-9]{2,4}/g,""),c=c.replace(/^[ \-\:]+/,""),c=c.replace(/[ \-\:]+$/,
"");if(c.indexOf(" - ")>0)b.talker={name:c.substring(0,c.indexOf(" - "))},c=c.substring(c.indexOf(" - ")+3);c=c.replace(/^[ \-\:]+/,"");c=c.replace(/[ \-\:]+$/,"");b.label=c;return b}}}(Joshfire.loadModule("joshfire/adapters/ios/utils/datasource"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["src/api/youtube"]=function(){return function(g,b){return g({__constructor:function(){this.datasource=new b},request:function(b,e){return this.datasource.request({url:"http://gdata.youtube.com/feeds/api/"+b,dataType:"jsonp",cache:!0},function(b,c){e(b,c)})},formatVideos:function(b){for(var e=0,d=b.length;e<d;e++)b[e]={id:b[e].id.$t.replace(/^.*\//,""),type:"video",source:"youtube",summary:b[e].content.$t,label:b[e].title.$t,image:b[e].media$group.media$thumbnail?b[e].media$group.media$thumbnail[0].url:
"",url:b[e].link[0].href.replace("http://www.youtube.com/watch?v=","").replace(/\&.*$/,"")};return b},getPlaylistVideos:function(b,e){var d=this;this.request("playlists/"+b+"?alt=json-in-script&max-results=50",function(b,a){if(b)return e(b,a);e(null,d.formatVideos(a.feed.entry))})},getUserVideos:function(b,e){var d=this;this.request("/users/"+b+"/uploads?alt=json-in-script&max-results=50",function(b,a){if(b)return e(b,a);e(null,d.formatVideos(a.feed.entry))})}})}(Joshfire.loadModule("joshfire/class"),
Joshfire.loadModule("joshfire/adapters/ios/utils/datasource"))};
Joshfire.definedModules["src/api/twitter"]=function(){return function(g,b){return g({__constructor:function(){this.datasource=new b},request:function(b,e){return this.datasource.request({url:b,dataType:"jsonp",cache:!0},function(b,c){e(b,c)})},tweetsFromUser:function(b,e,d){this.request("http://twitter.com/status/user_timeline/"+b+".json?count="+e.limit+"&page="+(e.skip?parseInt(e.limit/e.skip)+1:1),d)}})}(Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/adapters/ios/utils/datasource"))};
Joshfire.definedModules["src/tree.data"]=function(){return function(g,b,c,e,d,h,a,k){var m=new h,r=new a;new k;return g(b,{buildTree:function(){var a=this.app,b=a.data;return[{id:"ted",children:[{id:"themes",children:function(a,d){e.getThemes(a,function(e,g){if(e)return d(e,g);d(null,c.map(g,function(c){c.children=function(d,e){a.filter={theme:c.id};b.fetch("/ted/talks/all/",d,function(a,b){e(a,b,{cache:3600})})};return c}),{cache:86400})})}},{id:"talks",children:[{id:"latest",children:function(a,
c){a.sort={date:-1};b.fetch("/ted/talks/all/",a,function(a,b){c(a,b,{cache:3600})})}},{id:"favorites",label:"Favorites",children:function(b,c){if(!a.userSession||!a.userSession.mytv||!a.userSession.mytv.favorites||!a.data.get("/ted/talks/favorites/")||!a.data.get("/ted/talks/favorites/").length)return c("No favorites yet",null);c(null,a.data.get("/ted/talks/favorites/"))}},{id:"all",children:function(a,b){e.getTalks(a,b)}}]}]},{id:"twitter",children:function(b,c){r.tweetsFromUser(a.tedxmeta.twitter,
b,c)}},{id:"tedx",children:function(b,e){var g=function(b,g){if(b)return e(b,g);if(!g.length)return e("no TEDx event");TEDXID&&a.setTEDxMode(g[0].meta);e(null,c.map(g,function(a){a.children=function(b,e){m.getPlaylistVideos(a.meta.youtube,function(a,b){e(a,c.map(b,d.formatTalkDataFromYoutube))})};return a}),{cache:3600})};TEDXLIST?g(null,TEDXLIST):d.getTEDxList(TEDXID?{filter:{id:TEDXID}}:{},g)}}]}})}(Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/tree.data"),Joshfire.loadModule("joshfire/vendor/underscore"),
Joshfire.loadModule("src/api/ted"),Joshfire.loadModule("src/api/tedx"),Joshfire.loadModule("src/api/youtube"),Joshfire.loadModule("src/api/twitter"),Joshfire.loadModule("joshfire/adapters/ios/utils/datasource"))};
Joshfire.definedModules["joshfire/uielements/list"]=function(){return function(g,b,c){return b(g,{type:"List",data:[],getDefaultOptions:function(){return c.extend(this.__super(),{persistSelection:!0,defaultSelection:[],multiple:!1,itemTemplate:"<%= itemInner %>",itemInnerTemplate:"<%= item.label %>",loadingTemplate:"Loading..."})},init:function(){this.setData(this.options.data||[]);this.setState("selection",this.options.defaultSelection)},setDataPath:function(b){b.match(/\/$/)||(b+="/");this.__super(b)},
resetSelection:function(){this.selectById(this.options.defaultSelection)},selectByIndex:function(b){c.isArray(b)||(b=[b]);for(var d=[],g=0,a=b.length;g<a;g++)d[g]=this.data[b[g]].id;this.selectById(d)},selectById:function(b){var d=this;c.isArray(b)||(b=[b]);c.isEqual(this.selection,b)||(this.setState("selection",b),this.publish("select",[b]),this.app.data.publish("select",[c.map(b,function(b){return d.dataPath+b})]))},getDataById:function(b){for(var c=0,g=this.data.length;c<g;c++)if(this.data[c].id==
b)return this.data[c];return null}})}(Joshfire.loadModule("joshfire/adapters/ios/uielement"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["joshfire/utils/grid"]=function(){return function(g,b){return g({moves:{up:{down:[0,1],up:[0,-1],right:[1,0],left:[-1,0]},down:{down:[0,-1],up:[0,1],right:[1,0],left:[-1,0]},right:{down:[1,0],up:[-1,0],left:[0,1],right:[0,-1]},left:{down:[1,0],up:[-1,0],left:[0,-1],right:[0,1]}},__constructor:function(b){this.options=b;this.options.dimensions=b.dimensions||2;this.options.orientation=b.orientation||"down";this.options.direction=b.direction||"ltr";this.currentCoords=this.options.defaultPosition||
!1;this.lastCoords=this.options.defaultPosition||!1;this.id2coords={};b.grid&&this.setGrid(b.grid);this.options.inputSource&&this.subscribeToInputEvents(this.options.inputSource)},setGrid:function(b){this.grid=b;this.id2coords={};for(b=0;b<this.grid.length;b++)for(var e=0;e<this.grid[b].length;e++)this.grid[b][e]&&(this.id2coords[this.grid[b][e].id]=[e,b]);if(this.options.onGrid)this.options.onGrid(this.grid)},getCoordinatesById:function(b){return this.id2coords[b]},get:function(b){return this.grid[b[1]][b[0]]},
goTo:function(b){if(!this.currentCoords||b[0]!==this.currentCoords[0]||b[1]!==this.currentCoords[1])if(this.lastCoords=this.currentCoords=b,this.options.onChange)this.options.onChange(this.currentCoords,this.get(this.currentCoords));if(this.options.onMove)this.options.onMove(this.currentCoords,this.get(this.currentCoords))},goToId:function(b){return this.id2coords[b]?(this.goTo(this.id2coords[b]),!0):!1},go:function(c){if(c=="default")return this.goTo(this.options.defaultPosition);else if(c=="last")return this.goTo(this.lastCoords);
var e=this.moves[this.options.orientation][c][0]+this.currentCoords[0],d=this.moves[this.options.orientation][c][1]+this.currentCoords[1];if(d<0||d>=this.grid.length||!this.grid[d]||e<0||e>=this.grid[d].length||!this.grid[d][e]){if(this.options.sticky){if(this.grid[d]&&this.moves[this.options.orientation][c][0]==0){for(var g=!1,a=0;a<this.grid[d].length;a++)if(this.grid[d][a]&&(g===!1||Math.abs(e-a)<Math.abs(e-g)))g=a;if(g!==!1){this.goTo([g,d]);return}}if(this.moves[this.options.orientation][c][1]==
0){g=!1;for(a=0;a<this.grid.length;a++)if(this.grid[a]&&this.grid[a][e]&&(g===!1||Math.abs(d-a)<Math.abs(d-g)))g=a;if(g!==!1){this.goTo([e,g]);return}}}var k=this.moves[this.options.orientation][c].join("-"),m=!1;b.each(this.moves.down,function(b,a){b.join("-")==k&&(m=a)});if(this.options.onExit)this.options.onExit(c,m)}else this.goTo([e,d])},handleInput:function(b){var e=b[0];if(this.options.direction=="rtl"&&(this.options.orientation=="up"||this.options.orientation=="down"))e=="left"?e="right":
e=="right"&&(e="left");if(e=="left"||e=="right"||e=="down"||e=="up")this.go(e);else if(e=="hover")this.goToId(b[1]);else if(e=="enter"&&(this.goToId(b[1]),this.options.onValidate))this.options.onValidate(this.currentCoords,this.get(this.currentCoords))},subscribeToInputEvents:function(b){var e=this;b.subscribe("input",function(b,c){e.handleInput(c)})}})}(Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["joshfire/vendor/iscroll"]=function(){return function(){(function(){var g=Math,b=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",c="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,e="ontouchstart"in window,d=b+"Transform"in document.documentElement.style,h=/android/gi.test(navigator.appVersion),a=/iphone|ipad/gi.test(navigator.appVersion),k=/playbook/gi.test(navigator.appVersion),m=a||k,r=function(){return window.requestAnimationFrame||
window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){return setTimeout(b,1)}}(),v=window.cancelRequestAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout,o="onorientationchange"in window?"orientationchange":"resize",p=e?"touchstart":"mousedown",w=e?"touchmove":"mousemove",u=e?
"touchend":"mouseup",A=e?"touchcancel":"mouseup",y=b=="Moz"?"DOMMouseScroll":"mousewheel",s="translate"+(c?"3d(":"("),x=c?",0)":")",k=function(g,j){var t=this,k;t.wrapper=typeof g=="object"?g:document.getElementById(g);t.wrapper.style.overflow="hidden";t.scroller=t.wrapper.children[0];t.options={hScroll:!0,vScroll:!0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:h,hideScrollbar:a,fadeScrollbar:a&&
c,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(b){b.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(k in j)t.options[k]=j[k];t.options.useTransform=d?t.options.useTransform:!1;t.options.hScrollbar=t.options.hScroll&&t.options.hScrollbar;t.options.vScrollbar=
t.options.vScroll&&t.options.vScrollbar;t.options.zoom=t.options.useTransform&&t.options.zoom;t.options.useTransition=m&&t.options.useTransition;t.scroller.style[b+"TransitionProperty"]=t.options.useTransform?"-"+b.toLowerCase()+"-transform":"top left";t.scroller.style[b+"TransitionDuration"]="0";t.scroller.style[b+"TransformOrigin"]="0 0";t.options.useTransition&&(t.scroller.style[b+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)");t.options.useTransform?t.scroller.style[b+"Transform"]=
s+"0,0"+x:t.scroller.style.cssText+=";position:absolute;top:0;left:0";if(t.options.useTransition)t.options.fixedScrollbar=!0;t.refresh();t._bind(o,window);t._bind(p);e||(t._bind("mouseout",t.wrapper),t._bind(y));if(t.options.checkDOMChanges)t.checkDOMTime=setInterval(function(){t._checkDOMChanges()},500)};k.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(b){switch(b.type){case p:if(!e&&b.button!==0)break;
this._start(b);break;case w:this._move(b);break;case u:case A:this._end(b);break;case o:this._resize();break;case y:this._wheel(b);break;case "mouseout":this._mouseout(b);break;case "webkitTransitionEnd":this._transitionEnd(b)}},_checkDOMChanges:function(){!this.moved&&!this.zoomed&&!(this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale)&&this.refresh()},_scrollbar:function(a){var c=document,e;if(this[a+"Scrollbar"]){if(!this[a+
"ScrollbarWrapper"]){e=c.createElement("div");this.options.scrollbarClass?e.className=this.options.scrollbarClass+a.toUpperCase():e.style.cssText="position:absolute;z-index:100;"+(a=="h"?"height:7px;bottom:1px;left:2px;right:"+(this.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(this.hScrollbar?"7":"2")+"px;top:2px;right:1px");e.style.cssText+=";pointer-events:none;-"+b+"-transition-property:opacity;-"+b+"-transition-duration:"+(this.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(this.options.hideScrollbar?
"0":"1");this.wrapper.appendChild(e);this[a+"ScrollbarWrapper"]=e;e=c.createElement("div");if(!this.options.scrollbarClass)e.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);-"+b+"-background-clip:padding-box;-"+b+"-box-sizing:border-box;"+(a=="h"?"height:100%":"width:100%")+";-"+b+"-border-radius:3px;border-radius:3px";e.style.cssText+=";pointer-events:none;-"+b+"-transition-property:-"+b+"-transform;-"+b+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);-"+
b+"-transition-duration:0;-"+b+"-transform:"+s+"0,0"+x;this.options.useTransition&&(e.style.cssText+=";-"+b+"-transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)");this[a+"ScrollbarWrapper"].appendChild(e);this[a+"ScrollbarIndicator"]=e}a=="h"?(this.hScrollbarSize=this.hScrollbarWrapper.clientWidth,this.hScrollbarIndicatorSize=g.max(g.round(this.hScrollbarSize*this.hScrollbarSize/this.scrollerW),8),this.hScrollbarIndicator.style.width=this.hScrollbarIndicatorSize+"px",this.hScrollbarMaxScroll=
this.hScrollbarSize-this.hScrollbarIndicatorSize,this.hScrollbarProp=this.hScrollbarMaxScroll/this.maxScrollX):(this.vScrollbarSize=this.vScrollbarWrapper.clientHeight,this.vScrollbarIndicatorSize=g.max(g.round(this.vScrollbarSize*this.vScrollbarSize/this.scrollerH),8),this.vScrollbarIndicator.style.height=this.vScrollbarIndicatorSize+"px",this.vScrollbarMaxScroll=this.vScrollbarSize-this.vScrollbarIndicatorSize,this.vScrollbarProp=this.vScrollbarMaxScroll/this.maxScrollY);this._scrollbarPos(a,!0)}else this[a+
"ScrollbarWrapper"]&&(d&&(this[a+"ScrollbarIndicator"].style[b+"Transform"]=""),this[a+"ScrollbarWrapper"].parentNode.removeChild(this[a+"ScrollbarWrapper"]),this[a+"ScrollbarWrapper"]=null,this[a+"ScrollbarIndicator"]=null)},_resize:function(){var b=this;setTimeout(function(){b.refresh()},h?200:0)},_pos:function(a,c){a=this.hScroll?a:0;c=this.vScroll?c:0;this.options.useTransform?this.scroller.style[b+"Transform"]=s+a+"px,"+c+"px"+x+" scale("+this.scale+")":(a=g.round(a),c=g.round(c),this.scroller.style.left=
a+"px",this.scroller.style.top=c+"px");this.x=a;this.y=c;this._scrollbarPos("h");this._scrollbarPos("v")},_scrollbarPos:function(a,c){var d=a=="h"?this.x:this.y;if(this[a+"Scrollbar"])d*=this[a+"ScrollbarProp"],d<0?(this.options.fixedScrollbar||(d=this[a+"ScrollbarIndicatorSize"]+g.round(d*3),d<8&&(d=8),this[a+"ScrollbarIndicator"].style[a=="h"?"width":"height"]=d+"px"),d=0):d>this[a+"ScrollbarMaxScroll"]&&(this.options.fixedScrollbar?d=this[a+"ScrollbarMaxScroll"]:(d=this[a+"ScrollbarIndicatorSize"]-
g.round((d-this[a+"ScrollbarMaxScroll"])*3),d<8&&(d=8),this[a+"ScrollbarIndicator"].style[a=="h"?"width":"height"]=d+"px",d=this[a+"ScrollbarMaxScroll"]+(this[a+"ScrollbarIndicatorSize"]-d))),this[a+"ScrollbarWrapper"].style[b+"TransitionDelay"]="0",this[a+"ScrollbarWrapper"].style.opacity=c&&this.options.hideScrollbar?"0":"1",this[a+"ScrollbarIndicator"].style[b+"Transform"]=s+(a=="h"?d+"px,0":"0,"+d+"px")+x},_start:function(a){var c=e?a.touches[0]:a,d,h;if(this.enabled){this.options.onBeforeScrollStart&&
this.options.onBeforeScrollStart.call(this,a);(this.options.useTransition||this.options.zoom)&&this._transitionTime(0);this.zoomed=this.animating=this.moved=!1;this.dirY=this.dirX=this.absDistY=this.absDistX=this.distY=this.distX=0;if(this.options.zoom&&e&&a.touches.length>1)h=g.abs(a.touches[0].pageX-a.touches[1].pageX),d=g.abs(a.touches[0].pageY-a.touches[1].pageY),this.touchesDistStart=g.sqrt(h*h+d*d),this.originX=g.abs(a.touches[0].pageX+a.touches[1].pageX-this.wrapperOffsetLeft*2)/2-this.x,this.originY=
g.abs(a.touches[0].pageY+a.touches[1].pageY-this.wrapperOffsetTop*2)/2-this.y,this.options.onZoomStart&&this.options.onZoomStart.call(this,a);if(this.options.momentum&&(this.options.useTransform?(d=getComputedStyle(this.scroller,null)[b+"Transform"].replace(/[^0-9-.,]/g,"").split(","),h=d[4]*1,d=d[5]*1):(h=getComputedStyle(this.scroller,null).left.replace(/[^0-9-]/g,"")*1,d=getComputedStyle(this.scroller,null).top.replace(/[^0-9-]/g,"")*1),h!=this.x||d!=this.y))this.options.useTransition?this._unbind("webkitTransitionEnd"):
v(this.aniTime),this.steps=[],this._pos(h,d);this.absStartX=this.x;this.absStartY=this.y;this.startX=this.x;this.startY=this.y;this.pointX=c.pageX;this.pointY=c.pageY;this.startTime=a.timeStamp||(new Date).getTime();this.options.onScrollStart&&this.options.onScrollStart.call(this,a);this._bind(w);this._bind(u);this._bind(A)}},_move:function(a){var c=e?a.touches[0]:a,d=c.pageX-this.pointX,h=c.pageY-this.pointY,k=this.x+d,m=this.y+h,o=a.timeStamp||(new Date).getTime();this.options.onBeforeScrollMove&&
this.options.onBeforeScrollMove.call(this,a);if(this.options.zoom&&e&&a.touches.length>1)k=g.abs(a.touches[0].pageX-a.touches[1].pageX),m=g.abs(a.touches[0].pageY-a.touches[1].pageY),this.touchesDist=g.sqrt(k*k+m*m),this.zoomed=!0,c=1/this.touchesDistStart*this.touchesDist*this.scale,c<this.options.zoomMin?c=0.5*this.options.zoomMin*Math.pow(2,c/this.options.zoomMin):c>this.options.zoomMax&&(c=2*this.options.zoomMax*Math.pow(0.5,this.options.zoomMax/c)),this.lastScale=c/this.scale,k=this.originX-
this.originX*this.lastScale+this.x,m=this.originY-this.originY*this.lastScale+this.y,this.scroller.style[b+"Transform"]=s+k+"px,"+m+"px"+x+" scale("+c+")",this.options.onZoom&&this.options.onZoom.call(this,a);else{this.pointX=c.pageX;this.pointY=c.pageY;if(k>0||k<this.maxScrollX)k=this.options.bounce?this.x+d/2:k>=0||this.maxScrollX>=0?0:this.maxScrollX;if(m>this.minScrollY||m<this.maxScrollY)m=this.options.bounce?this.y+h/2:m>=this.minScrollY||this.maxScrollY>=0?this.minScrollY:this.maxScrollY;if(this.absDistX<
6&&this.absDistY<6)this.distX+=d,this.distY+=h,this.absDistX=g.abs(this.distX),this.absDistY=g.abs(this.distY);else{if(this.options.lockDirection)if(this.absDistX>this.absDistY+5)m=this.y,h=0;else if(this.absDistY>this.absDistX+5)k=this.x,d=0;this.moved=!0;this._pos(k,m);this.dirX=d>0?-1:d<0?1:0;this.dirY=h>0?-1:h<0?1:0;if(o-this.startTime>300)this.startTime=o,this.startX=this.x,this.startY=this.y;this.options.onScrollMove&&this.options.onScrollMove.call(this,a)}}},_end:function(a){if(!(e&&a.touches.length!=
0)){var c=this,d=e?a.changedTouches[0]:a,h,k,m={dist:0,time:0},o={dist:0,time:0},p=(a.timeStamp||(new Date).getTime())-c.startTime,q=c.x,r=c.y;c._unbind(w);c._unbind(u);c._unbind(A);c.options.onBeforeScrollEnd&&c.options.onBeforeScrollEnd.call(c,a);if(c.zoomed)q=c.scale*c.lastScale,q=Math.max(c.options.zoomMin,q),q=Math.min(c.options.zoomMax,q),c.lastScale=q/c.scale,c.scale=q,c.x=c.originX-c.originX*c.lastScale+c.x,c.y=c.originY-c.originY*c.lastScale+c.y,c.scroller.style[b+"TransitionDuration"]="200ms",
c.scroller.style[b+"Transform"]=s+c.x+"px,"+c.y+"px"+x+" scale("+c.scale+")",c.zoomed=!1,c.refresh(),c.options.onZoomEnd&&c.options.onZoomEnd.call(c,a);else{if(c.moved){if(p<300&&c.options.momentum){m=q?c._momentum(q-c.startX,p,-c.x,c.scrollerW-c.wrapperW+c.x,c.options.bounce?c.wrapperW:0):m;o=r?c._momentum(r-c.startY,p,-c.y,c.maxScrollY<0?c.scrollerH-c.wrapperH+c.y-c.minScrollY:0,c.options.bounce?c.wrapperH:0):o;q=c.x+m.dist;r=c.y+o.dist;if(c.x>0&&q>0||c.x<c.maxScrollX&&q<c.maxScrollX)m={dist:0,
time:0};if(c.y>c.minScrollY&&r>c.minScrollY||c.y<c.maxScrollY&&r<c.maxScrollY)o={dist:0,time:0}}if(m.dist||o.dist){p=g.max(g.max(m.time,o.time),10);if(c.options.snap)m=q-c.absStartX,o=r-c.absStartY,g.abs(m)<c.options.snapThreshold&&g.abs(o)<c.options.snapThreshold?c.scrollTo(c.absStartX,c.absStartY,200):(snap=c._snap(q,r),q=snap.x,r=snap.y,p=g.max(snap.time,p));c.scrollTo(q,r,p)}else c.options.snap?(m=q-c.absStartX,o=r-c.absStartY,g.abs(m)<c.options.snapThreshold&&g.abs(o)<c.options.snapThreshold?
c.scrollTo(c.absStartX,c.absStartY,200):(snap=c._snap(c.x,c.y),(snap.x!=c.x||snap.y!=c.y)&&c.scrollTo(snap.x,snap.y,snap.time))):c._resetPos(200)}else c.doubleTapTimer&&c.options.zoom?(clearTimeout(c.doubleTapTimer),c.doubleTapTimer=null,c.options.onZoomStart&&c.options.onZoomStart.call(c,a),c.zoom(c.pointX,c.pointY,c.scale==1?c.options.doubleTapZoom:1),c.options.onZoomEnd&&setTimeout(function(){c.options.onZoomEnd.call(c,a)},200)):c.doubleTapTimer=setTimeout(function(){c.doubleTapTimer=null;for(h=
d.target;h.nodeType!=1;)h=h.parentNode;if(h.tagName!="SELECT"&&h.tagName!="INPUT"&&h.tagName!="TEXTAREA")k=document.createEvent("MouseEvents"),k.initMouseEvent("click",!0,!0,a.view,1,d.screenX,d.screenY,d.clientX,d.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null),k._fake=!0,h.dispatchEvent(k)},c.options.zoom?250:0),c._resetPos(200);c.options.onTouchEnd&&c.options.onTouchEnd.call(c,a)}}},_resetPos:function(a){var c=this.x>=0?0:this.x<this.maxScrollX?this.maxScrollX:this.x,d=this.y>=this.minScrollY||
this.maxScrollY>0?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y;if(c==this.x&&d==this.y){if(this.moved)this.moved=!1,this.options.onScrollEnd&&this.options.onScrollEnd.call(this);if(this.hScrollbar&&this.options.hideScrollbar)b=="webkit"&&(this.hScrollbarWrapper.style[b+"TransitionDelay"]="300ms"),this.hScrollbarWrapper.style.opacity="0";if(this.vScrollbar&&this.options.hideScrollbar)b=="webkit"&&(this.vScrollbarWrapper.style[b+"TransitionDelay"]="300ms"),this.vScrollbarWrapper.style.opacity=
"0"}else this.scrollTo(c,d,a||0)},_wheel:function(a){var b=this,c,d;"wheelDeltaX"in a?(c=a.wheelDeltaX/12,d=a.wheelDeltaY/12):c="detail"in a?d=-a.detail*3:d=-a.wheelDelta;if(b.options.wheelAction=="zoom"){d=b.scale*Math.pow(2,1/3*(d?d/Math.abs(d):0));if(d<b.options.zoomMin)d=b.options.zoomMin;if(d>b.options.zoomMax)d=b.options.zoomMax;d!=b.scale&&(!b.wheelZoomCount&&b.options.onZoomStart&&b.options.onZoomStart.call(b,a),b.wheelZoomCount++,b.zoom(a.pageX,a.pageY,d,400),setTimeout(function(){b.wheelZoomCount--;
!b.wheelZoomCount&&b.options.onZoomEnd&&b.options.onZoomEnd.call(b,a)},400))}else{c=b.x+c;d=b.y+d;if(c>0)c=0;else if(c<b.maxScrollX)c=b.maxScrollX;if(d>b.minScrollY)d=b.minScrollY;else if(d<b.maxScrollY)d=b.maxScrollY;b.scrollTo(c,d,0)}},_mouseout:function(a){var b=a.relatedTarget;if(b)for(;b=b.parentNode;)if(b==this.wrapper)return;this._end(a)},_transitionEnd:function(a){a.target==this.scroller&&(this._unbind("webkitTransitionEnd"),this._startAni())},_startAni:function(){var a=this,b=a.x,c=a.y,d=
(new Date).getTime(),e,h;if(!a.animating)if(a.steps.length){e=a.steps.shift();if(e.x==b&&e.y==c)e.time=0;a.animating=!0;a.moved=!0;a.options.useTransition?(a._transitionTime(e.time),a._pos(e.x,e.y),a.animating=!1,e.time?a._bind("webkitTransitionEnd"):a._resetPos(0)):function P(){var k=(new Date).getTime();if(k>=d+e.time)a._pos(e.x,e.y),a.animating=!1,a.options.onAnimationEnd&&a.options.onAnimationEnd.call(a),a._startAni();else if(k=(k-d)/e.time-1,h=g.sqrt(1-k*k),k=(e.x-b)*h+b,a._pos(k,(e.y-c)*h+c),
a.animating)a.aniTime=r(P)}()}else a._resetPos(400)},_transitionTime:function(a){a+="ms";this.scroller.style[b+"TransitionDuration"]=a;this.hScrollbar&&(this.hScrollbarIndicator.style[b+"TransitionDuration"]=a);this.vScrollbar&&(this.vScrollbarIndicator.style[b+"TransitionDuration"]=a)},_momentum:function(a,b,c,d,e){var b=g.abs(a)/b,h=b*b/0.0012,k=0,k=0;a>0&&h>c?(c+=e/(6/(h/b*6.0E-4)),b=b*c/h,h=c):a<0&&h>d&&(d+=e/(6/(h/b*6.0E-4)),b=b*d/h,h=d);h*=a<0?-1:1;return{dist:h,time:g.round(b/6.0E-4)}},_offset:function(a){for(var b=
-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;a!=this.wrapper&&(b*=this.scale,c*=this.scale);return{left:b,top:c}},_snap:function(a,b){var c,d,e;e=this.pagesX.length-1;c=0;for(d=this.pagesX.length;c<d;c++)if(a>=this.pagesX[c]){e=c;break}e==this.currPageX&&e>0&&this.dirX<0&&e--;a=this.pagesX[e];d=(d=g.abs(a-this.pagesX[this.currPageX]))?g.abs(this.x-a)/d*500:0;this.currPageX=e;e=this.pagesY.length-1;for(c=0;c<e;c++)if(b>=this.pagesY[c]){e=c;break}e==this.currPageY&&
e>0&&this.dirY<0&&e--;b=this.pagesY[e];c=(c=g.abs(b-this.pagesY[this.currPageY]))?g.abs(this.y-b)/c*500:0;this.currPageY=e;e=g.round(g.max(d,c))||200;return{x:a,y:b,time:e}},_bind:function(a,b,c){(b||this.scroller).addEventListener(a,this,!!c)},_unbind:function(a,b,c){(b||this.scroller).removeEventListener(a,this,!!c)},destroy:function(){this.scroller.style[b+"Transform"]="";this.vScrollbar=this.hScrollbar=!1;this._scrollbar("h");this._scrollbar("v");this._unbind(o,window);this._unbind(p);this._unbind(w);
this._unbind(u);this._unbind(A);this.options.hasTouch&&(this._unbind("mouseout",this.wrapper),this._unbind(y));this.options.useTransition&&this._unbind("webkitTransitionEnd");this.options.checkDOMChanges&&clearInterval(this.checkDOMTime);this.options.onDestroy&&this.options.onDestroy.call(this)},refresh:function(){var a,c=0,d=0;if(this.scale<this.options.zoomMin)this.scale=this.options.zoomMin;this.wrapperW=this.wrapper.clientWidth||1;this.wrapperH=this.wrapper.clientHeight||1;this.minScrollY=-this.options.topOffset||
0;this.scrollerW=g.round(this.scroller.offsetWidth*this.scale);this.scrollerH=g.round((this.scroller.offsetHeight+this.minScrollY)*this.scale);this.maxScrollX=this.wrapperW-this.scrollerW;this.maxScrollY=this.wrapperH-this.scrollerH+this.minScrollY;this.dirY=this.dirX=0;this.options.onRefresh&&this.options.onRefresh.call(this);this.hScroll=this.options.hScroll&&this.maxScrollX<0;this.vScroll=this.options.vScroll&&(!this.options.bounceLock&&!this.hScroll||this.scrollerH>this.wrapperH);this.hScrollbar=
this.hScroll&&this.options.hScrollbar;this.vScrollbar=this.vScroll&&this.options.vScrollbar&&this.scrollerH>this.wrapperH;a=this._offset(this.wrapper);this.wrapperOffsetLeft=-a.left;this.wrapperOffsetTop=-a.top;if(typeof this.options.snap=="string"){this.pagesX=[];this.pagesY=[];els=this.scroller.querySelectorAll(this.options.snap);i=0;for(l=els.length;i<l;i++)c=this._offset(els[i]),c.left+=this.wrapperOffsetLeft,c.top+=this.wrapperOffsetTop,this.pagesX[i]=c.left<this.maxScrollX?this.maxScrollX:c.left*
this.scale,this.pagesY[i]=c.top<this.maxScrollY?this.maxScrollY:c.top*this.scale}else if(this.options.snap){for(this.pagesX=[];c>=this.maxScrollX;)this.pagesX[d]=c,c-=this.wrapperW,d++;this.maxScrollX%this.wrapperW&&(this.pagesX[this.pagesX.length]=this.maxScrollX-this.pagesX[this.pagesX.length-1]+this.pagesX[this.pagesX.length-1]);d=c=0;for(this.pagesY=[];c>=this.maxScrollY;)this.pagesY[d]=c,c-=this.wrapperH,d++;this.maxScrollY%this.wrapperH&&(this.pagesY[this.pagesY.length]=this.maxScrollY-this.pagesY[this.pagesY.length-
1]+this.pagesY[this.pagesY.length-1])}this._scrollbar("h");this._scrollbar("v");this.zoomed||(this.scroller.style[b+"TransitionDuration"]="0",this._resetPos(200))},scrollTo:function(a,b,c,d){var e=a;this.stop();e.length||(e=[{x:a,y:b,time:c,relative:d}]);a=0;for(b=e.length;a<b;a++){if(e[a].relative)e[a].x=this.x-e[a].x,e[a].y=this.y-e[a].y;this.steps.push({x:e[a].x,y:e[a].y,time:e[a].time||0})}this._startAni()},scrollToElement:function(a,b){var c;if(a=a.nodeType?a:this.scroller.querySelector(a))c=
this._offset(a),c.left+=this.wrapperOffsetLeft,c.top+=this.wrapperOffsetTop,c.left=c.left>0?0:c.left<this.maxScrollX?this.maxScrollX:c.left,c.top=c.top>this.minScrollY?this.minScrollY:c.top<this.maxScrollY?this.maxScrollY:c.top,b=b===void 0?g.max(g.abs(c.left)*2,g.abs(c.top)*2):b,this.scrollTo(c.left,c.top,b)},scrollToPage:function(a,b,c){if(this.options.snap)a=a=="next"?this.currPageX+1:a=="prev"?this.currPageX-1:a,b=b=="next"?this.currPageY+1:b=="prev"?this.currPageY-1:b,a=a<0?0:a>this.pagesX.length-
1?this.pagesX.length-1:a,b=b<0?0:b>this.pagesY.length-1?this.pagesY.length-1:b,this.currPageX=a,this.currPageY=b,a=this.pagesX[a],b=this.pagesY[b];else{a*=-this.wrapperW;b*=-this.wrapperH;if(a<this.maxScrollX)a=this.maxScrollX;if(b<this.maxScrollY)b=this.maxScrollY}this.scrollTo(a,b,c||400)},disable:function(){this.stop();this._resetPos(0);this.enabled=!1;this._unbind(w);this._unbind(u);this._unbind(A)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind("webkitTransitionEnd"):
v(this.aniTime);this.steps=[];this.animating=this.moved=!1},zoom:function(a,c,d,e){var g=d/this.scale;if(this.options.useTransform)this.zoomed=!0,e=e===void 0?200:e,a=a-this.wrapperOffsetLeft-this.x,c=c-this.wrapperOffsetTop-this.y,this.x=a-a*g+this.x,this.y=c-c*g+this.y,this.scale=d,this.refresh(),this.x=this.x>0?0:this.x<this.maxScrollX?this.maxScrollX:this.x,this.y=this.y>this.minScrollY?this.minScrollY:this.y<this.maxScrollY?this.maxScrollY:this.y,this.scroller.style[b+"TransitionDuration"]=e+
"ms",this.scroller.style[b+"Transform"]=s+this.x+"px,"+this.y+"px"+x+" scale("+d+")",this.zoomed=!1},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}};typeof exports!=="undefined"?exports.iScroll=k:window.iScroll=k})();return window.iScroll}()};
Joshfire.definedModules["joshfire/vendor/jquery"]=function(){return function(){(function(g,b){function c(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function e(a){if(!ia[a]){var b=q.body,c=f("<"+a+">").appendTo(b),d=c.css("display");c.remove();if(d==="none"||d===""){if(!L)L=q.createElement("iframe"),L.frameBorder=L.width=L.height=0;b.appendChild(L);if(!R||!L.createElement)R=(L.contentWindow||L.contentDocument).document,R.write((q.compatMode==="CSS1Compat"?"<!doctype html>":
"")+"<html><body>"),R.close();c=R.createElement(a);R.body.appendChild(c);d=f.css(c,"display");b.removeChild(L)}ia[a]=d}return ia[a]}function d(a,b){var c={};f.each(va.concat.apply([],va.slice(0,b)),function(){c[this]=a});return c}function h(){ca=b}function a(){setTimeout(h,0);return ca=f.now()}function k(){try{return new g.XMLHttpRequest}catch(a){}}function m(a,b,c,d){if(f.isArray(b))f.each(b,function(b,I){c||Va.test(a)?d(a,I):m(a+"["+(typeof I==="object"||f.isArray(I)?b:"")+"]",I,c,d)});else if(!c&&
b!=null&&typeof b==="object")for(var e in b)m(a+"["+e+"]",b[e],c,d);else d(a,b)}function r(a,c,f,d,e,g){e=e||c.dataTypes[0];g=g||{};g[e]=!0;for(var e=a[e],h=0,j=e?e.length:0,k=a===ja,m;h<j&&(k||!m);h++)m=e[h](c,f,d),typeof m==="string"&&(!k||g[m]?m=b:(c.dataTypes.unshift(m),m=r(a,c,f,d,m,g)));if((k||!m)&&!g["*"])m=r(a,c,f,d,"*",g);return m}function v(a){return function(b,c){var n;typeof b!=="string"&&(c=b,b="*");if(f.isFunction(c))for(var d=b.toLowerCase().split(xa),e=0,g=d.length,h,j;e<g;e++)h=d[e],
(j=/^\+/.test(h))&&(h=h.substr(1)||"*"),n=a[h]=a[h]||[],h=n,h[j?"unshift":"push"](c)}}function o(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?Wa:Xa;if(d>0)return c!=="border"&&f.each(e,function(){c||(d-=parseFloat(f.css(a,"padding"+this))||0);c==="margin"?d+=parseFloat(f.css(a,c+this))||0:d-=parseFloat(f.css(a,"border"+this+"Width"))||0}),d+"px";d=U(a,b,b);if(d<0||d==null)d=a.style[b]||0;d=parseFloat(d)||0;c&&f.each(e,function(){d+=parseFloat(f.css(a,"padding"+this))||0;c!==
"padding"&&(d+=parseFloat(f.css(a,"border"+this+"Width"))||0);c==="margin"&&(d+=parseFloat(f.css(a,c+this))||0)});return d+"px"}function p(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(Ya,"/*$0*/"));b.parentNode&&b.parentNode.removeChild(b)}function w(a){f.nodeName(a,"input")?u(a):"getElementsByTagName"in a&&f.grep(a.getElementsByTagName("input"),u)}function u(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}
function A(a){return"getElementsByTagName"in a?a.getElementsByTagName("*"):"querySelectorAll"in a?a.querySelectorAll("*"):[]}function y(a,b){var c;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes();b.mergeAttributes&&b.mergeAttributes(a);c=b.nodeName.toLowerCase();if(c==="object")b.outerHTML=a.outerHTML;else if(c==="input"&&(a.type==="checkbox"||a.type==="radio")){if(a.checked)b.defaultChecked=b.checked=a.checked;if(b.value!==a.value)b.value=a.value}else if(c==="option")b.selected=a.defaultSelected;
else if(c==="input"||c==="textarea")b.defaultValue=a.defaultValue;b.removeAttribute(f.expando)}}function s(a,b){if(b.nodeType===1&&f.hasData(a)){var c=f.expando,d=f.data(a),e=f.data(b,d);if(d=d[c]){var g=d.events,e=e[c]=f.extend({},d);if(g){delete e.handle;e.events={};for(var h in g){c=0;for(d=g[h].length;c<d;c++)f.event.add(b,h+(g[h][c].namespace?".":"")+g[h][c].namespace,g[h][c],g[h][c].data)}}}}}function x(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,n){return!!b.call(a,n,a)===c});
else if(b.nodeType)return f.grep(a,function(a){return a===b===c});else if(typeof b==="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(Za.test(b))return f.filter(b,d,!c);else b=f.filter(b,d)}return f.grep(a,function(a){return f.inArray(a,b)>=0===c})}function G(a,b){return(a&&a!=="*"?a+".":"")+b.replace($a,"`").replace(ab,"&")}function j(a){var b,c,d,e,g,h,j,k,m,o,p,r=[];e=[];g=f._data(this,"events");if(!(a.liveFired===this||!g||!g.live||a.target.disabled||a.button&&a.type==="click")){a.namespace&&
(p=RegExp("(^|\\.)"+a.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)"));a.liveFired=this;var q=g.live.slice(0);for(j=0;j<q.length;j++)g=q[j],g.origType.replace(ka,"")===a.type?e.push(g.selector):q.splice(j--,1);e=f(a.target).closest(e,a.currentTarget);k=0;for(m=e.length;k<m;k++){o=e[k];for(j=0;j<q.length;j++)if(g=q[j],o.selector===g.selector&&(!p||p.test(g.namespace))&&!o.elem.disabled){h=o.elem;d=null;if(g.preType==="mouseenter"||g.preType==="mouseleave")a.type=g.preType,(d=f(a.relatedTarget).closest(g.selector)[0])&&
f.contains(h,d)&&(d=h);(!d||d!==h)&&r.push({elem:h,handleObj:g,level:o.level})}}k=0;for(m=r.length;k<m;k++){e=r[k];if(c&&e.level>c)break;a.currentTarget=e.elem;a.data=e.handleObj.data;a.handleObj=e.handleObj;p=e.handleObj.origHandler.apply(e.elem,arguments);if(p===!1||a.isPropagationStopped())if(c=e.level,p===!1&&(b=!1),a.isImmediatePropagationStopped())break}return b}}function t(a,c,d){var e=f.extend({},d[0]);e.type=a;e.originalEvent={};e.liveFired=b;f.event.handle.call(c,e);e.isDefaultPrevented()&&
d[0].preventDefault()}function B(){return!0}function H(){return!1}function O(a,c,d){var e=c+"defer",g=c+"queue",h=c+"mark",j=f.data(a,e,b,!0);j&&(d==="queue"||!f.data(a,g,b,!0))&&(d==="mark"||!f.data(a,h,b,!0))&&setTimeout(function(){!f.data(a,g,b,!0)&&!f.data(a,h,b,!0)&&(f.removeData(a,e,!0),j.resolve())},0)}function C(a){for(var b in a)if(b!=="toJSON")return!1;return!0}function P(a,c,d){if(d===b&&a.nodeType===1)if(d="data-"+c.replace(Ua,"$1-$2").toLowerCase(),d=a.getAttribute(d),typeof d==="string"){try{d=
d==="true"?!0:d==="false"?!1:d==="null"?null:!f.isNaN(d)?parseFloat(d):Ta.test(d)?f.parseJSON(d):d}catch(e){}f.data(a,c,d)}else d=b;return d}var q=g.document,K=g.navigator,Sa=g.location,f=function(){function a(){if(!c.isReady){try{q.documentElement.doScroll("left")}catch(b){setTimeout(a,1);return}c.ready()}}var c=function(a,b){return new c.fn.init(a,b,e)},f=g.jQuery,d=g.$,e,h=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,m=/\s+$/,o=/\d/,p=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,r=/^[\],:{}\s]*$/,
v=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,s=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,u=/(?:^|:|,)(?:\s*\[)+/g,t=/(webkit)[ \/]([\w.]+)/,w=/(opera)(?:.*version)?[ \/]([\w.]+)/,B=/(msie) ([\w.]+)/,A=/(mozilla)(?:.*? rv:([\w.]+))?/,bb=/-([a-z])/ig,D=function(a,b){return b.toUpperCase()},Z=K.userAgent,ea,V,cb=Object.prototype.toString,la=Object.prototype.hasOwnProperty,ma=Array.prototype.push,aa=Array.prototype.slice,y=String.prototype.trim,x=Array.prototype.indexOf,C={};c.fn=
c.prototype={constructor:c,init:function(a,n,f){var d;if(!a)return this;if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(a==="body"&&!n&&q.body)return this.context=q,this[0]=q.body,this.selector=a,this.length=1,this;if(typeof a==="string")if((d=a.charAt(0)==="<"&&a.charAt(a.length-1)===">"&&a.length>=3?[null,a,null]:h.exec(a))&&(d[1]||!n))if(d[1])return f=(n=n instanceof c?n[0]:n)?n.ownerDocument||n:q,(a=p.exec(a))?c.isPlainObject(n)?(a=[q.createElement(a[1])],c.fn.attr.call(a,n,
!0)):a=[f.createElement(a[1])]:(a=c.buildFragment([d[1]],[f]),a=(a.cacheable?c.clone(a.fragment):a.fragment).childNodes),c.merge(this,a);else{if((n=q.getElementById(d[2]))&&n.parentNode){if(n.id!==d[2])return f.find(a);this.length=1;this[0]=n}this.context=q;this.selector=a;return this}else return!n||n.jquery?(n||f).find(a):this.constructor(n).find(a);else if(c.isFunction(a))return f.ready(a);if(a.selector!==b)this.selector=a.selector,this.context=a.context;return c.makeArray(a,this)},selector:"",
jquery:"1.6.2",length:0,size:function(){return this.length},toArray:function(){return aa.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,n){var f=this.constructor();c.isArray(a)?ma.apply(f,a):c.merge(f,a);f.prevObject=this;f.context=this.context;if(b==="find")f.selector=this.selector+(this.selector?" ":"")+n;else if(b)f.selector=this.selector+"."+b+"("+n+")";return f},each:function(a,b){return c.each(this,a,b)},ready:function(a){c.bindReady();
ea.done(a);return this},eq:function(a){return a===-1?this.slice(a):this.slice(a,+a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(aa.apply(this,arguments),"slice",aa.call(arguments).join(","))},map:function(a){return this.pushStack(c.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:ma,sort:[].sort,splice:[].splice};c.fn.init.prototype=c.fn;c.extend=c.fn.extend=function(){var a,
n,f,d,e,z=arguments[0]||{},E=1,g=arguments.length,h=!1;typeof z==="boolean"&&(h=z,z=arguments[1]||{},E=2);typeof z!=="object"&&!c.isFunction(z)&&(z={});g===E&&(z=this,--E);for(;E<g;E++)if((a=arguments[E])!=null)for(n in a)f=z[n],d=a[n],z!==d&&(h&&d&&(c.isPlainObject(d)||(e=c.isArray(d)))?(e?(e=!1,f=f&&c.isArray(f)?f:[]):f=f&&c.isPlainObject(f)?f:{},z[n]=c.extend(h,f,d)):d!==b&&(z[n]=d));return z};c.extend({noConflict:function(a){if(g.$===c)g.$=d;if(a&&g.jQuery===c)g.jQuery=f;return c},isReady:!1,
readyWait:1,holdReady:function(a){a?c.readyWait++:c.ready(!0)},ready:function(a){if(a===!0&&!--c.readyWait||a!==!0&&!c.isReady){if(!q.body)return setTimeout(c.ready,1);c.isReady=!0;a!==!0&&--c.readyWait>0||(ea.resolveWith(q,[c]),c.fn.trigger&&c(q).trigger("ready").unbind("ready"))}},bindReady:function(){if(!ea){ea=c._Deferred();if(q.readyState==="complete")return setTimeout(c.ready,1);if(q.addEventListener)q.addEventListener("DOMContentLoaded",V,!1),g.addEventListener("load",c.ready,!1);else if(q.attachEvent){q.attachEvent("onreadystatechange",
V);g.attachEvent("onload",c.ready);var b=!1;try{b=g.frameElement==null}catch(f){}q.documentElement.doScroll&&b&&a()}}},isFunction:function(a){return c.type(a)==="function"},isArray:Array.isArray||function(a){return c.type(a)==="array"},isWindow:function(a){return a&&typeof a==="object"&&"setInterval"in a},isNaN:function(a){return a==null||!o.test(a)||isNaN(a)},type:function(a){return a==null?String(a):C[cb.call(a)]||"object"},isPlainObject:function(a){if(!a||c.type(a)!=="object"||a.nodeType||c.isWindow(a))return!1;
if(a.constructor&&!la.call(a,"constructor")&&!la.call(a.constructor.prototype,"isPrototypeOf"))return!1;for(var n in a);return n===b||la.call(a,n)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw a;},parseJSON:function(a){if(typeof a!=="string"||!a)return null;a=c.trim(a);if(g.JSON&&g.JSON.parse)return g.JSON.parse(a);if(r.test(a.replace(v,"@").replace(s,"]").replace(u,"")))return(new Function("return "+a))();c.error("Invalid JSON: "+a)},parseXML:function(a,b,n){g.DOMParser?
(n=new DOMParser,b=n.parseFromString(a,"text/xml")):(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a));n=b.documentElement;(!n||!n.nodeName||n.nodeName==="parsererror")&&c.error("Invalid XML: "+a);return b},noop:function(){},globalEval:function(a){a&&j.test(a)&&(g.execScript||function(a){g.eval.call(g,a)})(a)},camelCase:function(a){return a.replace(bb,D)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,n,f){var d,e=0,z=a.length,
E=z===b||c.isFunction(a);if(f)if(E)for(d in a){if(n.apply(a[d],f)===!1)break}else for(;e<z;){if(n.apply(a[e++],f)===!1)break}else if(E)for(d in a){if(n.call(a[d],d,a[d])===!1)break}else for(;e<z;)if(n.call(a[e],e,a[e++])===!1)break;return a},trim:y?function(a){return a==null?"":y.call(a)}:function(a){return a==null?"":a.toString().replace(k,"").replace(m,"")},makeArray:function(a,b){var n=b||[];if(a!=null){var f=c.type(a);a.length==null||f==="string"||f==="function"||f==="regexp"||c.isWindow(a)?ma.call(n,
a):c.merge(n,a)}return n},inArray:function(a,b){if(x)return x.call(b,a);for(var c=0,n=b.length;c<n;c++)if(b[c]===a)return c;return-1},merge:function(a,c){var n=a.length,f=0;if(typeof c.length==="number")for(var d=c.length;f<d;f++)a[n++]=c[f];else for(;c[f]!==b;)a[n++]=c[f++];a.length=n;return a},grep:function(a,b,c){for(var n=[],f,c=!!c,d=0,I=a.length;d<I;d++)f=!!b(a[d],d),c!==f&&n.push(a[d]);return n},map:function(a,n,f){var d,e,z=[],E=0,g=a.length;if(a instanceof c||g!==b&&typeof g==="number"&&
(g>0&&a[0]&&a[g-1]||g===0||c.isArray(a)))for(;E<g;E++)d=n(a[E],E,f),d!=null&&(z[z.length]=d);else for(e in a)d=n(a[e],e,f),d!=null&&(z[z.length]=d);return z.concat.apply([],z)},guid:1,proxy:function(a,n){if(typeof n==="string")var f=a[n],n=a,a=f;if(!c.isFunction(a))return b;var d=aa.call(arguments,2),f=function(){return a.apply(n,d.concat(aa.call(arguments)))};f.guid=a.guid=a.guid||f.guid||c.guid++;return f},access:function(a,n,f,d,e,z){var E=a.length;if(typeof n==="object"){for(var g in n)c.access(a,
g,n[g],d,e,f);return a}if(f!==b){d=!z&&d&&c.isFunction(f);for(g=0;g<E;g++)e(a[g],n,d?f.call(a[g],g,e(a[g],n)):f,z);return a}return E?e(a[0],n):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();a=t.exec(a)||w.exec(a)||B.exec(a)||a.indexOf("compatible")<0&&A.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}c.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=
function(n,f){f&&f instanceof c&&!(f instanceof a)&&(f=a(f));return c.fn.init.call(this,n,f,b)};a.fn.init.prototype=a.fn;var b=a(q);return a},browser:{}});c.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){C["[object "+b+"]"]=b.toLowerCase()});Z=c.uaMatch(Z);if(Z.browser)c.browser[Z.browser]=!0,c.browser.version=Z.version;if(c.browser.webkit)c.browser.safari=!0;j.test("\u00a0")&&(k=/^[\s\xA0]+/,m=/[\s\xA0]+$/);e=c(q);q.addEventListener?V=function(){q.removeEventListener("DOMContentLoaded",
V,!1);c.ready()}:q.attachEvent&&(V=function(){q.readyState==="complete"&&(q.detachEvent("onreadystatechange",V),c.ready())});return c}(),ha="done fail isResolved isRejected promise then always pipe".split(" "),ta=[].slice;f.extend({_Deferred:function(){var a=[],b,c,d,e={done:function(){if(!d){var c=arguments,z,g,h,j,k;b&&(k=b,b=0);z=0;for(g=c.length;z<g;z++)h=c[z],j=f.type(h),j==="array"?e.done.apply(e,h):j==="function"&&a.push(h);k&&e.resolveWith(k[0],k[1])}return this},resolveWith:function(f,e){if(!d&&
!b&&!c){e=e||[];c=1;try{for(;a[0];)a.shift().apply(f,e)}finally{b=[f,e],c=0}}return this},resolve:function(){e.resolveWith(this,arguments);return this},isResolved:function(){return!(!c&&!b)},cancel:function(){d=1;a=[];return this}};return e},Deferred:function(a){var b=f._Deferred(),c=f._Deferred(),d;f.extend(b,{then:function(a,c){b.done(a).fail(c);return this},always:function(){return b.done.apply(b,arguments).fail.apply(this,arguments)},fail:c.done,rejectWith:c.resolveWith,reject:c.resolve,isRejected:c.isResolved,
pipe:function(a,c){return f.Deferred(function(n){f.each({done:[a,"resolve"],fail:[c,"reject"]},function(a,c){var d=c[0],e=c[1],z;if(f.isFunction(d))b[a](function(){if((z=d.apply(this,arguments))&&f.isFunction(z.promise))z.promise().then(n.resolve,n.reject);else n[e](z)});else b[a](n[e])})}).promise()},promise:function(a){if(a==null){if(d)return d;d=a={}}for(var c=ha.length;c--;)a[ha[c]]=b[ha[c]];return a}});b.done(c.cancel).fail(b.cancel);delete b.cancel;a&&a.call(b,b);return b},when:function(a){function b(a){return function(b){c[a]=
arguments.length>1?ta.call(arguments,0):b;--g||h.resolveWith(h,ta.call(c,0))}}var c=arguments,d=0,e=c.length,g=e,h=e<=1&&a&&f.isFunction(a.promise)?a:f.Deferred();if(e>1){for(;d<e;d++)c[d]&&f.isFunction(c[d].promise)?c[d].promise().then(b(d),h.reject):--g;g||h.resolveWith(h,c)}else h!==a&&h.resolveWith(h,e?[a]:[]);return h.promise()}});f.support=function(){var a=q.createElement("div"),b=q.documentElement,c,d,e,g,h,j;a.setAttribute("className","t");a.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";
c=a.getElementsByTagName("*");d=a.getElementsByTagName("a")[0];if(!c||!c.length||!d)return{};e=q.createElement("select");g=e.appendChild(q.createElement("option"));c=a.getElementsByTagName("input")[0];h={leadingWhitespace:a.firstChild.nodeType===3,tbody:!a.getElementsByTagName("tbody").length,htmlSerialize:!!a.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:d.getAttribute("href")==="/a",opacity:/^0.55$/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,
checkOn:c.value==="on",optSelected:g.selected,getSetAttribute:a.className!=="t",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0};c.checked=!0;h.noCloneChecked=c.cloneNode(!0).checked;e.disabled=!0;h.optDisabled=!g.disabled;try{delete a.test}catch(k){h.deleteExpando=!1}!a.addEventListener&&a.attachEvent&&a.fireEvent&&(a.attachEvent("onclick",function(){h.noCloneEvent=!1}),a.cloneNode(!0).fireEvent("onclick"));
c=q.createElement("input");c.value="t";c.setAttribute("type","radio");h.radioValue=c.value==="t";c.setAttribute("checked","checked");a.appendChild(c);d=q.createDocumentFragment();d.appendChild(a.firstChild);h.checkClone=d.cloneNode(!0).cloneNode(!0).lastChild.checked;a.innerHTML="";a.style.width=a.style.paddingLeft="1px";e=q.getElementsByTagName("body")[0];d=q.createElement(e?"div":"body");g={visibility:"hidden",width:0,height:0,border:0,margin:0};e&&f.extend(g,{position:"absolute",left:-1E3,top:-1E3});
for(j in g)d.style[j]=g[j];d.appendChild(a);b=e||b;b.insertBefore(d,b.firstChild);h.appendChecked=c.checked;h.boxModel=a.offsetWidth===2;if("zoom"in a.style)a.style.display="inline",a.style.zoom=1,h.inlineBlockNeedsLayout=a.offsetWidth===2,a.style.display="",a.innerHTML="<div style='width:4px;'></div>",h.shrinkWrapBlocks=a.offsetWidth!==2;a.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";e=a.getElementsByTagName("td");c=e[0].offsetHeight===0;e[0].style.display=
"";e[1].style.display="none";h.reliableHiddenOffsets=c&&e[0].offsetHeight===0;a.innerHTML="";if(q.defaultView&&q.defaultView.getComputedStyle)c=q.createElement("div"),c.style.width="0",c.style.marginRight="0",a.appendChild(c),h.reliableMarginRight=(parseInt((q.defaultView.getComputedStyle(c,null)||{marginRight:0}).marginRight,10)||0)===0;d.innerHTML="";b.removeChild(d);if(a.attachEvent)for(j in{submit:1,change:1,focusin:1})b="on"+j,c=b in a,c||(a.setAttribute(b,"return;"),c=typeof a[b]==="function"),
h[j+"Bubbles"]=c;d=d=e=g=e=c=a=c=null;return h}();f.boxModel=f.support.boxModel;var Ta=/^(?:\{.*\}|\[.*\])$/,Ua=/([a-z])([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return!!a&&!C(a)},data:function(a,c,d,e){if(f.acceptData(a)){var g=f.expando,h=typeof c==="string",j=a.nodeType,k=j?f.cache:a,m=j?a[f.expando]:
a[f.expando]&&f.expando;if(m&&(!e||!m||k[m][g])||!(h&&d===b)){if(!m)j?a[f.expando]=m=++f.uuid:m=f.expando;if(!k[m]&&(k[m]={},!j))k[m].toJSON=f.noop;if(typeof c==="object"||typeof c==="function")e?k[m][g]=f.extend(k[m][g],c):k[m]=f.extend(k[m],c);a=k[m];e&&(a[g]||(a[g]={}),a=a[g]);d!==b&&(a[f.camelCase(c)]=d);return c==="events"&&!a[c]?a[g]&&a[g].events:h?a[f.camelCase(c)]||a[c]:a}}},removeData:function(a,b,c){if(f.acceptData(a)){var d=f.expando,e=a.nodeType,h=e?f.cache:a,j=e?a[f.expando]:f.expando;
if(h[j]){if(b){var k=c?h[j][d]:h[j];if(k&&(delete k[b],!C(k)))return}if(c&&(delete h[j][d],!C(h[j])))return;b=h[j][d];f.support.deleteExpando||h!=g?delete h[j]:h[j]=null;if(b){h[j]={};if(!e)h[j].toJSON=f.noop;h[j][d]=b}else e&&(f.support.deleteExpando?delete a[f.expando]:a.removeAttribute?a.removeAttribute(f.expando):a[f.expando]=null)}}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return!(b===!0||a.getAttribute("classid")!==
b)}return!0}});f.fn.extend({data:function(a,c){var d=null;if(typeof a==="undefined"){if(this.length&&(d=f.data(this[0]),this[0].nodeType===1))for(var e=this[0].attributes,g,h=0,j=e.length;h<j;h++)g=e[h].name,g.indexOf("data-")===0&&(g=f.camelCase(g.substring(5)),P(this[0],g,d[g]));return d}else if(typeof a==="object")return this.each(function(){f.data(this,a)});var k=a.split(".");k[1]=k[1]?"."+k[1]:"";return c===b?(d=this.triggerHandler("getData"+k[1]+"!",[k[0]]),d===b&&this.length&&(d=f.data(this[0],
a),d=P(this[0],a,d)),d===b&&k[1]?this.data(k[0]):d):this.each(function(){var b=f(this),d=[k[0],c];b.triggerHandler("setData"+k[1]+"!",d);f.data(this,a,c);b.triggerHandler("changeData"+k[1]+"!",d)})},removeData:function(a){return this.each(function(){f.removeData(this,a)})}});f.extend({_mark:function(a,c){a&&(c=(c||"fx")+"mark",f.data(a,c,(f.data(a,c,b,!0)||0)+1,!0))},_unmark:function(a,c,d){a!==!0&&(d=c,c=a,a=!1);if(c){var d=d||"fx",e=d+"mark";(a=a?0:(f.data(c,e,b,!0)||1)-1)?f.data(c,e,a,!0):(f.removeData(c,
e,!0),O(c,d,"mark"))}},queue:function(a,c,d){if(a){var c=(c||"fx")+"queue",e=f.data(a,c,b,!0);d&&(!e||f.isArray(d)?e=f.data(a,c,f.makeArray(d),!0):e.push(d));return e||[]}},dequeue:function(a,b){var b=b||"fx",c=f.queue(a,b),d=c.shift();d==="inprogress"&&(d=c.shift());d&&(b==="fx"&&c.unshift("inprogress"),d.call(a,function(){f.dequeue(a,b)}));c.length||(f.removeData(a,b+"queue",!0),O(a,b,"queue"))}});f.fn.extend({queue:function(a,c){typeof a!=="string"&&(c=a,a="fx");return c===b?f.queue(this[0],a):
this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a;b=b||"fx";return this.queue(b,function(){var c=this;setTimeout(function(){f.dequeue(c,b)},a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a){function c(){--h||d.resolveWith(e,[e])}typeof a!=="string"&&(a=b);var a=a||"fx",d=f.Deferred(),e=this,g=e.length,h=1,j=
a+"defer",k=a+"queue";a+="mark";for(var m;g--;)if(m=f.data(e[g],j,b,!0)||(f.data(e[g],k,b,!0)||f.data(e[g],a,b,!0))&&f.data(e[g],j,f._Deferred(),!0))h++,m.done(c);c();return d.promise()}});var ua=/[\n\t\r]/g,na=/\s+/,db=/\r/g,eb=/^(?:button|input)$/i,fb=/^(?:button|input|object|select|textarea)$/i,gb=/^a(?:rea)?$/i,ya=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,hb=/\:|^on/,Q,za;f.fn.extend({attr:function(a,b){return f.access(this,
a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,j;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a==="string"){b=a.split(na);c=0;for(d=this.length;c<d;c++)if(e=this[c],e.nodeType===1)if(!e.className&&
b.length===1)e.className=a;else{g=" "+e.className+" ";h=0;for(j=b.length;h<j;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}}return this},removeClass:function(a){var c,d,e,g,h,j,k;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a==="string"||a===b){c=(a||"").split(na);d=0;for(e=this.length;d<e;d++)if(g=this[d],g.nodeType===1&&g.className)if(a){h=(" "+g.className+" ").replace(ua," ");j=0;for(k=c.length;j<k;j++)h=h.replace(" "+
c[j]+" "," ");g.className=f.trim(h)}else g.className=""}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b==="boolean";return f.isFunction(a)?this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if(c==="string")for(var e,g=0,h=f(this),j=b,k=a.split(na);e=k[g++];)j=d?j:!h.hasClass(e),h[j?"addClass":"removeClass"](e);else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||
a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){for(var a=" "+a+" ",b=0,c=this.length;b<c;b++)if((" "+this[b].className+" ").replace(ua," ").indexOf(a)>-1)return!0;return!1},val:function(a){var c,d,e=this[0];if(!arguments.length){if(e){if((c=f.valHooks[e.nodeName.toLowerCase()]||f.valHooks[e.type])&&"get"in c&&(d=c.get(e,"value"))!==b)return d;d=e.value;return typeof d==="string"?d.replace(db,""):d==null?"":d}return b}var g=f.isFunction(a);return this.each(function(d){var e=f(this);
if(this.nodeType===1&&(d=g?a.call(this,d,e.val()):a,d==null?d="":typeof d==="number"?d+="":f.isArray(d)&&(d=f.map(d,function(a){return a==null?"":a+""})),c=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type],!c||!("set"in c)||c.set(this,d,"value")===b))this.value=d})}});f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c=a.selectedIndex,d=[],e=a.options,a=a.type==="select-one";if(c<0)return null;for(var g=
a?c:0,h=a?c+1:e.length;g<h;g++)if(b=e[g],b.selected&&(f.support.optDisabled?!b.disabled:b.getAttribute("disabled")===null)&&(!b.parentNode.disabled||!f.nodeName(b.parentNode,"optgroup"))){b=f(b).val();if(a)return b;d.push(b)}return a&&!d.length&&e.length?f(e[c]).val():d},set:function(a,b){var c=f.makeArray(b);f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0});if(!c.length)a.selectedIndex=-1;return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,
offset:!0},attrFix:{tabindex:"tabIndex"},attr:function(a,c,d,e){var g=a.nodeType;if(!a||g===3||g===8||g===2)return b;if(e&&c in f.attrFn)return f(a)[c](d);if(!("getAttribute"in a))return f.prop(a,c,d);var h,j;if(e=g!==1||!f.isXMLDoc(a))if(c=f.attrFix[c]||c,j=f.attrHooks[c],!j)if(ya.test(c))j=za;else if(Q&&c!=="className"&&(f.nodeName(a,"form")||hb.test(c)))j=Q;return d!==b?d===null?(f.removeAttr(a,c),b):j&&"set"in j&&e&&(h=j.set(a,d,c))!==b?h:(a.setAttribute(c,""+d),d):j&&"get"in j&&e&&(h=j.get(a,
c))!==null?h:(h=a.getAttribute(c),h===null?b:h)},removeAttr:function(a,b){var c;if(a.nodeType===1&&(b=f.attrFix[b]||b,f.support.getSetAttribute?a.removeAttribute(b):(f.attr(a,b,""),a.removeAttributeNode(a.getAttributeNode(b))),ya.test(b)&&(c=f.propFix[b]||b)in a))a[c]=!1},attrHooks:{type:{set:function(a,b){if(eb.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);if(c)a.value=
c;return b}}},tabIndex:{get:function(a){var c=a.getAttributeNode("tabIndex");return c&&c.specified?parseInt(c.value,10):fb.test(a.nodeName)||gb.test(a.nodeName)&&a.href?0:b}},value:{get:function(a,b){return Q&&f.nodeName(a,"button")?Q.get(a,b):b in a?a.value:null},set:function(a,b,c){if(Q&&f.nodeName(a,"button"))return Q.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",
rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e=a.nodeType;if(!a||e===3||e===8||e===2)return b;var g,h;if(e!==1||!f.isXMLDoc(a))c=f.propFix[c]||c,h=f.propHooks[c];return d!==b?h&&"set"in h&&(g=h.set(a,d,c))!==b?g:a[c]=d:h&&"get"in h&&(g=h.get(a,c))!==b?g:a[c]},propHooks:{}});za={get:function(a,c){return f.prop(a,c)?c.toLowerCase():b},set:function(a,b,c){b===!1?f.removeAttr(a,c):(b=f.propFix[c]||c,b in a&&(a[b]=
!0),a.setAttribute(c,c.toLowerCase()));return c}};if(!f.support.getSetAttribute)f.attrFix=f.propFix,Q=f.attrHooks.name=f.attrHooks.title=f.valHooks.button={get:function(a,c){var f;return(f=a.getAttributeNode(c))&&f.nodeValue!==""?f.nodeValue:b},set:function(a,b,c){if(a=a.getAttributeNode(c))return a.nodeValue=b}},f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c==="")return a.setAttribute(b,"auto"),c}})});f.support.hrefNormalized||f.each(["href",
"src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){a=a.getAttribute(c,2);return a===null?b:a}})});if(!f.support.style)f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}};if(!f.support.optSelected)f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(){}});f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===
null?"on":a.value}}});f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var ka=/\.(.*)$/,oa=/^(?:textarea|input|select)$/i,$a=/\./g,ab=/ /g,ib=/[^\w\s.|`]/g,jb=function(a){return a.replace(ib,"\\$&")};f.event={add:function(a,c,d,e){if(!(a.nodeType===3||a.nodeType===8)){if(d===!1)d=H;else if(!d)return;var g,h;if(d.handler)g=d,d=g.handler;if(!d.guid)d.guid=f.guid++;if(h=f._data(a)){var j=
h.events,k=h.handle;if(!j)h.events=j={};if(!k)h.handle=k=function(a){return typeof f!=="undefined"&&(!a||f.event.triggered!==a.type)?f.event.handle.apply(k.elem,arguments):b};k.elem=a;for(var c=c.split(" "),m,o=0,p;m=c[o++];){h=g?f.extend({},g):{handler:d,data:e};m.indexOf(".")>-1?(p=m.split("."),m=p.shift(),h.namespace=p.slice(0).sort().join(".")):(p=[],h.namespace="");h.type=m;if(!h.guid)h.guid=d.guid;var r=j[m],q=f.event.special[m]||{};if(!r&&(r=j[m]=[],!q.setup||q.setup.call(a,e,p,k)===!1))a.addEventListener?
a.addEventListener(m,k,!1):a.attachEvent&&a.attachEvent("on"+m,k);if(q.add&&(q.add.call(a,h),!h.handler.guid))h.handler.guid=d.guid;r.push(h);f.event.global[m]=!0}a=null}}},global:{},remove:function(a,c,d,e){if(!(a.nodeType===3||a.nodeType===8)){d===!1&&(d=H);var g,h,j=0,k,m,o,p,r,q,v=f.hasData(a)&&f._data(a),s=v&&v.events;if(v&&s){if(c&&c.type)d=c.handler,c=c.type;if(!c||typeof c==="string"&&c.charAt(0)===".")for(g in c=c||"",s)f.event.remove(a,g+c);else{for(c=c.split(" ");g=c[j++];)if(p=g,k=g.indexOf(".")<
0,m=[],k||(m=g.split("."),g=m.shift(),o=RegExp("(^|\\.)"+f.map(m.slice(0).sort(),jb).join("\\.(?:.*\\.)?")+"(\\.|$)")),r=s[g])if(d){p=f.event.special[g]||{};for(h=e||0;h<r.length;h++)if(q=r[h],d.guid===q.guid){if(k||o.test(q.namespace))e==null&&r.splice(h--,1),p.remove&&p.remove.call(a,q);if(e!=null)break}if(r.length===0||e!=null&&r.length===1)(!p.teardown||p.teardown.call(a,m)===!1)&&f.removeEvent(a,g,v.handle),delete s[g]}else for(h=0;h<r.length;h++)if(q=r[h],k||o.test(q.namespace))f.event.remove(a,
p,q.handler,h),r.splice(h--,1);if(f.isEmptyObject(s)){if(c=v.handle)c.elem=null;delete v.events;delete v.handle;f.isEmptyObject(v)&&f.removeData(a,b,!0)}}}}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(a,c,d,e){var h=a.type||a,j=[],k;h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0);h.indexOf(".")>=0&&(j=h.split("."),h=j.shift(),j.sort());if(d&&!f.event.customEvent[h]||f.event.global[h]){a=typeof a==="object"?a[f.expando]?a:new f.Event(h,a):new f.Event(h);a.type=h;a.exclusive=k;a.namespace=
j.join(".");a.namespace_re=RegExp("(^|\\.)"+j.join("\\.(?:.*\\.)?")+"(\\.|$)");if(e||!d)a.preventDefault(),a.stopPropagation();if(d){if(!(d.nodeType===3||d.nodeType===8)){a.result=b;a.target=d;c=c!=null?f.makeArray(c):[];c.unshift(a);j=d;e=h.indexOf(":")<0?"on"+h:"";do{k=f._data(j,"handle");a.currentTarget=j;k&&k.apply(j,c);if(e&&f.acceptData(j)&&j[e]&&j[e].apply(j,c)===!1)a.result=!1,a.preventDefault();j=j.parentNode||j.ownerDocument||j===a.target.ownerDocument&&g}while(j&&!a.isPropagationStopped());
if(!a.isDefaultPrevented()){var m,j=f.event.special[h]||{};if((!j._default||j._default.call(d.ownerDocument,a)===!1)&&!(h==="click"&&f.nodeName(d,"a"))&&f.acceptData(d)){try{if(e&&d[h])(m=d[e])&&(d[e]=null),f.event.triggered=h,d[h]()}catch(o){}m&&(d[e]=m);f.event.triggered=b}}return a.result}}else f.each(f.cache,function(){var b=this[f.expando];b&&b.events&&b.events[h]&&f.event.trigger(a,c,b.handle.elem)})}},handle:function(a){var a=f.event.fix(a||g.event),c=((f._data(this,"events")||{})[a.type]||
[]).slice(0),d=!a.exclusive&&!a.namespace,e=Array.prototype.slice.call(arguments,0);e[0]=a;a.currentTarget=this;for(var h=0,j=c.length;h<j;h++){var k=c[h];if(d||a.namespace_re.test(k.namespace)){a.handler=k.handler;a.data=k.data;a.handleObj=k;k=k.handler.apply(this,e);if(k!==b)a.result=k,k===!1&&(a.preventDefault(),a.stopPropagation());if(a.isImmediatePropagationStopped())break}}return a.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(a){if(a[f.expando])return a;for(var c=a,a=f.Event(c),d=this.props.length,e;d;)e=this.props[--d],a[e]=c[e];if(!a.target)a.target=a.srcElement||q;if(a.target.nodeType===3)a.target=a.target.parentNode;if(!a.relatedTarget&&a.fromElement)a.relatedTarget=a.fromElement===a.target?a.toElement:a.fromElement;if(a.pageX==null&&a.clientX!=null)d=a.target.ownerDocument||q,c=d.documentElement,d=d.body,a.pageX=a.clientX+(c&&c.scrollLeft||d&&d.scrollLeft||0)-(c&&c.clientLeft||d&&d.clientLeft||0),a.pageY=
a.clientY+(c&&c.scrollTop||d&&d.scrollTop||0)-(c&&c.clientTop||d&&d.clientTop||0);if(a.which==null&&(a.charCode!=null||a.keyCode!=null))a.which=a.charCode!=null?a.charCode:a.keyCode;if(!a.metaKey&&a.ctrlKey)a.metaKey=a.ctrlKey;if(!a.which&&a.button!==b)a.which=a.button&1?1:a.button&2?3:a.button&4?2:0;return a},guid:1E8,proxy:f.proxy,special:{ready:{setup:f.bindReady,teardown:f.noop},live:{add:function(a){f.event.add(this,G(a.origType,a.selector),f.extend({},a,{handler:j,guid:a.handler.guid}))},remove:function(a){f.event.remove(this,
G(a.origType,a.selector),a)}},beforeunload:{setup:function(a,b,c){if(f.isWindow(this))this.onbeforeunload=c},teardown:function(a,b){if(this.onbeforeunload===b)this.onbeforeunload=null}}}};f.removeEvent=q.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)};f.Event=function(a,b){if(!this.preventDefault)return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||
a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?B:H):this.type=a;b&&f.extend(this,b);this.timeStamp=f.now();this[f.expando]=!0};f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=B;var a=this.originalEvent;if(a)a.preventDefault?a.preventDefault():a.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=B;var a=this.originalEvent;if(a)a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=
B;this.stopPropagation()},isDefaultPrevented:H,isPropagationStopped:H,isImmediatePropagationStopped:H};var Aa=function(a){var b=a.relatedTarget,c=!1,d=a.type;a.type=a.data;if(b!==this&&(b&&(c=f.contains(this,b)),!c))f.event.handle.apply(this,arguments),a.type=d},Ba=function(a){a.type=a.data;f.event.handle.apply(this,arguments)};f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={setup:function(c){f.event.add(this,b,c&&c.selector?Ba:Aa,a)},teardown:function(a){f.event.remove(this,
b,a&&a.selector?Ba:Aa)}}});if(!f.support.submitBubbles)f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;else f.event.add(this,"click.specialSubmit",function(a){var b=a.target,c=b.type;(c==="submit"||c==="image")&&f(b).closest("form").length&&t("submit",this,arguments)}),f.event.add(this,"keypress.specialSubmit",function(a){var b=a.target,c=b.type;(c==="text"||c==="password")&&f(b).closest("form").length&&a.keyCode===13&&t("submit",this,arguments)})},teardown:function(){f.event.remove(this,
".specialSubmit")}};if(!f.support.changeBubbles){var ba,Ca=function(a){var b=a.type,c=a.value;if(b==="radio"||b==="checkbox")c=a.checked;else if(b==="select-multiple")c=a.selectedIndex>-1?f.map(a.options,function(a){return a.selected}).join("-"):"";else if(f.nodeName(a,"select"))c=a.selectedIndex;return c},fa=function(a,c){var d=a.target,e,h;if(oa.test(d.nodeName)&&!d.readOnly&&(e=f._data(d,"_change_data"),h=Ca(d),(a.type!=="focusout"||d.type!=="radio")&&f._data(d,"_change_data",h),!(e===b||h===e)))if(e!=
null||h)a.type="change",a.liveFired=b,f.event.trigger(a,c,d)};f.event.special.change={filters:{focusout:fa,beforedeactivate:fa,click:function(a){var b=a.target,c=f.nodeName(b,"input")?b.type:"";(c==="radio"||c==="checkbox"||f.nodeName(b,"select"))&&fa.call(this,a)},keydown:function(a){var b=a.target,c=f.nodeName(b,"input")?b.type:"";(a.keyCode===13&&!f.nodeName(b,"textarea")||a.keyCode===32&&(c==="checkbox"||c==="radio")||c==="select-multiple")&&fa.call(this,a)},beforeactivate:function(a){a=a.target;
f._data(a,"_change_data",Ca(a))}},setup:function(){if(this.type==="file")return!1;for(var a in ba)f.event.add(this,a+".specialChange",ba[a]);return oa.test(this.nodeName)},teardown:function(){f.event.remove(this,".specialChange");return oa.test(this.nodeName)}};ba=f.event.special.change.filters;ba.focus=ba.beforeactivate}f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){function c(a){var d=f.event.fix(a);d.type=b;d.originalEvent={};f.event.trigger(d,null,d.target);d.isDefaultPrevented()&&
a.preventDefault()}var d=0;f.event.special[b]={setup:function(){d++===0&&q.addEventListener(a,c,!0)},teardown:function(){--d===0&&q.removeEventListener(a,c,!0)}}});f.each(["bind","one"],function(a,c){f.fn[c]=function(a,d,e){var n;if(typeof a==="object"){for(var h in a)this[c](h,d,a[h],e);return this}if(arguments.length===2||d===!1)e=d,d=b;c==="one"?(n=function(a){f(this).unbind(a,n);return e.apply(this,arguments)},n.guid=e.guid||f.guid++):n=e;if(a==="unload"&&c!=="one")this.one(a,d,e);else{h=0;for(var g=
this.length;h<g;h++)f.event.add(this[h],a,n,d)}return this}});f.fn.extend({unbind:function(a,b){if(typeof a==="object"&&!a.preventDefault)for(var c in a)this.unbind(c,a[c]);else{c=0;for(var d=this.length;c<d;c++)f.event.remove(this[c],a,b)}return this},delegate:function(a,b,c,d){return this.live(b,c,d,a)},undelegate:function(a,b,c){return arguments.length===0?this.unbind("live"):this.die(b,null,c,a)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,
b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f.data(this,"lastToggle"+a.guid)||0)%d;f.data(this,"lastToggle"+a.guid,e+1);c.preventDefault();return b[e].apply(this,arguments)||!1};for(e.guid=c;d<b.length;)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var pa={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};f.each(["live","die"],
function(a,c){f.fn[c]=function(a,d,e,n){var h=0,g,j,k=n||this.selector,m=n?this:f(this.context);if(typeof a==="object"&&!a.preventDefault){for(g in a)m[c](g,d,a[g],k);return this}if(c==="die"&&!a&&n&&n.charAt(0)===".")return m.unbind(n),this;if(d===!1||f.isFunction(d))e=d||H,d=b;for(a=(a||"").split(" ");(n=a[h++])!=null;)if(g=ka.exec(n),j="",g&&(j=g[0],n=n.replace(ka,"")),n==="hover")a.push("mouseenter"+j,"mouseleave"+j);else if(g=n,pa[n]?(a.push(pa[n]+j),n+=j):n=(pa[n]||n)+j,c==="live"){j=0;for(var o=
m.length;j<o;j++)f.event.add(m[j],"live."+G(n,k),{data:d,selector:k,handler:e,origType:n,origHandler:e,preType:g})}else m.unbind("live."+G(n,k),e);return this}});f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(a,b){f.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.bind(b,a,c):this.trigger(b)};f.attrFn&&(f.attrFn[b]=
!0)});(function(){function a(b,c,d,f,e,n){for(var e=0,h=f.length;e<h;e++){var g=f[e];if(g){for(var j=!1,g=g[b];g;){if(g.sizcache===d){j=f[g.sizset];break}if(g.nodeType===1){if(!n)g.sizcache=d,g.sizset=e;if(typeof c!=="string"){if(g===c){j=!0;break}}else if(o.filter(c,[g]).length>0){j=g;break}}g=g[b]}f[e]=j}}}function c(a,b,d,f,e,n){for(var e=0,g=f.length;e<g;e++){var h=f[e];if(h){for(var j=!1,h=h[a];h;){if(h.sizcache===d){j=f[h.sizset];break}if(h.nodeType===1&&!n)h.sizcache=d,h.sizset=e;if(h.nodeName.toLowerCase()===
b){j=h;break}h=h[a]}f[e]=j}}}var d=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,e=0,h=Object.prototype.toString,g=!1,j=!0,k=/\\/g,m=/\W/;[0,0].sort(function(){j=!1;return 0});var o=function(a,b,c,f){var c=c||[],e=b=b||q;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return c;var n,g,j,I,E,k=!0,m=o.isXML(b),F=[],wa=a;do if(d.exec(""),n=d.exec(wa))if(wa=n[3],F.push(n[1]),n[2]){I=n[3];break}while(n);
if(F.length>1&&r.exec(a))if(F.length===2&&p.relative[F[0]])g=A(F[0]+F[1],b);else for(g=p.relative[F[0]]?[b]:o(F.shift(),b);F.length;)a=F.shift(),p.relative[a]&&(a+=F.shift()),g=A(a,g);else if(!f&&F.length>1&&b.nodeType===9&&!m&&p.match.ID.test(F[0])&&!p.match.ID.test(F[F.length-1])&&(n=o.find(F.shift(),b,m),b=n.expr?o.filter(n.expr,n.set)[0]:n.set[0]),b){n=f?{expr:F.pop(),set:u(f)}:o.find(F.pop(),F.length===1&&(F[0]==="~"||F[0]==="+")&&b.parentNode?b.parentNode:b,m);g=n.expr?o.filter(n.expr,n.set):
n.set;for(F.length>0?j=u(g):k=!1;F.length;)n=E=F.pop(),p.relative[E]?n=F.pop():E="",n==null&&(n=b),p.relative[E](j,n,m)}else j=[];j||(j=g);j||o.error(E||a);if(h.call(j)==="[object Array]")if(k)if(b&&b.nodeType===1)for(a=0;j[a]!=null;a++)j[a]&&(j[a]===!0||j[a].nodeType===1&&o.contains(b,j[a]))&&c.push(g[a]);else for(a=0;j[a]!=null;a++)j[a]&&j[a].nodeType===1&&c.push(g[a]);else c.push.apply(c,j);else u(j,c);I&&(o(I,e,c,f),o.uniqueSort(c));return c};o.uniqueSort=function(a){if(w&&(g=j,a.sort(w),g))for(var b=
1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1);return a};o.matches=function(a,b){return o(a,null,null,b)};o.matchesSelector=function(a,b){return o(b,null,null,[a]).length>0};o.find=function(a,b,c){var d;if(!a)return[];for(var f=0,e=p.order.length;f<e;f++){var n,g=p.order[f];if(n=p.leftMatch[g].exec(a)){var h=n[1];n.splice(1,1);if(h.substr(h.length-1)!=="\\"&&(n[1]=(n[1]||"").replace(k,""),d=p.find[g](n,b,c),d!=null)){a=a.replace(p.match[g],"");break}}}d||(d=typeof b.getElementsByTagName!=="undefined"?
b.getElementsByTagName("*"):[]);return{set:d,expr:a}};o.filter=function(a,c,d,f){for(var e,n,g=a,h=[],j=c,I=c&&c[0]&&o.isXML(c[0]);a&&c.length;){for(var E in p.filter)if((e=p.leftMatch[E].exec(a))!=null&&e[2]){var z,k,m=p.filter[E];k=e[1];n=!1;e.splice(1,1);if(k.substr(k.length-1)!=="\\"){j===h&&(h=[]);if(p.preFilter[E])if(e=p.preFilter[E](e,j,d,h,f,I)){if(e===!0)continue}else n=z=!0;if(e)for(var da=0;(k=j[da])!=null;da++)if(k){z=m(k,e,da,j);var F=f^!!z;d&&z!=null?F?n=!0:j[da]=!1:F&&(h.push(k),n=
!0)}if(z!==b){d||(j=h);a=a.replace(p.match[E],"");if(!n)return[];break}}}if(a===g)if(n==null)o.error(a);else break;g=a}return j};o.error=function(a){throw"Syntax error, unrecognized expression: "+a;};var p=o.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,
TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=
typeof b==="string",d=c&&!m.test(b),c=c&&!d;d&&(b=b.toLowerCase());for(var d=0,f=a.length,e;d<f;d++)if(e=a[d]){for(;(e=e.previousSibling)&&e.nodeType!==1;);a[d]=c||e&&e.nodeName.toLowerCase()===b?e||!1:e===b}c&&o.filter(b,a,!0)},">":function(a,b){var c,d=typeof b==="string",f=0,e=a.length;if(d&&!m.test(b))for(b=b.toLowerCase();f<e;f++){if(c=a[f])c=c.parentNode,a[f]=c.nodeName.toLowerCase()===b?c:!1}else{for(;f<e;f++)(c=a[f])&&(a[f]=d?c.parentNode:c.parentNode===b);d&&o.filter(b,a,!0)}},"":function(b,
d,f){var g,h=e++,j=a;typeof d==="string"&&!m.test(d)&&(g=d=d.toLowerCase(),j=c);j("parentNode",d,h,b,g,f)},"~":function(b,d,f){var g,h=e++,j=a;typeof d==="string"&&!m.test(d)&&(g=d=d.toLowerCase(),j=c);j("previousSibling",d,h,b,g,f)}},find:{ID:function(a,b,c){if(typeof b.getElementById!=="undefined"&&!c)return(a=b.getElementById(a[1]))&&a.parentNode?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){for(var c=[],d=b.getElementsByName(a[1]),f=0,e=d.length;f<e;f++)d[f].getAttribute("name")===
a[1]&&c.push(d[f]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!=="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,f,e){a=" "+a[1].replace(k,"")+" ";if(e)return a;for(var e=0,n;(n=b[e])!=null;e++)n&&(f^(n.className&&(" "+n.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(n):c&&(b[e]=!1));return!1},ID:function(a){return a[1].replace(k,"")},TAG:function(a){return a[1].replace(k,"").toLowerCase()},CHILD:function(a){if(a[1]===
"nth"){a[2]||o.error(a[0]);a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}else a[2]&&o.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,d,f,e){b=a[1]=a[1].replace(k,"");!e&&p.attrMap[b]&&(a[1]=p.attrMap[b]);a[4]=(a[4]||a[5]||"").replace(k,"");a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,c,f,e){if(a[1]==="not")if((d.exec(a[3])||"").length>1||
/^\w/.test(a[3]))a[3]=o(a[3],null,null,b);else return a=o.filter(a[3],b,c,1^e),c||f.push.apply(f,a),!1;else if(p.match.POS.test(a[0])||p.match.CHILD.test(a[0]))return!0;return a},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},
has:function(a,b,c){return!!o(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()===
"input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===
a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var f=b[1],e=p.filters[f];if(e)return e(a,c,b,d);else if(f==="contains")return(a.textContent||a.innerText||o.getText([a])||"").indexOf(b[3])>=
0;else if(f==="not"){b=b[3];c=0;for(d=b.length;c<d;c++)if(b[c]===a)return!1;return!0}else o.error(f)},CHILD:function(a,b){var c=b[1],d=a;switch(c){case "only":case "first":for(;d=d.previousSibling;)if(d.nodeType===1)return!1;if(c==="first")return!0;d=a;case "last":for(;d=d.nextSibling;)if(d.nodeType===1)return!1;return!0;case "nth":var c=b[2],f=b[3];if(c===1&&f===0)return!0;var e=b[0],n=a.parentNode;if(n&&(n.sizcache!==e||!a.nodeIndex)){for(var g=0,d=n.firstChild;d;d=d.nextSibling)if(d.nodeType===
1)d.nodeIndex=++g;n.sizcache=e}d=a.nodeIndex-f;return c===0?d===0:d%c===0&&d/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],c=p.attrHandle[c]?p.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),d=c+"",f=b[2],e=b[4];return c==null?f==="!=":f==="="?d===e:f==="*="?d.indexOf(e)>=
0:f==="~="?(" "+d+" ").indexOf(e)>=0:!e?d&&c!==!1:f==="!="?d!==e:f==="^="?d.indexOf(e)===0:f==="$="?d.substr(d.length-e.length)===e:f==="|="?d===e||d.substr(0,e.length+1)===e+"-":!1},POS:function(a,b,c,d){var f=p.setFilters[b[2]];if(f)return f(a,c,b,d)}}},r=p.match.POS,v=function(a,b){return"\\"+(b-0+1)},s;for(s in p.match)p.match[s]=RegExp(p.match[s].source+/(?![^\[]*\])(?![^\(]*\))/.source),p.leftMatch[s]=RegExp(/(^(?:.|\r|\n)*?)/.source+p.match[s].source.replace(/\\(\d+)/g,v));var u=function(a,
b){a=Array.prototype.slice.call(a,0);return b?(b.push.apply(b,a),b):a};try{Array.prototype.slice.call(q.documentElement.childNodes,0)}catch(t){u=function(a,b){var c=0,d=b||[];if(h.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length==="number")for(var f=a.length;c<f;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var w,B;q.documentElement.compareDocumentPosition?w=function(a,b){return a===b?(g=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?
-1:1:a.compareDocumentPosition(b)&4?-1:1}:(w=function(a,b){if(a===b)return g=!0,0;else if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,f=[],e=[];c=a.parentNode;d=b.parentNode;var n=c;if(c===d)return B(a,b);else if(c){if(!d)return 1}else return-1;for(;n;)f.unshift(n),n=n.parentNode;for(n=d;n;)e.unshift(n),n=n.parentNode;c=f.length;d=e.length;for(n=0;n<c&&n<d;n++)if(f[n]!==e[n])return B(f[n],e[n]);return n===c?B(a,e[n],-1):B(f[n],b,1)},B=function(a,b,c){if(a===b)return c;
for(a=a.nextSibling;a;){if(a===b)return-1;a=a.nextSibling}return 1});o.getText=function(a){for(var b="",c,d=0;a[d];d++)c=a[d],c.nodeType===3||c.nodeType===4?b+=c.nodeValue:c.nodeType!==8&&(b+=o.getText(c.childNodes));return b};(function(){var a=q.createElement("div"),c="script"+(new Date).getTime(),d=q.documentElement;a.innerHTML="<a name='"+c+"'/>";d.insertBefore(a,d.firstChild);if(q.getElementById(c))p.find.ID=function(a,c,d){if(typeof c.getElementById!=="undefined"&&!d)return(c=c.getElementById(a[1]))?
c.id===a[1]||typeof c.getAttributeNode!=="undefined"&&c.getAttributeNode("id").nodeValue===a[1]?[c]:b:[]},p.filter.ID=function(a,b){var c=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b};d.removeChild(a);d=a=null})();(function(){var a=q.createElement("div");a.appendChild(q.createComment(""));if(a.getElementsByTagName("*").length>0)p.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){for(var d=[],f=0;c[f];f++)c[f].nodeType===
1&&d.push(c[f]);c=d}return c};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!=="#")p.attrHandle.href=function(a){return a.getAttribute("href",2)};a=null})();q.querySelectorAll&&function(){var a=o,b=q.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){o=function(b,c,d,f){c=c||q;if(!f&&!o.isXML(c)){var e=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);
if(e&&(c.nodeType===1||c.nodeType===9))if(e[1])return u(c.getElementsByTagName(b),d);else if(e[2]&&p.find.CLASS&&c.getElementsByClassName)return u(c.getElementsByClassName(e[2]),d);if(c.nodeType===9){if(b==="body"&&c.body)return u([c.body],d);else if(e&&e[3]){var n=c.getElementById(e[3]);if(n&&n.parentNode){if(n.id===e[3])return u([n],d)}else return u([],d)}try{return u(c.querySelectorAll(b),d)}catch(g){}}else if(c.nodeType===1&&c.nodeName.toLowerCase()!=="object"){var e=c,h=(n=c.getAttribute("id"))||
"__sizzle__",j=c.parentNode,I=/^\s*[+~]/.test(b);n?h=h.replace(/'/g,"\\$&"):c.setAttribute("id",h);if(I&&j)c=c.parentNode;try{if(!I||j)return u(c.querySelectorAll("[id='"+h+"'] "+b),d)}catch(E){}finally{n||e.removeAttribute("id")}}}return a(b,c,d,f)};for(var c in a)o[c]=a[c];b=null}}();(function(){var a=q.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var c=!b.call(q.createElement("div"),"div"),d=!1;try{b.call(q.documentElement,"[test!='']:sizzle")}catch(f){d=
!0}o.matchesSelector=function(a,f){f=f.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!o.isXML(a))try{if(d||!p.match.PSEUDO.test(f)&&!/!=/.test(f)){var e=b.call(a,f);if(e||!c||a.document&&a.document.nodeType!==11)return e}}catch(n){}return o(f,null,null,[a]).length>0}}})();(function(){var a=q.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName&&a.getElementsByClassName("e").length!==0&&(a.lastChild.className="e",a.getElementsByClassName("e").length!==
1))p.order.splice(1,0,"CLASS"),p.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!=="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null})();o.contains=q.documentElement.contains?function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:q.documentElement.compareDocumentPosition?function(a,b){return!!(a.compareDocumentPosition(b)&16)}:function(){return!1};o.isXML=function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?a.nodeName!=="HTML":!1};var A=function(a,b){for(var c,
d=[],f="",e=b.nodeType?[b]:b;c=p.match.PSEUDO.exec(a);)f+=c[0],a=a.replace(p.match.PSEUDO,"");a=p.relative[a]?a+"*":a;c=0;for(var n=e.length;c<n;c++)o(a,e[c],d);return o.filter(f,d)};f.find=o;f.expr=o.selectors;f.expr[":"]=f.expr.filters;f.unique=o.uniqueSort;f.text=o.getText;f.isXMLDoc=o.isXML;f.contains=o.contains})();var kb=/Until$/,lb=/^(?:parents|prevUntil|prevAll)/,mb=/,/,Za=/^.[^:#\[\.,]*$/,nb=Array.prototype.slice,Da=f.expr.match.POS,ob={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=
this,c,d;if(typeof a!=="string")return f(a).filter(function(){c=0;for(d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,h,j;c=0;for(d=this.length;c<d;c++)if(g=e.length,f.find(a,this[c],e),c>0)for(h=g;h<e.length;h++)for(j=0;j<g;j++)if(e[j]===e[h]){e.splice(h--,1);break}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(x(this,a,!1),"not",
a)},filter:function(a){return this.pushStack(x(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a==="string"?f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,h=this[0];if(f.isArray(a)){var g,j={},k=1;if(h&&a.length){d=0;for(e=a.length;d<e;d++)g=a[d],j[g]||(j[g]=Da.test(g)?f(g,b||this.context):g);for(;h&&h.ownerDocument&&h!==b;){for(g in j)d=j[g],(d.jquery?d.index(h)>-1:f(h).is(d))&&c.push({selector:g,elem:h,level:k});h=h.parentNode;k++}}return c}g=Da.test(a)||
typeof a!=="string"?f(a,b||this.context):0;d=0;for(e=this.length;d<e;d++)for(h=this[d];h;)if(g?g.index(h)>-1:f.find.matchesSelector(h,a)){c.push(h);break}else if(h=h.parentNode,!h||!h.ownerDocument||h===b||h.nodeType===11)break;c=c.length>1?f.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){return!a||typeof a==="string"?f.inArray(this[0],a?f(a):this.parent().children()):f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a==="string"?f(a,b):f.makeArray(a&&a.nodeType?
[a]:a),d=f.merge(this.get(),c);return this.pushStack(!c[0]||!c[0].parentNode||c[0].parentNode.nodeType===11||!d[0]||!d[0].parentNode||d[0].parentNode.nodeType===11?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}});f.each({parent:function(a){return(a=a.parentNode)&&a.nodeType!==11?a:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,
2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,
b){f.fn[a]=function(c,d){var e=f.map(this,b,c),h=nb.call(arguments);kb.test(a)||(d=c);d&&typeof d==="string"&&(e=f.filter(d,e));e=this.length>1&&!ob[a]?f.unique(e):e;if((this.length>1||mb.test(d))&&lb.test(a))e=e.reverse();return this.pushStack(e,a,h.join(","))}});f.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){for(var e=[],a=a[c];a&&a.nodeType!==9&&(d===b||a.nodeType!==1||!f(a).is(d));)a.nodeType===
1&&e.push(a),a=a[c];return e},nth:function(a,b,c){for(var b=b||1,d=0;a;a=a[c])if(a.nodeType===1&&++d===b)break;return a},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var pb=/ jQuery\d+="(?:\d+|null)"/g,qa=/^\s+/,Ea=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Fa=/<([\w:]+)/,qb=/<tbody/i,rb=/<|&#?\w+;/,Ga=/<(?:script|object|embed|option|style)/i,Ha=/checked\s*(?:[^=]|=\s*.checked.)/i,sb=/\/(java|ecma)script/i,Ya=/^\s*<!(?:\[CDATA\[|\-\-)/,
J={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};J.optgroup=J.option;J.tbody=J.tfoot=J.colgroup=J.caption=J.thead;J.th=J.td;if(!f.support.htmlSerialize)J._default=[1,"div<div>","</div>"];f.fn.extend({text:function(a){return f.isFunction(a)?
this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))}):typeof a!=="object"&&a!==b?this.empty().append((this[0]&&this[0].ownerDocument||q).createTextNode(a)):f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&a.firstChild.nodeType===1;)a=a.firstChild;return a}).append(this)}return this},
wrapInner:function(a){return f.isFunction(a)?this.each(function(b){f(this).wrapInner(a.call(this,b))}):this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){return this.each(function(){f(this).wrapAll(a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,
!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});else if(arguments.length){var a=f(arguments[0]);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});else if(arguments.length){var a=
this.pushStack(this,"after",arguments);a.push.apply(a,f(arguments[0]).toArray());return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++)for(b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));b.firstChild;)b.removeChild(b.firstChild);return this},clone:function(a,b){a=
a==null?!1:a;b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(pb,""):null;else if(typeof a==="string"&&!Ga.test(a)&&(f.support.leadingWhitespace||!qa.test(a))&&!J[(Fa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ea,"<$1></$2>");try{for(var c=0,d=this.length;c<d;c++)if(this[c].nodeType===1)f.cleanData(this[c].getElementsByTagName("*")),this[c].innerHTML=a}catch(e){this.empty().append(a)}}else f.isFunction(a)?
this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a))return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!=="string"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove();b?f(b).before(a):f(c).append(a)})}else return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",
a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,h,g,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j==="string"&&Ha.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var h=f(this);a[0]=j.call(this,e,c?h.html():b);h.domManip(a,c,d)});if(this[0]){e=j&&j.parentNode;e=f.support.parentNode&&e&&e.nodeType===11&&e.childNodes.length===this.length?{fragment:e}:f.buildFragment(a,this,k);g=
e.fragment;if(h=g.childNodes.length===1?g=g.firstChild:g.firstChild){c=c&&f.nodeName(h,"tr");h=0;for(var m=this.length,o=m-1;h<m;h++)d.call(c?f.nodeName(this[h],"table")?this[h].getElementsByTagName("tbody")[0]||this[h].appendChild(this[h].ownerDocument.createElement("tbody")):this[h]:this[h],e.cacheable||m>1&&h<o?f.clone(g,!0,!0):g)}k.length&&f.each(k,p)}return this}});f.buildFragment=function(a,b,c){var d,e,h,g;b&&b[0]&&(g=b[0].ownerDocument||b[0]);g.createDocumentFragment||(g=q);if(a.length===
1&&typeof a[0]==="string"&&a[0].length<512&&g===q&&a[0].charAt(0)==="<"&&!Ga.test(a[0])&&(f.support.checkClone||!Ha.test(a[0])))e=!0,(h=f.fragments[a[0]])&&h!==1&&(d=h);d||(d=g.createDocumentFragment(),f.clean(a,g,d,c));e&&(f.fragments[a[0]]=h?d:1);return{fragment:d,cacheable:e}};f.fragments={};f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],c=f(c),e=this.length===1&&this[0].parentNode;if(e&&
e.nodeType===11&&e.childNodes.length===1&&c.length===1)return c[b](this[0]),this;else{for(var e=0,h=c.length;e<h;e++){var g=(e>0?this.clone(!0):this).get();f(c[e])[b](g);d=d.concat(g)}return this.pushStack(d,a,c.selector)}}});f.extend({clone:function(a,b,c){var d=a.cloneNode(!0),e,h,g;if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){y(a,d);e=A(a);h=A(d);for(g=0;e[g];++g)y(e[g],h[g])}if(b&&(s(a,d),c)){e=A(a);h=A(d);for(g=0;e[g];++g)s(e[g],
h[g])}return d},clean:function(a,b,c,d){b=b||q;typeof b.createElement==="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||q);for(var e=[],h,g=0,j;(j=a[g])!=null;g++)if(typeof j==="number"&&(j+=""),j){if(typeof j==="string")if(rb.test(j)){j=j.replace(Ea,"<$1></$2>");h=(Fa.exec(j)||["",""])[1].toLowerCase();var k=J[h]||J._default,m=k[0],o=b.createElement("div");for(o.innerHTML=k[1]+j+k[2];m--;)o=o.lastChild;if(!f.support.tbody){m=qb.test(j);k=h==="table"&&!m?o.firstChild&&o.firstChild.childNodes:
k[1]==="<table>"&&!m?o.childNodes:[];for(h=k.length-1;h>=0;--h)f.nodeName(k[h],"tbody")&&!k[h].childNodes.length&&k[h].parentNode.removeChild(k[h])}!f.support.leadingWhitespace&&qa.test(j)&&o.insertBefore(b.createTextNode(qa.exec(j)[0]),o.firstChild);j=o.childNodes}else j=b.createTextNode(j);var p;if(!f.support.appendChecked)if(j[0]&&typeof(p=j.length)==="number")for(h=0;h<p;h++)w(j[h]);else w(j);j.nodeType?e.push(j):e=f.merge(e,j)}if(c){a=function(a){return!a.type||sb.test(a.type)};for(g=0;e[g];g++)d&&
f.nodeName(e[g],"script")&&(!e[g].type||e[g].type.toLowerCase()==="text/javascript")?d.push(e[g].parentNode?e[g].parentNode.removeChild(e[g]):e[g]):(e[g].nodeType===1&&(b=f.grep(e[g].getElementsByTagName("script"),a),e.splice.apply(e,[g+1,0].concat(b))),c.appendChild(e[g]))}return e},cleanData:function(a){for(var b,c,d=f.cache,e=f.expando,h=f.event.special,g=f.support.deleteExpando,j=0,k;(k=a[j])!=null;j++)if(!k.nodeName||!f.noData[k.nodeName.toLowerCase()])if(c=k[f.expando]){if((b=d[c]&&d[c][e])&&
b.events){for(var m in b.events)h[m]?f.event.remove(k,m):f.removeEvent(k,m,b.handle);if(b.handle)b.handle.elem=null}g?delete k[f.expando]:k.removeAttribute&&k.removeAttribute(f.expando);delete d[c]}}});var Ia=/alpha\([^)]*\)/i,tb=/opacity=([^)]*)/,ub=/([A-Z]|^ms)/g,Ja=/^-?\d+(?:px)?$/i,vb=/^-?\d/,wb=/^[+\-]=/,xb=/[^+\-\.\de]+/g,yb={position:"absolute",visibility:"hidden",display:"block"},Wa=["Left","Right"],Xa=["Top","Bottom"],U,Ka,La;f.fn.css=function(a,c){return arguments.length===2&&c===b?this:
f.access(this,a,c,!0,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)})};f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=U(a,"opacity","opacity");return c===""?"1":c}else return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(a&&!(a.nodeType===3||a.nodeType===8||!a.style)){var h,g=f.camelCase(c),j=a.style,k=f.cssHooks[g],
c=f.cssProps[g]||g;if(d!==b){if(e=typeof d,!(e==="number"&&isNaN(d)||d==null))if(e==="string"&&wb.test(d)&&(d=+d.replace(xb,"")+parseFloat(f.css(a,c)),e="number"),e==="number"&&!f.cssNumber[g]&&(d+="px"),!k||!("set"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(m){}}else return k&&"get"in k&&(h=k.get(a,!1,e))!==b?h:j[c]}},css:function(a,c,d){var e,h,c=f.camelCase(c);h=f.cssHooks[c];c=f.cssProps[c]||c;c==="cssFloat"&&(c="float");if(h&&"get"in h&&(e=h.get(a,!0,d))!==b)return e;else if(U)return U(a,c)},
swap:function(a,b,c){var d={},f;for(f in b)d[f]=a.style[f],a.style[f]=b[f];c.call(a);for(f in b)a.style[f]=d[f]}});f.curCSS=f.css;f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){var e;if(c){if(a.offsetWidth!==0)return o(a,b,d);else f.swap(a,yb,function(){e=o(a,b,d)});return e}},set:function(a,b){if(Ja.test(b)){if(b=parseFloat(b),b>=0)return b+"px"}else return b}}});if(!f.support.opacity)f.cssHooks.opacity={get:function(a,b){return tb.test((b&&a.currentStyle?a.currentStyle.filter:
a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle;c.zoom=1;var e=f.isNaN(b)?"":"alpha(opacity="+b*100+")",d=d&&d.filter||c.filter||"";c.filter=Ia.test(d)?d.replace(Ia,e):d+" "+e}};f(function(){if(!f.support.reliableMarginRight)f.cssHooks.marginRight={get:function(a,b){var c;f.swap(a,{display:"inline-block"},function(){c=b?U(a,"margin-right","marginRight"):a.style.marginRight});return c}}});q.defaultView&&q.defaultView.getComputedStyle&&(Ka=
function(a,c){var d,e,c=c.replace(ub,"-$1").toLowerCase();if(!(e=a.ownerDocument.defaultView))return b;if(e=e.getComputedStyle(a,null))d=e.getPropertyValue(c),d===""&&!f.contains(a.ownerDocument.documentElement,a)&&(d=f.style(a,c));return d});q.documentElement.currentStyle&&(La=function(a,b){var c,d=a.currentStyle&&a.currentStyle[b],f=a.runtimeStyle&&a.runtimeStyle[b],e=a.style;if(!Ja.test(d)&&vb.test(d)){c=e.left;if(f)a.runtimeStyle.left=a.currentStyle.left;e.left=b==="fontSize"?"1em":d||0;d=e.pixelLeft+
"px";e.left=c;if(f)a.runtimeStyle.left=f}return d===""?"auto":d});U=Ka||La;if(f.expr&&f.expr.filters)f.expr.filters.hidden=function(a){var b=a.offsetHeight;return a.offsetWidth===0&&b===0||!f.support.reliableHiddenOffsets&&(a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)};var zb=/%20/g,Va=/\[\]$/,Ma=/\r?\n/g,Ab=/#.*$/,Bb=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Cb=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
Db=/^(?:GET|HEAD)$/,Eb=/^\/\//,Na=/\?/,Fb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Gb=/^(?:select|textarea)/i,xa=/\s+/,Hb=/([?&])_=[^&]*/,Oa=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,Pa=f.fn.load,ja={},Qa={},M,N;try{M=Sa.href}catch(Nb){M=q.createElement("a"),M.href="",M=M.href}N=Oa.exec(M.toLowerCase())||[];f.fn.extend({load:function(a,c,d){if(typeof a!=="string"&&Pa)return Pa.apply(this,arguments);else if(!this.length)return this;var e=a.indexOf(" ");if(e>=0)var h=a.slice(e,a.length),
a=a.slice(0,e);e="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c==="object"&&(c=f.param(c,f.ajaxSettings.traditional),e="POST"));var g=this;f.ajax({url:a,type:e,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText;a.isResolved()&&(a.done(function(a){c=a}),g.html(h?f("<div>").append(c.replace(Fb,"")).find(h):c));d&&g.each(d,[c,b,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):
this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Gb.test(this.nodeName)||Cb.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a){return{name:b.name,value:a.replace(Ma,"\r\n")}}):{name:b.name,value:c.replace(Ma,"\r\n")}}).get()}});f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.bind(b,a)}});f.each(["get","post"],function(a,c){f[c]=function(a,
d,e,h){f.isFunction(d)&&(h=h||e,e=d,d=b);return f.ajax({type:c,url:a,data:d,success:e,dataType:h})}});f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?f.extend(!0,a,f.ajaxSettings,b):(b=a,a=f.extend(!0,f.ajaxSettings,b));for(var c in{context:1,url:1})c in b?a[c]=b[c]:c in f.ajaxSettings&&(a[c]=f.ajaxSettings[c]);return a},ajaxSettings:{url:M,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|widget):$/.test(N[1]),
global:!0,type:"GET",contentType:"application/x-www-form-urlencoded",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":"*/*"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":g.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML}},ajaxPrefilter:v(ja),ajaxTransport:v(Qa),ajax:function(a,c){function d(a,c,n,I){if(B!==2){B=
2;w&&clearTimeout(w);u=b;v=I||"";D.readyState=a?4:0;var p,z,r;if(n){var I=e,q=D,s=I.contents,t=I.dataTypes,y=I.responseFields,x,C,H,G;for(C in y)C in n&&(q[y[C]]=n[C]);for(;t[0]==="*";)t.shift(),x===b&&(x=I.mimeType||q.getResponseHeader("content-type"));if(x)for(C in s)if(s[C]&&s[C].test(x)){t.unshift(C);break}if(t[0]in n)H=t[0];else{for(C in n){if(!t[0]||I.converters[C+" "+t[0]]){H=C;break}G||(G=C)}H=H||G}H?(H!==t[0]&&t.unshift(H),n=n[H]):n=void 0}else n=b;if(a>=200&&a<300||a===304){if(e.ifModified){if(x=
D.getResponseHeader("Last-Modified"))f.lastModified[o]=x;if(x=D.getResponseHeader("Etag"))f.etag[o]=x}if(a===304)c="notmodified",p=!0;else try{x=e;x.dataFilter&&(n=x.dataFilter(n,x.dataType));var O=x.dataTypes;C={};var Y,J,P=O.length,L,S=O[0],K,Q,T,M,N;for(Y=1;Y<P;Y++){if(Y===1)for(J in x.converters)typeof J==="string"&&(C[J.toLowerCase()]=x.converters[J]);K=S;S=O[Y];if(S==="*")S=K;else if(K!=="*"&&K!==S){Q=K+" "+S;T=C[Q]||C["* "+S];if(!T)for(M in N=b,C)if(L=M.split(" "),L[0]===K||L[0]==="*")if(N=
C[L[1]+" "+S]){M=C[M];M===!0?T=N:N===!0&&(T=M);break}!T&&!N&&f.error("No conversion from "+Q.replace(" "," to "));T!==!0&&(n=T?T(n):N(M(n)))}}z=n;c="success";p=!0}catch(R){c="parsererror",r=R}}else if(r=c,!c||a)c="error",a<0&&(a=0);D.status=a;D.statusText=c;p?j.resolveWith(h,[z,c,D]):j.rejectWith(h,[D,c,r]);D.statusCode(m);m=b;A&&g.trigger("ajax"+(p?"Success":"Error"),[D,e,p?z:r]);k.resolveWith(h,[D,c]);A&&(g.trigger("ajaxComplete",[D,e]),--f.active||f.event.trigger("ajaxStop"))}}typeof a==="object"&&
(c=a,a=b);var c=c||{},e=f.ajaxSetup({},c),h=e.context||e,g=h!==e&&(h.nodeType||h instanceof f)?f(h):f.event,j=f.Deferred(),k=f._Deferred(),m=e.statusCode||{},o,p={},q={},v,s,u,w,t,B=0,A,y,D={readyState:0,setRequestHeader:function(a,b){if(!B){var c=a.toLowerCase(),a=q[c]=q[c]||a;p[a]=b}return this},getAllResponseHeaders:function(){return B===2?v:null},getResponseHeader:function(a){var c;if(B===2){if(!s)for(s={};c=Bb.exec(v);)s[c[1].toLowerCase()]=c[2];c=s[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){if(!B)e.mimeType=
a;return this},abort:function(a){a=a||"abort";u&&u.abort(a);d(0,a);return this}};j.promise(D);D.success=D.done;D.error=D.fail;D.complete=k.done;D.statusCode=function(a){if(a){var b;if(B<2)for(b in a)m[b]=[m[b],a[b]];else b=a[D.status],D.then(b,b)}return this};e.url=((a||e.url)+"").replace(Ab,"").replace(Eb,N[1]+"//");e.dataTypes=f.trim(e.dataType||"*").toLowerCase().split(xa);if(e.crossDomain==null)t=Oa.exec(e.url.toLowerCase()),e.crossDomain=!(!t||!(t[1]!=N[1]||t[2]!=N[2]||(t[3]||(t[1]==="http:"?
80:443))!=(N[3]||(N[1]==="http:"?80:443))));if(e.data&&e.processData&&typeof e.data!=="string")e.data=f.param(e.data,e.traditional);r(ja,e,c,D);if(B===2)return!1;A=e.global;e.type=e.type.toUpperCase();e.hasContent=!Db.test(e.type);A&&f.active++===0&&f.event.trigger("ajaxStart");if(!e.hasContent&&(e.data&&(e.url+=(Na.test(e.url)?"&":"?")+e.data),o=e.url,e.cache===!1)){t=f.now();var x=e.url.replace(Hb,"$1_="+t);e.url=x+(x===e.url?(Na.test(e.url)?"&":"?")+"_="+t:"")}(e.data&&e.hasContent&&e.contentType!==
!1||c.contentType)&&D.setRequestHeader("Content-Type",e.contentType);e.ifModified&&(o=o||e.url,f.lastModified[o]&&D.setRequestHeader("If-Modified-Since",f.lastModified[o]),f.etag[o]&&D.setRequestHeader("If-None-Match",f.etag[o]));D.setRequestHeader("Accept",e.dataTypes[0]&&e.accepts[e.dataTypes[0]]?e.accepts[e.dataTypes[0]]+(e.dataTypes[0]!=="*"?", */*; q=0.01":""):e.accepts["*"]);for(y in e.headers)D.setRequestHeader(y,e.headers[y]);if(e.beforeSend&&(e.beforeSend.call(h,D,e)===!1||B===2))return D.abort(),
!1;for(y in{success:1,error:1,complete:1})D[y](e[y]);if(u=r(Qa,e,c,D)){D.readyState=1;A&&g.trigger("ajaxSend",[D,e]);e.async&&e.timeout>0&&(w=setTimeout(function(){D.abort("timeout")},e.timeout));try{B=1,u.send(p,d)}catch(C){status<2?d(-1,C):f.error(C)}}else d(-1,"No Transport");return D},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(c===b)c=f.ajaxSettings.traditional;if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,
function(){e(this.name,this.value)});else for(var h in a)m(h,a[h],c,e);return d.join("&").replace(zb,"+")}});f.extend({active:0,lastModified:{},etag:{}});var Ib=f.now(),ga=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+Ib++}});f.ajaxPrefilter("json jsonp",function(a,b,c){b=a.contentType==="application/x-www-form-urlencoded"&&typeof a.data==="string";if(a.dataTypes[0]==="jsonp"||a.jsonp!==!1&&(ga.test(a.url)||b&&ga.test(a.data))){var d,e=a.jsonpCallback=
f.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,h=g[e],j=a.url,k=a.data,m="$1"+e+"$2";a.jsonp!==!1&&(j=j.replace(ga,m),a.url===j&&(b&&(k=k.replace(ga,m)),a.data===k&&(j+=(/\?/.test(j)?"&":"?")+a.jsonp+"="+e)));a.url=j;a.data=k;g[e]=function(a){d=[a]};c.always(function(){g[e]=h;if(d&&f.isFunction(h))g[e](d[0])});a.converters["script json"]=function(){d||f.error(e+" was not called");return d[0]};a.dataTypes[0]="json";return"script"}});f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},
contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}});f.ajaxPrefilter("script",function(a){if(a.cache===b)a.cache=!1;if(a.crossDomain)a.type="GET",a.global=!1});f.ajaxTransport("script",function(a){if(a.crossDomain){var c,d=q.head||q.getElementsByTagName("head")[0]||q.documentElement;return{send:function(e,f){c=q.createElement("script");c.async="async";if(a.scriptCharset)c.charset=a.scriptCharset;c.src=a.url;c.onload=c.onreadystatechange=function(a,
e){if(e||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,d&&c.parentNode&&d.removeChild(c),c=b,e||f(200,"success")};d.insertBefore(c,d.firstChild)},abort:function(){if(c)c.onload(0,1)}}}});var ra=g.ActiveXObject?function(){for(var a in W)W[a](0,1)}:!1,Jb=0,W;f.ajaxSettings.xhr=g.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&k()))a:{try{a=new g.ActiveXObject("Microsoft.XMLHTTP");break a}catch(b){}a=void 0}return a}:k;(function(a){f.extend(f.support,{ajax:!!a,
cors:!!a&&"withCredentials"in a})})(f.ajaxSettings.xhr());f.support.ajax&&f.ajaxTransport(function(a){if(!a.crossDomain||f.support.cors){var c;return{send:function(d,e){var h=a.xhr(),j,k;a.username?h.open(a.type,a.url,a.async,a.username,a.password):h.open(a.type,a.url,a.async);if(a.xhrFields)for(k in a.xhrFields)h[k]=a.xhrFields[k];a.mimeType&&h.overrideMimeType&&h.overrideMimeType(a.mimeType);!a.crossDomain&&!d["X-Requested-With"]&&(d["X-Requested-With"]="XMLHttpRequest");try{for(k in d)h.setRequestHeader(k,
d[k])}catch(m){}h.send(a.hasContent&&a.data||null);c=function(d,g){var k,m,o,p,z;try{if(c&&(g||h.readyState===4)){c=b;if(j)h.onreadystatechange=f.noop,ra&&delete W[j];if(g)h.readyState!==4&&h.abort();else{k=h.status;o=h.getAllResponseHeaders();p={};if((z=h.responseXML)&&z.documentElement)p.xml=z;p.text=h.responseText;try{m=h.statusText}catch(r){m=""}!k&&a.isLocal&&!a.crossDomain?k=p.text?200:404:k===1223&&(k=204)}}}catch(q){g||e(-1,q)}p&&e(k,m,p,o)};!a.async||h.readyState===4?c():(j=++Jb,ra&&(W||
(W={},f(g).unload(ra)),W[j]=c),h.onreadystatechange=c)},abort:function(){c&&c(0,1)}}}});var ia={},L,R,Kb=/^(?:toggle|show|hide)$/,Lb=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,X,va=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],ca,sa=g.webkitRequestAnimationFrame||g.mozRequestAnimationFrame||g.oRequestAnimationFrame;f.fn.extend({show:function(a,b,c){if(a||a===0)return this.animate(d("show",3),a,b,c);else{for(var c=
0,h=this.length;c<h;c++)if(a=this[c],a.style){b=a.style.display;if(!f._data(a,"olddisplay")&&b==="none")b=a.style.display="";b===""&&f.css(a,"display")==="none"&&f._data(a,"olddisplay",e(a.nodeName))}for(c=0;c<h;c++)if(a=this[c],a.style&&(b=a.style.display,b===""||b==="none"))a.style.display=f._data(a,"olddisplay")||"";return this}},hide:function(a,b,c){if(a||a===0)return this.animate(d("hide",3),a,b,c);else{a=0;for(b=this.length;a<b;a++)this[a].style&&(c=f.css(this[a],"display"),c!=="none"&&!f._data(this[a],
"olddisplay")&&f._data(this[a],"olddisplay",c));for(a=0;a<b;a++)if(this[a].style)this[a].style.display="none";return this}},_toggle:f.fn.toggle,toggle:function(a,b,c){var e=typeof a==="boolean";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||e?this.each(function(){var b=e?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(d("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},
a,c,d)},animate:function(a,b,c,d){var h=f.speed(b,c,d);if(f.isEmptyObject(a))return this.each(h.complete,[!1]);a=f.extend({},a);return this[h.queue===!1?"each":"queue"](function(){var n;h.queue===!1&&f._mark(this);var b=f.extend({},h),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,j,k,m,o;b.animatedProperties={};for(k in a){g=f.camelCase(k);k!==g&&(a[g]=a[k],delete a[k]);j=a[g];f.isArray(j)?(b.animatedProperties[g]=j[1],n=a[g]=j[0],j=n):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||
b.easing||"swing";if(j==="hide"&&d||j==="show"&&!d)return b.complete.call(this);if(c&&(g==="height"||g==="width"))if(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none")f.support.inlineBlockNeedsLayout?(j=e(this.nodeName),j==="inline"?this.style.display="inline-block":(this.style.display="inline",this.style.zoom=1)):this.style.display="inline-block"}if(b.overflow!=null)this.style.overflow="hidden";for(k in a)if(c=
new f.fx(this,b,k),j=a[k],Kb.test(j))c[j==="toggle"?d?"show":"hide":j]();else g=Lb.exec(j),m=c.cur(),g?(j=parseFloat(g[2]),o=g[3]||(f.cssNumber[k]?"":"px"),o!=="px"&&(f.style(this,k,(j||1)+o),m*=(j||1)/c.cur(),f.style(this,k,m+o)),g[1]&&(j=(g[1]==="-="?-1:1)*j+m),c.custom(m,j,o)):c.custom(m,j,"");return!0})},stop:function(a,b){a&&this.queue([]);this.each(function(){var a=f.timers,c=a.length;for(b||f._unmark(!0,this);c--;)if(a[c].elem===this){if(b)a[c](!0);a.splice(c,1)}});b||this.dequeue();return this}});
f.each({slideDown:d("show",1),slideUp:d("hide",1),slideToggle:d("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});f.extend({speed:function(a,b,c){var d=a&&typeof a==="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration==="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:
f.fx.speeds._default;d.old=d.complete;d.complete=function(a){f.isFunction(d.old)&&d.old.call(this);d.queue!==!1?f.dequeue(this):a!==!1&&f._unmark(this)};return d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+0.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b;this.elem=a;this.prop=c;b.orig=b.orig||{}}});f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(f.fx.step[this.prop]||f.fx.step._default)(this)},
cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(b,c,d){function e(a){return h.step(a)}var h=this,g=f.fx,j;this.startTime=ca||a();this.start=b;this.end=c;this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px");this.now=this.start;this.pos=this.state=0;e.elem=this.elem;e()&&f.timers.push(e)&&!X&&(sa?(X=!0,j=function(){X&&
(sa(j),g.tick())},sa(j)):X=setInterval(g.tick,g.interval))},show:function(){this.options.orig[this.prop]=f.style(this.elem,this.prop);this.options.show=!0;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f.style(this.elem,this.prop);this.options.hide=!0;this.custom(this.cur(),0)},step:function(b){var c=ca||a(),d=!0,e=this.elem,h=this.options,g;if(b||c>=h.duration+this.startTime){this.now=this.end;this.pos=this.state=
1;this.update();h.animatedProperties[this.prop]=!0;for(g in h.animatedProperties)h.animatedProperties[g]!==!0&&(d=!1);if(d){h.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){e.style["overflow"+b]=h.overflow[a]});h.hide&&f(e).hide();if(h.hide||h.show)for(var j in h.animatedProperties)f.style(e,j,h.orig[j]);h.complete.call(e)}return!1}else h.duration==Infinity?this.now=c:(b=c-this.startTime,this.state=b/h.duration,this.pos=f.easing[h.animatedProperties[this.prop]](this.state,
b,0,1,h.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return!0}};f.extend(f.fx,{tick:function(){for(var a=f.timers,b=0;b<a.length;++b)a[b]()||a.splice(b--,1);a.length||f.fx.stop()},interval:13,stop:function(){clearInterval(X);X=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=(a.prop==="width"||a.prop==="height"?Math.max(0,a.now):
a.now)+a.unit:a.elem[a.prop]=a.now}}});if(f.expr&&f.expr.filters)f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length};var Mb=/^t(?:able|d|h)$/i,Ra=/^(?:body|html)$/i;f.fn.offset="getBoundingClientRect"in q.documentElement?function(a){var b=this[0],d;if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);try{d=b.getBoundingClientRect()}catch(e){}var h=
b.ownerDocument,g=h.documentElement;if(!d||!f.contains(g,b))return d?{top:d.top,left:d.left}:{top:0,left:0};b=h.body;h=c(h);return{top:d.top+(h.pageYOffset||f.support.boxModel&&g.scrollTop||b.scrollTop)-(g.clientTop||b.clientTop||0),left:d.left+(h.pageXOffset||f.support.boxModel&&g.scrollLeft||b.scrollLeft)-(g.clientLeft||b.clientLeft||0)}}:function(a){var b=this[0];if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);
f.offset.initialize();var c,d=b.offsetParent,e=b.ownerDocument,h=e.documentElement,g=e.body;c=(e=e.defaultView)?e.getComputedStyle(b,null):b.currentStyle;for(var j=b.offsetTop,k=b.offsetLeft;(b=b.parentNode)&&b!==g&&b!==h;){if(f.offset.supportsFixedPosition&&c.position==="fixed")break;c=e?e.getComputedStyle(b,null):b.currentStyle;j-=b.scrollTop;k-=b.scrollLeft;if(b===d){j+=b.offsetTop;k+=b.offsetLeft;if(f.offset.doesNotAddBorder&&(!f.offset.doesAddBorderForTableAndCells||!Mb.test(b.nodeName)))j+=
parseFloat(c.borderTopWidth)||0,k+=parseFloat(c.borderLeftWidth)||0;d=b.offsetParent}f.offset.subtractsBorderForOverflowNotVisible&&c.overflow!=="visible"&&(j+=parseFloat(c.borderTopWidth)||0,k+=parseFloat(c.borderLeftWidth)||0)}if(c.position==="relative"||c.position==="static")j+=g.offsetTop,k+=g.offsetLeft;f.offset.supportsFixedPosition&&c.position==="fixed"&&(j+=Math.max(h.scrollTop,g.scrollTop),k+=Math.max(h.scrollLeft,g.scrollLeft));return{top:j,left:k}};f.offset={initialize:function(){var a=
q.body,b=q.createElement("div"),c,d,e,h=parseFloat(f.css(a,"marginTop"))||0;f.extend(b.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});b.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";a.insertBefore(b,
a.firstChild);c=b.firstChild;d=c.firstChild;e=c.nextSibling.firstChild.firstChild;this.doesNotAddBorder=d.offsetTop!==5;this.doesAddBorderForTableAndCells=e.offsetTop===5;d.style.position="fixed";d.style.top="20px";this.supportsFixedPosition=d.offsetTop===20||d.offsetTop===15;d.style.position=d.style.top="";c.style.overflow="hidden";c.style.position="relative";this.subtractsBorderForOverflowNotVisible=d.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=a.offsetTop!==h;a.removeChild(b);f.offset.initialize=
f.noop},bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.offset.initialize();f.offset.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");if(d==="static")a.style.position="relative";var e=f(a),h=e.offset(),g=f.css(a,"top"),j=f.css(a,"left"),k={},m={};(d==="absolute"||d==="fixed")&&f.inArray("auto",[g,j])>-1?(m=e.position(),d=m.top,j=m.left):(d=parseFloat(g)||
0,j=parseFloat(j)||0);f.isFunction(b)&&(b=b.call(a,c,h));if(b.top!=null)k.top=b.top-h.top+d;if(b.left!=null)k.left=b.left-h.left+j;"using"in b?b.using.call(a,k):e.css(k)}};f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=Ra.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0;c.left-=parseFloat(f.css(a,"marginLeft"))||0;d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0;d.left+=parseFloat(f.css(b[0],
"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||q.body;a&&!Ra.test(a.nodeName)&&f.css(a,"position")==="static";)a=a.offsetParent;return a})}});f.each(["Left","Top"],function(a,d){var e="scroll"+d;f.fn[e]=function(d){var h,g;return d===b?(h=this[0],!h?null:(g=c(h))?"pageXOffset"in g?g[a?"pageYOffset":"pageXOffset"]:f.support.boxModel&&g.document.documentElement[e]||g.document.body[e]:h[e]):this.each(function(){(g=
c(this))?g.scrollTo(!a?d:f(g).scrollLeft(),a?d:f(g).scrollTop()):this[e]=d})}});f.each(["Height","Width"],function(a,c){var d=c.toLowerCase();f.fn["inner"+c]=function(){var a=this[0];return a&&a.style?parseFloat(f.css(a,d,"padding")):null};f.fn["outer"+c]=function(a){var b=this[0];return b&&b.style?parseFloat(f.css(b,d,a?"margin":"border")):null};f.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(f.isFunction(a))return this.each(function(b){var c=f(this);c[d](a.call(this,b,c[d]()))});
if(f.isWindow(e)){var h=e.document.documentElement["client"+c];return e.document.compatMode==="CSS1Compat"&&h||e.document.body["client"+c]||h}else return e.nodeType===9?Math.max(e.documentElement["client"+c],e.body["scroll"+c],e.documentElement["scroll"+c],e.body["offset"+c],e.documentElement["offset"+c]):a===b?(e=f.css(e,d),h=parseFloat(e),f.isNaN(h)?e:h):this.css(d,typeof a==="string"?a:a+"px")}});g.jQuery=g.$=f})(window);return jQuery}()};
Joshfire.definedModules["joshfire/adapters/android/uielements/list"]=function(){return function(g,b,c,e,d,h){return b(g,{getDefaultOptions:function(){return e.extend(this.__super(),{orientation:"up",incrementalRefresh:!1,itemTemplate:"<li id='<%=itemHtmlId%>' data-josh-ui-path='<%= path %>' data-josh-grid-id='<%= item.id %>' class='josh-"+this.type+" joshover'><%= itemInner %></li>",scroller:!0})},init:function(){var a=this;a.__super();a.scrollOptions=e.extend({},a.options.scrollOptions,{active:a.options.scroller||
!1});if(a.options.scrollBarClass)a.scrollOptions.scrollbarClass=a.options.scrollBarClass;a.setData(a.data);a.subscribe("focusItem",function(b,c){a._applyFocus(c[0])});a.subscribe("input",function(b,c){c.length==2&&c[0]=="enter"&&(c[1]=="__lastItem"?a.publish("lastItemSelect"):c[1]!==void 0&&a.selectById(c[1]))});a.subscribe("beforeBlur",function(){h("#"+a.htmlId+" .focused").removeClass("focused")});a.subscribe("select",function(b,c){var d=c[0];h("#"+a.htmlId+" .selected").removeClass("selected");
for(var e=0,g=d.length;e<g;e++)h("#"+a.getItemHtmlId(d[e])).addClass("selected")})},insertScroller:function(){var a=this;if(a.scrollOptions&&a.getState("inserted")&&(this.hasScroller=!0,a.scrollOptions.active&&a.data&&a.data.length&&a.htmlEl.children.length))a.iScroller&&a.iScroller.destroy(),a.iScroller=new iScroll(a.htmlId,a.scrollOptions),document.addEventListener("orientationChanged",function(){a.iScroller&&a.iScroller.refresh()})},insert:function(a,b){var c=this;document.addEventListener("touchmove",
function(a){a.preventDefault()},!1);c.__super(a,b);c.subscribe("afterShow",function(){c.insertScroller()})},_applyFocus:function(a){h("#"+this.htmlId+" .focused").removeClass("focused");h("#"+this.getItemHtmlId(a)).addClass("focused")},focusByIndex:function(a){this.focusById(this.data[a].id)},focusById:function(a){this.focus!=a&&(this.setState("focus",a),this.publish("focusItem",[a]),this.focus())},getItemHtmlId:function(a){return this.getHtmlId()+"_"+a.toString().replace(/[^-A-Za-z0-9_:.]/,"-")},
getInnerHtml:function(){return this.isLoading?this.template(this.options.loadingTemplate):'<div class="'+this.htmlId+'_scroller"><ul>'+this._getItemsHtml(0)+"</ul></div>"},_getItemsHtml:function(a){var b=[],c=e.isFunction(this.options.itemTemplate)?this.options.itemTemplate:e.template(this.options.itemTemplate),d=e.isFunction(this.options.itemInnerTemplate)?this.options.itemInnerTemplate:e.template(this.options.itemInnerTemplate);if(!this.data)return"";for(var h=this.data.length;a<h;a++)this.item=
this.data[a],this.i=a,this.itemInner=d(this),this.itemHtmlId=this.getItemHtmlId(this.data[a].id),b.push(c(this));if(this.options.lastItemInnerTemplate)d=e.isFunction(this.options.lastItemInnerTemplate)?this.options.lastItemInnerTemplate:e.template(this.options.lastItemInnerTemplate),this.item={id:"__lastItem"},this.i="last",this.itemInner=d(this),this.itemHtmlId=this.getItemHtmlId("__lastItem"),b.push(c(this));return b.join("")},refresh:function(){var a=this;if(this.options.incrementalRefresh&&h("#"+
this.htmlId+" ul").size()){for(var b=0,c=h("#"+this.htmlId+" li"),d=0;d<this.data.length;d++)if(c.slice(d,d+1).attr("data-josh-grid-id")!=this.data[d].id){b=d;break}c.slice(b).remove();h("#"+this.htmlId+" ul").append(this._getItemsHtml(b));this.publish("afterRefresh")}else{if(a.iScroller)a.iScroller.destroy(),a.iScroller=null;this.__super();this.insertScroller()}setTimeout(function(){a.iScroller&&a.iScroller.refresh()},0);(b=this.getState("focus"))&&this._applyFocus(b)},setLoading:function(a){if(this.iScroller&&
a)this.iScroller.destroy(),this.iScroller=null;this.__super(a)}})}(Joshfire.loadModule("joshfire/uielements/list"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/utils/grid"),Joshfire.loadModule("joshfire/vendor/underscore"),Joshfire.loadModule("joshfire/vendor/iscroll"),Joshfire.loadModule("joshfire/vendor/jquery"))};
Joshfire.definedModules["joshfire/adapters/ios/uielements/list"]=function(){return function(g){return g}(Joshfire.loadModule("joshfire/adapters/android/uielements/list"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["joshfire/uielements/panel.manager"]=function(){return function(g,b,c){return b(g,{init:function(){var b=this;b.lastSequenceId=0;b.subscribe("state",function(c,h){h[0]=="route"&&b.route(h[1])});b.currentId=!1},switchTo:function(b){var d=this;d.currentPanelId=b;c.each(d.children,function(c){c.path==d.path+"/"+b?d.app.ui.element(c.path).show():d.app.ui.element(c.path).hide()})},setup:function(b){var c=this;c.options.uiMaster&&c.app.ui.fetch(c.options.uiMaster,!1,function(){c.app.ui.element(c.options.uiMaster).subscribe("select",
function(b,a){if(!a.length||c.app.ui.get(c.path+"/"+a[0][0])===void 0)return!1;c.switchTo(a[0][0]);return!0})});b()},initView:function(b,d){var h=this;c.isString(b)&&Joshfire.require([this.options.requirePrefix+b],function(a){if(!a)return d("no such view");a=new a(h.app,h.path+"/"+b,{sequenceId:h.lastSequenceId++});return d(null,a)})}})}(Joshfire.loadModule("joshfire/uielements/panel"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["joshfire/uielements/button"]=function(){return function(g,b){return b(g,{type:"Button",getHtml:function(){return this.template('<input type="button" class="joshover josh-type-<%=type%> josh-id-<%=id%> <%= htmlClass %>"  data-josh-ui-path="'+this.path+'" id="'+this.htmlId+'" value="'+this.options.label+'" />')},setLabel:function(b){this.htmlEl.value=b},init:function(){var b=this;b.__super();b.subscribe("input",function(e,d){if(d&&d.length!=0)switch(d[0]){case "enter":b.publish("select",
[b.id])}})}})}(Joshfire.loadModule("joshfire/adapters/ios/uielement"),Joshfire.loadModule("joshfire/class"))};
Joshfire.definedModules["src/api/joshfire.me"]=function(){return function(g){var b=new g;return{query:function(c,e,d){b.request({url:"/proxy/",data:{data:e,url:"http://joshfire.com:40008/data/"+c},type:"POST",cache:"no",jsonp:"callback"},function(b,a){if(b)return d(b,null);var c={};try{c=JSON.parse(a)}catch(e){}return d(null,c)})},getData:function(b,e,d){this.query("get",{appId:b.id,userId:e},d)},setData:function(b,e,d,h){this.query("set",{appId:b.id,userId:e,data:d},function(){h()})}}}(Joshfire.loadModule("joshfire/adapters/ios/utils/datasource"),
Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["src/templates_compiled/js/about"]=function(){return function(){return function(g){var b=[];with(g||{})b.push('<div style="padding:20px;text-align:center">\n\n\n<img src="images/powered/powered-iPad.png" style="padding:20px;margin:0 auto;width:90px;height:31px;"/>\n\n<p>\nThis app was built using the open source <a href="http://framework.joshfire.com/" style="color:white;">Joshfire Framework</a>.\n</p>\n\n<p>It makes it possible for every TEDx organizer to create an application for all devices.</p>\n\n<p>Check <a href="http://github.com/joshfire/mytv" style="color:white;">http://github.com/joshfire/mytv</a> for more information.</p>\n\n<br/><br/>\n\n<\!--\n<b>About TEDx, x=independently organized event</b>\n<p>In the spirit of ideas worth spreading, TEDx is a program of\nlocal, self-organized events that bring people together to share\na TED-like experience. At a TEDx event, TEDTalks video and live\nspeakers combine to spark deep discussion and connection in a\nsmall group. These local, self-organized events are branded TEDx,\nwhere x=independently organized TED event.</p>\n<p>The TED Conference provides general guidance for the TEDx\nprogram, but individual TEDx events are self-organized.*\n(*Subject to certain rules and regulations)</p>\n\n<b>About TED</b>\n<p>TED is an annual event where some of the world\u2019s leading\nthinkers and doers are invited to share what they are most\npassionate about. \u201cTED\u201d stands for Technology, Entertainment,\nDesign \u2014 three broad subject areas that are, collectively,\nshaping our future. And in fact, the event is broader still,\nshowcasing ideas that matter in any discipline. Attendees have\ncalled it \u201cthe ultimate brain spa\u201d and \u201ca four-day journey into\nthe future.\u201d The diverse audience \u2014 CEOs, scientists, creatives,\nphilanthropists \u2014 is almost  as extraordinary as the speakers,\nwho have included Bill Clinton, Bill Gates, Jane Goodall,\nFrank Gehry, Paul Simon, Sir Richard Branson, Philippe Starck\nand Bono.</p>\n<p>TED was \ufb01rst held in Monterey, California, in 1984. In 2001,\nChris Anderson\u2019s Sapling Foundation acquired TED from its\nfounder, Richard Saul Wurman. In recent years, TED has expanded\nto include an international conference, TEDGlobal;\nmedia initiatives, including TED Talks and TED.com;\nand the TED Prize. TED2010, \u201cWhat the world Needs Now,\u201d\nwill be held Springs, California.</p>\n--\>\n\n</div>');return b.join("")}}()};
Joshfire.definedModules["src/tree.ui"]=function(){return function(g,b,c,e,d,h,a,k,m,r){window._=m;return g(b,{buildTree:function(){var b=Joshfire.adapter==="ios"?!0:!1,g=this.app;if(!TEDXID)g.mainVideoListDataPath="/talks/latest/";b=[{id:"toolbar",type:e,hideOnBlur:!1,content:"<h1>myTED.tv</h1>",children:[{id:"loginButton",type:e,autoShow:!TEDXID,content:"Wait..."}],onAfterInsert:function(){}},{id:"main",type:d,uiMaster:"/footer",children:[{id:"home",type:e,onAfterShow:function(){g.ui.element("/main/home/videodetail").publish("afterShow");
g.ui.element("/main/home/videolistpanel/videolist").publish("afterShow")},children:[{id:"videolistpanel",type:e,onAfterShow:function(){g.ui.element("/main/home/videolistpanel/videolist").publish("afterShow")},children:[{id:"videolisttitle",type:e,innerTemplate:'<p class="theme-title"><%= data.label ? data.label : "Latest videos"  %></p>'},{id:"videolist",type:c,loadingTemplate:'<div style="padding:40px;">Loading...</div>',dataPath:g.mainVideoListDataPath,incrementalRefresh:!0,lastItemInnerTemplate:"<button class='more'>Show more!</button>",
onLastItemSelect:function(a){$("#"+a.htmlId+"___lastItem button",$("#"+a.htmlId)).html("Loading...");g.data.fetch(a.dataPath,{skip:a.data.length},function(b){(!b||b.length==0)&&$("#"+a.htmlId+"___lastItem",$("#"+a.htmlId)).remove()})},onState:function(a,b,c){if(c[0]=="dataPath"){if(BUILDNAME!="iphone"&&BUILDNAME!="androidphone")var d=a.subscribe("data",function(){a.unsubscribe(d);a.selectByIndex(0)});a.options.lastItemInnerTemplate=c[1].match(/^\/tedx/)?!1:"<button class='more'>Show more!</button>";
g.ui.element("/main/home/videolistpanel/videolisttitle").setDataPath(c[1].substring(0,c[1].length-1))}},onSelect:function(){if(BUILDNAME=="iphone"||BUILDNAME=="androidphone")g.ui.element("/main/home/videodetail/videoshortdesc").hide(),g.ui.element("/main/home/videodetail").show(),g.ui.element("/main/home/videodetail/close").show(),g.ui.element("/main/home/videolistpanel").hide(),setTimeout(function(){g.ui.element("/main/home/videodetail/videoshortdesc").onState("fresh",!0,function(){g.ui.element("/main/home/videodetail/videoshortdesc").show()})},
250)},autoShow:!0,itemInnerTemplate:'<figure><img src="<%= item.image %>"/><figcaption><%= item.label %><br><span class="talker"><%= item.talker?"by "+item.talker.name:"" %></span></figcaption></figure>',scroller:!0,scrollOptions:{vScroll:b,hScroll:!b},scrollBarClass:"scrollbar",autoScroll:!0}]},{id:"videodetail",type:e,hideOnBlur:!0,template:"<div id='myTED__detailswrapper'><div style='display:none;' class='josh-type-<%=type%> josh-id-<%=id%>' id='<%= htmlId %>' data-josh-ui-path='<%= path %>'><%= htmlOuter %></div></div>",
uiDataMaster:"/main/home/videolistpanel/videolist",autoShow:BUILDNAME!="iphone"&&BUILDNAME!="androidphone",forceDataPathRefresh:!0,onAfterShow:function(){var a=g.ui.element("/footer").htmlEl.querySelector(".selected");a&&(a.getAttribute("id").replace(/(.*)_/,"")=="home"&&BUILDNAME!="iphone"&&BUILDNAME!="androidphone"?g.ui.element("/main/home/videodetail/close").hide():g.ui.element("/main/home/videodetail/close").show())},onData:function(b){var c=g.ui.element("/main/home/videodetail/player"),d=g.ui.element("/main/home/videodetail/player.youtube");
if(b.data){if(b.data.source=="youtube")d.show(),c.hide(),c.stop(),g.ui.element("/main/home/videodetail/info/videoinfo").htmlEl.style.width="100%",g.ui.element("/main/home/videodetail/info/talkerinfo").hide(),g.ui.element("/main/home/videodetail/like").hide(),d.playWithStaticUrl(b.data);else{var c=g.ui.element("/main/home/videodetail/player"),e=function(){c.playWithStaticUrl(b.data.video["240"]);c.pause()};c.show();d.hide();d.stop();g.ui.element("/main/home/videodetail/info/videoinfo").htmlEl.style.width=
"50%";g.ui.element("/main/home/videodetail/info/talkerinfo").show();TEDXID||g.ui.element("/main/home/videodetail/like").show();b.data.video?e():a.getVideo(b.data.key,function(a,c){b.data.video=m.reduce(c,function(a,b){a[b.format]={url:b.url};return a},{});e()})}g.userSession&&g.userSession.mytv&&g.userSession.mytv.favorites?(g.data.get("/talks/favorites/")||g.data.set("/talks/favorites/",m.select(g.data.get("/talks/all/"),function(a){return m.contains(g.userSession.mytv.favorites,a.id)})),m.include(g.userSession.mytv.favorites,
b.data.id)?$("#"+g.ui.element("/main/home/videodetail/like").htmlId).addClass("liked"):$("#"+g.ui.element("/main/home/videodetail/like").htmlId).removeClass("liked")):$("#"+g.ui.element("/main/home/videodetail/like").htmlId).removeClass("liked")}g.ui.element("/main/favorites/favlist").setDataPath("/talks/favorites")},children:[{id:"like",type:h,autoShow:!TEDXID,label:""},{id:"close",type:h,label:"Back",autoShow:!1,onSelect:function(){g.ui.element("/main/home/videodetail/player").pause();if(BUILDNAME==
"iphone"||BUILDNAME=="androidphone")g.ui.element("/main/home/videodetail").hide(),g.ui.element("/main/home/videolistpanel").show();var a=g.ui.element("/footer").getState("selection")[0];g.ui.element("/main").switchTo(a)}},{id:"player",type:"video.mediaelement",autoShow:!0,controls:!0,noAutoPlay:!1,onAfterInsert:function(a){(function u(){setTimeout(function(){var b=a.app.ui.element("/main/home/videodetail/player").htmlEl.querySelector("video");if(a.app.userSession&&b&&!b.paused){var c=a.app.ui.element("/main/home/videodetail").dataPath.match(/[0-9]+$/)[0];
k.setData(a.app,a.app.userSession.uid,{currentVideo:c,time:Math.floor(b.currentTime*100)/100},function(){})}u()},1E3)})()}},{id:"player.youtube",type:"video.youtube",autoShow:!0,controls:!0,noAutoPlay:!1,width:BUILDNAME=="ipad"?460:!1,onAfterInsert:function(){}},{id:"videoshortdesc",type:e,uiDataSync:"/main/home/videodetail",innerTemplate:'<h1><%= data.label %></h1><%= data.talker ? "<h2>by "+data.talker.name+"</h2>" : "" %>'},{id:"info",type:e,uiDataSync:"/main/home/videodetail",children:[{id:"videoinfo",
type:e,uiDataSync:"/main/home/videodetail",innerTemplate:'<h1 class="label">Summary</h1><p class="description"><%= data.summary %></p>'},{id:"talkerinfo",type:e,uiDataSync:"/main/home/videodetail",innerTemplate:'<h1 class="name"><%= data.talker ? data.talker.name : "" %></h1><p class="description"><%= data.talker ? data.talker.shortsummary : "" %></p>'}]}]}]},{id:"themes",type:e,content:"",autoShow:!1,onAfterShow:function(){g.ui.element("/main/themes/themeslist").publish("afterShow")},children:[{id:"themeslist",
type:c,dataPath:"/themes/",incrementalRefresh:!0,autoShow:!0,itemInnerTemplate:'<figure data-id="<%= item.id %>"><img src="<%= item.image ? item.image : "http://placehold.it/208x142" %>"/><figcaption><%= item.label %></figcaption></figure>',scroller:!0,scrollOptions:{vScroll:b,hScroll:!b},scrollBarClass:"scrollbar",autoScroll:!0,onSelect:function(a,b,c){g.ui.element("/main/home/videolistpanel/videolist").setDataPath("/themes/"+c[0]);g.ui.element("/main").switchTo("home")}}]},{id:"tedx",type:e,content:"",
autoShow:!1,onAfterShow:function(){g.ui.element("/main/tedx/tedxlist").publish("afterShow")},children:[{id:"tedxlist",type:c,dataPath:"/tedx/",incrementalRefresh:!0,autoShow:!0,itemInnerTemplate:'<figure data-id="<%= item.id %>"><img src="<%= item.image ? item.image : "http://placehold.it/208x142" %>"/><figcaption><%= item.label %></figcaption></figure>',scroller:!0,scrollOptions:{vScroll:b,hScroll:!b},scrollBarClass:"scrollbar",autoScroll:!0,onSelect:function(a,b,c){g.ui.element("/main/home/videolistpanel/videolist").setDataPath("/tedx/"+
c[0]);g.ui.element("/main").switchTo("home")}}]},{id:"twitter",type:e,content:"",autoShow:!1,onAfterShow:function(){g.ui.element("/main/tedx/tedxlist").publish("afterShow")},children:[{id:"twitterlist",type:c,dataPath:!1,incrementalRefresh:!0,autoShow:!0,scroller:!0,scrollOptions:{vScroll:b,hScroll:!b},scrollBarClass:"scrollbar",autoScroll:!0}]},{id:"favorites",type:e,autoShow:!1,onAfterShow:function(){g.ui.element("/main/favorites/favlist").publish("afterShow")},children:[{id:"mytitle",type:e,innerTemplate:'<div class="title-wrapper"><p class="theme-title">My favorites</p></div><div class="fav-not-connected"><h3>You should be connected !</a></h3></div><div class="fav-zero-favs"><h3>No favorites yet !</a></h3></div>'},
{id:"favlist",type:c,autoShow:!0,loadingTemplate:'<div style="padding:40px;">...No favorites yet...</div>',itemInnerTemplate:'<figure><img src="<%= item.image %>"/><figcaption><%= item.label %><br><span class="talker"><%= item.talker?"by "+item.talker.name:"" %></span></figcaption></figure>',scroller:!0,scrollOptions:{vScroll:b,hScroll:!b},scrollBarClass:"scrollbar",autoScroll:!0,onSelect:function(a,b,c){a=c[0][0];b="/talks/latest/";g.ui.element("/main/home/videolistpanel/videolist").setDataPath("/talks/favorites");
c=g.data.get(b+a);c||(b="/talks/all/",c=g.data.get(b+a));if(!c)return alert("An error occured - unable to play video "+a),!1;g.ui.element("/main/home/videodetail").setDataPath(b+a);g.ui.element("/main").switchTo("home")}}],onAfterShow:function(a){g.ui.element("/main/home/videodetail/player").player.pause();g.getState("auth")?($("#"+a.htmlId+" .fav-not-connected").hide(),g.ui.element("/main/favorites/favlist").data&&g.ui.element("/main/favorites/favlist").data.length>0&&$("#"+a.htmlId+" .fav-zero-favs").hide()):
($("#"+a.htmlId+" .fav-zero-favs").hide(),g.fbLogin())}},{id:"about",type:e,content:r()}]},{id:"footer",type:c,hideOnBlur:!1,content:"",onSelect:function(a){a[0]!="home"&&g.mainVideoListDataPath&&g.ui.element("/main/home/videolistpanel/videolist").setDataPath(g.mainVideoListDataPath);a[0]!="home"&&g.ui.element("/main/home/videodetail/player").pause()},data:[]}];Joshfire.adapter==="browser"&&b.push({id:"controls",type:"mediacontrols",media:"/player",hideDelay:5E3});return b}})}(Joshfire.loadModule("joshfire/class"),
Joshfire.loadModule("joshfire/tree.ui"),Joshfire.loadModule("joshfire/adapters/ios/uielements/list"),Joshfire.loadModule("joshfire/uielements/panel"),Joshfire.loadModule("joshfire/uielements/panel.manager"),Joshfire.loadModule("joshfire/uielements/button"),Joshfire.loadModule("src/api/ted"),Joshfire.loadModule("src/api/joshfire.me"),Joshfire.loadModule("joshfire/vendor/underscore"),Joshfire.loadModule("src/templates_compiled/js/about"))};
Joshfire.definedModules["joshfire/utils/splashscreen"]=function(){return function(g,b){return g({__constructor:function(c){c=b.extend({htmlId:"splashscreen"},c);this.id=c.htmlId;if(c.timeout){var e=this;setTimeout(function(){e.remove()},c.timeout)}},remove:function(){if(document)document.getElementById(this.id).style.display="none"}})}(Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/underscore"))};
Joshfire.definedModules["src/app"]=function(){return function(g,b,c,e,d,h){return b(g,{id:"myTEDtv",uiClass:e,dataClass:c,setup:function(a){var b=this;this.splash=new h;if(TEDXID)this.data.fetch("/tedx/",!1,function(){});else{var c=b.ui.element("/main/home/videolistpanel/videolist");c.subscribe("data",function(a,d,e){c.unsubscribe(e);b.ui.setState("focus","/main/home/videolistpanel/videolist");BUILDNAME!="iphone"&&BUILDNAME!="androidphone"&&c.selectByIndex(0);b.ui.element("/footer").selectById("home");
b.splash.remove()});b.ui.element("/footer").setData([{id:"home",label:"Latest"},{id:"themes",label:"Themes"},{id:"tedx",label:"TEDx"},{id:"favorites",label:"My favorites"},{id:"about",label:"About"}])}a&&a(null)},setTEDxMode:function(a){var b=this;if(!this.tedxmeta)this.tedxmeta=a,b.ui.element("/toolbar").onState("inserted",!0,function(){document.getElementsByTagName("title")[0].innerText=a.title;b.ui.element("/toolbar").htmlEl.firstChild.innerText=a.title;b.data.fetch("/tedx/",!1,function(a,c){var d=
[];if(c.length)b.mainVideoListDataPath="/tedx/"+c[0].id+"/",b.ui.element("/main/home/videolistpanel/videolist").setDataPath(b.mainVideoListDataPath),c.length==1?d.push({id:"home",label:"Videos"}):d.push({id:"tedx",label:"Events"});d.push({id:"about",label:"About"});b.ui.element("/footer").setData(d);c&&c.length==1?(b.ui.element("/footer").selectById("home"),b.ui.element("/main/tedx/tedxlist").selectByIndex(0)):b.ui.element("/footer").selectById("tedx");b.splash.remove()})})}})}(Joshfire.loadModule("joshfire/adapters/ios/app"),
Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("src/tree.data"),Joshfire.loadModule("src/tree.ui"),Joshfire.loadModule("joshfire/vendor/underscore"),Joshfire.loadModule("joshfire/utils/splashscreen"))};
Joshfire.definedModules["src/vendor/add2home"]=function(){return function(){function g(){clearInterval(A);clearTimeout(y);y=null;s.removeEventListener("webkitTransitionEnd",c,!1);var a=k?window.scrollY-u:window.scrollY+window.innerHeight-u,b=k?window.scrollX-startX:window.scrollX+Math.round((window.innerWidth-s.offsetWidth)/2)-startX,d="1",e="0";(e=s.querySelector(".close"))&&e.removeEventListener("click",g,!1);s.style.webkitTransitionProperty="-webkit-transform,opacity";switch(j.animationOut){case "drop":k?
(e="0.4s",d="0",a+=50):(e="0.6s",a=a+s.offsetHeight+j.bottomOffset+50);break;case "bubble":k?(e="0.8s",a=a-s.offsetHeight-j.bottomOffset-50):(e="0.4s",d="0",a-=50);break;default:e="0.8s",d="0"}s.addEventListener("webkitTransitionEnd",c,!1);s.style.opacity=d;s.style.webkitTransitionDuration=e;s.style.webkitTransform="translate3d("+b+"px,"+a+"px,0)"}function b(){var a=new WebKitCSSMatrix(window.getComputedStyle(s,null).webkitTransform),b=k?window.scrollY-u:window.scrollY+window.innerHeight-u,d=k?window.scrollX-
startX:window.scrollX+Math.round((window.innerWidth-s.offsetWidth)/2)-startX;b==a.m42&&d==a.m41||(clearInterval(A),s.removeEventListener("webkitTransitionEnd",c,!1),setTimeout(function(){s.addEventListener("webkitTransitionEnd",c,!1);s.style.webkitTransform="translate3d("+d+"px,"+b+"px,0)"},0))}function c(){s.removeEventListener("webkitTransitionEnd",c,!1);s.style.webkitTransitionProperty="-webkit-transform";s.style.webkitTransitionDuration="0.2s";y?(clearInterval(A),A=setInterval(b,j.iterations)):
s.parentNode.removeChild(s)}function e(){window.removeEventListener("load",e,!1);setTimeout(function(){var a;u=k?window.scrollY:window.innerHeight+window.scrollY;startX=k?window.scrollX:Math.round((window.innerWidth-s.offsetWidth)/2)+window.scrollX;s.style.top=k?u+j.bottomOffset+"px":u-s.offsetHeight-j.bottomOffset+"px";s.style.left=k?startX+208-Math.round(s.offsetWidth/2)+"px":startX+"px";switch(j.animationIn){case "drop":k?(a="0.6s",s.style.webkitTransform="translate3d(0,"+-(window.scrollY+j.bottomOffset+
s.offsetHeight)+"px,0)"):(a="0.9s",s.style.webkitTransform="translate3d(0,"+-(u+j.bottomOffset)+"px,0)");break;case "bubble":k?(a="0.6s",s.style.opacity="0",s.style.webkitTransform="translate3d(0,"+(u+50)+"px,0)"):(a="0.6s",s.style.webkitTransform="translate3d(0,"+(s.offsetHeight+j.bottomOffset+50)+"px,0)");break;default:a="1s",s.style.opacity="0"}setTimeout(function(){s.style.webkitTransitionDuration=a;s.style.opacity="1";s.style.webkitTransform="translate3d(0,0,0)";s.addEventListener("webkitTransitionEnd",
c,!1)},0);y=setTimeout(g,j.lifespan)},j.startDelay)}function d(){document.removeEventListener("DOMContentLoaded",d,!1);var a=document.createElement("div"),b=j.touchIcon?document.querySelectorAll("head link[rel=apple-touch-icon],head link[rel=apple-touch-icon-precomposed]"):[],c,e="";a.id="addToHomeScreen";a.style.cssText+="position:absolute;-webkit-transition-property:-webkit-transform,opacity;-webkit-transition-duration:0;-webkit-transform:translate3d(0,0,0);";a.style.left="-9999px";if(j.message in
t)w=j.message,j.message="";if(j.message=="")j.message=w in t?t[w]:t.en_us;if(b.length){x=0;for(G=b.length;x<G;x++)if(c=b[x].getAttribute("sizes")){if(m&&c=="114x114"){e=b[x].href;break}}else e=b[x].href;e='<span style="background-image:url('+e+')" class="touchIcon"></span>'}a.className=(k?"ipad":"iphone")+(e?" wide":"");a.innerHTML=e+j.message.replace("%device",p).replace("%icon",o>=4.2?'<span class="share"></span>':'<span class="plus">+</span>')+(j.arrow?'<span class="arrow"></span>':"")+'<span class="close">\u00d7</span>';
document.body.appendChild(a);s=a;(a=s.querySelector(".close"))&&a.addEventListener("click",g,!1);j.expire&&localStorage.setItem("_addToHome",(new Date).getTime()+j.expire*6E4)}var h=navigator,a=/iphone|ipod|ipad/gi.test(h.platform),k=/ipad/gi.test(h.platform),m="devicePixelRatio"in window&&window.devicePixelRatio>1,r=h.appVersion.match(/Safari/gi),v=(a="standalone"in h&&a)&&h.standalone,o=h.appVersion.match(/OS \d+_\d+/g),p=h.platform.split(" ")[0],w=h.language.replace("-","_"),u=startX=0,h=localStorage.getItem("_addToHome"),
A,y,s,x,G,j={animationIn:"drop",animationOut:"fade",startDelay:2E3,lifespan:2E4,bottomOffset:14,expire:0,message:"",touchIcon:!1,arrow:!0,iterations:100},t={ca_es:"Per instal\u00b7lar aquesta aplicaci\u00f3 al vostre %device premeu %icon i llavors <strong>Afegir a pantalla d'inici</strong>.",da_dk:"Tilf\u00f8j denne side til din %device: tryk p\u00e5 %icon og derefter <strong>Tilf\u00f8j til hjemmesk\u00e6rm</strong>.",de_de:"Installieren Sie diese App auf Ihrem %device: %icon antippen und dann <strong>Zum Home-Bildschirm</strong>.",
el_gr:"\u0395\u03b3\u03ba\u03b1\u03c4\u03b1\u03c3\u03c4\u03ae\u03c3\u03b5\u03c4\u03b5 \u03b1\u03c5\u03c4\u03ae\u03bd \u03c4\u03b7\u03bd \u0395\u03c6\u03b1\u03c1\u03bc\u03bf\u03b3\u03ae \u03c3\u03c4\u03ae\u03bd \u03c3\u03c5\u03c3\u03ba\u03b5\u03c5\u03ae \u03c3\u03b1\u03c2 %device: %icon \u03bc\u03b5\u03c4\u03ac \u03c0\u03b1\u03c4\u03ac\u03c4\u03b5 <strong>\u03a0\u03c1\u03bf\u03c3\u03b8\u03ae\u03ba\u03b7 \u03c3\u03b5 \u0391\u03c6\u03b5\u03c4\u03b7\u03c1\u03af\u03b1</strong>.",en_us:"Install this web app on your %device: tap %icon and then <strong>Add to Home Screen</strong>.",
es_es:"Para instalar esta app en su %device, pulse %icon y seleccione <strong>A\u00f1adir a pantalla de inicio</strong>.",fi_fi:"Asenna t\u00e4m\u00e4 web-sovellus laitteeseesi %device: paina %icon ja sen j\u00e4lkeen valitse <strong>Lis\u00e4\u00e4 Koti-valikkoon</strong>.",fr_fr:"Ajoutez cette application sur votre %device en cliquant sur %icon, puis <strong>Ajouter \u00e0 l'\u00e9cran d'accueil</strong>.",he_il:'<span dir="rtl">\u05d4\u05ea\u05e7\u05df \u05d0\u05e4\u05dc\u05d9\u05e7\u05e6\u05d9\u05d4 \u05d6\u05d5 \u05e2\u05dc \u05d4-%device \u05e9\u05dc\u05da: \u05d4\u05e7\u05e9 %icon \u05d5\u05d0\u05d6 <strong>\u05d4\u05d5\u05e1\u05e3 \u05dc\u05de\u05e1\u05da \u05d4\u05d1\u05d9\u05ea</strong>.</span>',
hu_hu:"Telep\u00edtse ezt a web-alkalmaz\u00e1st az \u00d6n %device-j\u00e1ra: nyomjon a %icon-ra majd a <strong>F\u0151k\u00e9perny\u0151h\u00f6z ad\u00e1s</strong> gombra.",it_it:"Installa questa applicazione sul tuo %device: premi su %icon e poi <strong>Aggiungi a Home</strong>.",ja_jp:"\u3053\u306e\u30a6\u30a7\u30d6\u30a2\u30d7\u30ea\u3092\u3042\u306a\u305f\u306e%device\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u306b\u306f%icon\u3092\u30bf\u30c3\u30d7\u3057\u3066<strong>\u30db\u30fc\u30e0\u753b\u9762\u306b\u8ffd\u52a0</strong>\u3092\u9078\u3093\u3067\u304f\u3060\u3055\u3044\u3002",
ko_kr:'%device\uc5d0 \uc6f9\uc571\uc744 \uc124\uce58\ud558\ub824\uba74 %icon\uc744 \ud130\uce58 \ud6c4 "\ud648\ud654\uba74\uc5d0 \ucd94\uac00"\ub97c \uc120\ud0dd\ud558\uc138\uc694',nb_no:"Installer denne appen p\u00e5 din %device: trykk p\u00e5 %icon og deretter <strong>Legg til p\u00e5 Hjem-skjerm</strong>",nl_nl:"Installeer deze webapp op uw %device: tik %icon en dan <strong>Zet in beginscherm</strong>.",pt_br:"Instale este web app em seu %device: aperte %icon e selecione <strong>Adicionar \u00e0 Tela Inicio</strong>.",
pt_pt:"Para instalar esta aplica\u00e7\u00e3o no seu %device, prima o %icon e depois o <strong>Adicionar ao ecr\u00e3 principal</strong>.",ru_ru:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u044d\u0442\u043e \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043d\u0430 \u0432\u0430\u0448 %device: \u043d\u0430\u0436\u043c\u0438\u0442\u0435 %icon, \u0437\u0430\u0442\u0435\u043c <strong>\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u00ab\u0414\u043e\u043c\u043e\u0439\u00bb</strong>.",
sv_se:"L\u00e4gg till denna webbapplikation p\u00e5 din %device: tryck p\u00e5 %icon och d\u00e4refter <strong>L\u00e4gg till p\u00e5 hemsk\u00e4rmen</strong>.",th_th:"\u0e15\u0e34\u0e14\u0e15\u0e31\u0e49\u0e07\u0e40\u0e27\u0e47\u0e1a\u0e41\u0e2d\u0e1e\u0e2f \u0e19\u0e35\u0e49\u0e1a\u0e19 %device \u0e02\u0e2d\u0e07\u0e04\u0e38\u0e13: \u0e41\u0e15\u0e30 %icon \u0e41\u0e25\u0e30 <strong>\u0e40\u0e1e\u0e34\u0e48\u0e21\u0e17\u0e35\u0e48\u0e2b\u0e19\u0e49\u0e32\u0e08\u0e2d\u0e42\u0e2e\u0e21</strong>",
tr_tr:"%device i\u00e7in bu uygulamay\u0131 kurduktan sonra %icon simgesine dokunarak <strong>Ev Ekran\u0131na Ekle</strong>yin.",zh_cn:"\u60a8\u53ef\u4ee5\u5c06\u6b64\u5e94\u7528\u7a0b\u5f0f\u5b89\u88c5\u5230\u60a8\u7684 %device \u4e0a\u3002\u8bf7\u6309 %icon \u7136\u540e\u70b9\u9009<strong>\u6dfb\u52a0\u81f3\u4e3b\u5c4f\u5e55</strong>\u3002",zh_tw:"\u60a8\u53ef\u4ee5\u5c07\u6b64\u61c9\u7528\u7a0b\u5f0f\u5b89\u88dd\u5230\u60a8\u7684 %device \u4e0a\u3002\u8acb\u6309 %icon \u7136\u5f8c\u9ede\u9078<strong>\u52a0\u5165\u4e3b\u756b\u9762\u87a2\u5e55</strong>\u3002"},
o=o?o[0].replace(/[^\d_]/g,"").replace("_",".")*1:0,h=h=="null"?0:h*1;if(window.addToHomeConfig)for(x in window.addToHomeConfig)j[x]=window.addToHomeConfig[x];if(!j.expire||h<(new Date).getTime())h=0;return a&&!h&&!v&&r?{close:g,ready:d,loaded:e,needed:!0}:{needed:!1}}()};
Joshfire.definedModules["src/app.ios"]=function(){return function(g,b,c,e,d){return b(g,{id:"myTED",fullscreenCheck:function(){if(d.needed)Joshfire.onReady(function(){d.ready();d.loaded()})},setup:function(b){var a=this;a.fullscreenCheck();this.__super(function(){var d=a.ui.element("/main/home/videodetail/like");d.subscribe("input",function(){$("#"+d.htmlId).toggleClass("liked");if(!a.userSession)return!1;var b=c.extend([],a.userSession.mytv.favorites),g=""+a.ui.element("/main/home/videodetail").dataPath.match(/[0-9]+$/)[0];
c.include(b,g)?b=c.without(b,g):b.push(g);e.setData(a,a.userSession.uid,{favorites:b},function(){a.userSession.mytv.favorites=b;a.data.update("/talks/favorites/",c.select(a.data.get("/talks/all/"),function(b){return c.contains(a.userSession.mytv.favorites,b.id)}))})});a.fbInit(b)})},fbInit:function(b){var a=this;if(TEDXID)return b();window.fbAsyncInit=function(){FB.init({appId:214358631942957,status:!0,cookie:!0,xfbml:!0});FB.getLoginStatus(function(b){var c=a.ui.element("/toolbar/loginButton").htmlEl;
b.session?(a.userSession=b.session,a.setState("auth",!0),c.innerHTML="Logout",c.onclick=a.fbLogout,e.getData(a,a.userSession.uid,function(b,c){a.userSession.mytv=!b&&c?c:{favorites:[]};FB.api("/me",function(b){a.userSession.name=b.name;a.data.get("/talks/favorites").label=b.name+"'s favorites"})})):(a.setState("auth",!1),c.innerHTML='<a href="http://www.facebook.com/dialog/oauth?client_id=214358631942957&redirect_uri='+window.location+'&display=touch&scope=read_stream,publish_stream,offline_access">Login</a>')})};
var c=document.createElement("script");c.async=!0;c.src="http://connect.facebook.net/en_US/all.js";document.getElementById("fb-root").appendChild(c);b()},fbLogin:function(){var b=this;FB&&FB.login(function(a){if(a.session&&a.perms)b.userSession=a.session,b.setState("auth",!0)},{perms:"read_stream,publish_stream,offline_access"})},fbLogout:function(){FB.logout(function(){window.location=window.location})}})}(Joshfire.loadModule("src/app"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/underscore"),
Joshfire.loadModule("src/api/joshfire.me"),Joshfire.loadModule("src/vendor/add2home"))};
Joshfire.definedModules["joshfire/uielements/video"]=function(){return function(g,b){return b(g,{type:"Video",isDefaultPlayer:!0,init:function(){},play:function(b){if(b&&b.url){var e=this;if(typeof b.url=="function")b.url(function(d,g){if(d)return e.error(4);b.url=g;e.playWithStaticUrl(b)});else return e.playWithStaticUrl(b)}},playPrev:function(){},playNext:function(){var b=this,e=b.app.tree.getData(b.treeCurrent).playlistNext||["next"];b.app.tree.resolveMoves(b.treeCurrent,e,!1,function(d){b.app.tree.moveTo("focus",
d);b.app.publish("input",["enter"])})},pause:function(){},refresh:function(){},getHtml:function(){return""}})}(Joshfire.loadModule("joshfire/adapters/ios/uielement"),Joshfire.loadModule("joshfire/class"))};
Joshfire.definedModules["joshfire/vendor/mediaelement"]=function(){return function(){var g=g||{};g.version="2.1.2";g.meIndex=0;g.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg"]}]};g.Utility={encodeUrl:function(b){return encodeURIComponent(b)},
escapeHTML:function(b){return b.split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(b){var c=document.createElement("div");c.innerHTML='<a href="'+this.escapeHTML(b)+'">x</a>';return c.firstChild.href},getScriptPath:function(b){for(var c=0,e,d="",g="",a,k=document.getElementsByTagName("script");c<k.length;c++){a=k[c].src;for(e=0;e<b.length;e++)if(g=b[e],a.indexOf(g)>-1){d=a.substring(0,a.indexOf(g));break}if(d!=="")break}return d},secondsToTimeCode:function(b){var b=
Math.round(b),c=Math.floor(b/60),b=Math.floor(b%60);return(c>=10?c:"0"+c)+":"+(b>=10?b:"0"+b)}};g.PluginDetector={hasPluginVersion:function(b,c){var e=this.plugins[b];c[1]=c[1]||0;c[2]=c[2]||0;return e[0]>c[0]||e[0]==c[0]&&e[1]>c[1]||e[0]==c[0]&&e[1]==c[1]&&e[2]>=c[2]?!0:!1},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(b,c,e,d,g){this.plugins[b]=this.detectPlugin(c,e,d,g)},detectPlugin:function(b,c,e,d){var g=[0,0,0],a;if(typeof this.nav.plugins!=
"undefined"&&typeof this.nav.plugins[b]=="object"){if((e=this.nav.plugins[b].description)&&!(typeof this.nav.mimeTypes!="undefined"&&this.nav.mimeTypes[c]&&!this.nav.mimeTypes[c].enabledPlugin)){g=e.replace(b,"").replace(/^\s+/,"").replace(/\sr/gi,".").split(".");for(b=0;b<g.length;b++)g[b]=parseInt(g[b].match(/\d+/),10)}}else if(typeof window.ActiveXObject!="undefined")try{(a=new ActiveXObject(e))&&(g=d(a))}catch(k){}return g}};g.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash",
"ShockwaveFlash.ShockwaveFlash",function(b){var c=[];if(b=b.GetVariable("$version"))b=b.split(" ")[1].split(","),c=[parseInt(b[0],10),parseInt(b[1],10),parseInt(b[2],10)];return c});g.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(b){var c=[0,0,0,0],e=function(b,c,a,e){for(;b.isVersionSupported(c[0]+"."+c[1]+"."+c[2]+"."+c[3]);)c[a]+=e;c[a]-=e};e(b,c,0,1);e(b,c,1,1);e(b,c,2,1E4);e(b,c,2,1E3);e(b,c,2,100);e(b,c,2,10);e(b,c,
2,1);e(b,c,3,1);return c});if(g.PluginDetector.ua.match(/android 2\.[12]/)!==null)HTMLMediaElement.canPlayType=function(b){return b.match(/video\/(mp4|m4v)/gi)!==null?"probably":""};g.MediaFeatures={init:function(){var b=g.PluginDetector.nav,c=g.PluginDetector.ua.toLowerCase(),e,d=["source","track","audio","video"];this.isiPad=c.match(/ipad/i)!==null;this.isiPhone=c.match(/iphone/i)!==null;this.isAndroid=c.match(/android/i)!==null;this.isIE=b.appName.toLowerCase().indexOf("microsoft")!=-1;this.isChrome=
c.match(/chrome/gi)!==null;for(b=0;b<d.length;b++)e=document.createElement(d[b]);this.hasNativeFullScreen=typeof e.webkitEnterFullScreen!=="undefined";if(this.isChrome)this.hasNativeFullScreen=!1}};g.MediaFeatures.init();g.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(b){this.currentTime=b},setMuted:function(b){this.muted=b},setVolume:function(b){this.volume=b},stop:function(){this.pause()},setSrc:function(b){if(typeof b=="string")this.src=b;else{var c,e;for(c=0;c<
b.length;c++)if(e=b[c],this.canPlayType(e.type))this.src=e.src}},setVideoSize:function(b,c){this.width=b;this.height=c}};g.PluginMediaElement=function(b,c,e){this.id=b;this.pluginType=c;this.src=e;this.events={}};g.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,muted:!1,volume:1,currentTime:0,play:function(){if(this.pluginApi!=null)this.pluginApi.playMedia(),
this.paused=!1},load:function(){if(this.pluginApi!=null)this.pluginApi.loadMedia(),this.paused=!1},pause:function(){if(this.pluginApi!=null)this.pluginApi.pauseMedia(),this.paused=!0},stop:function(){if(this.pluginApi!=null)this.pluginApi.stopMedia(),this.paused=!0},canPlayType:function(b){var c,e,d,h=g.plugins[this.pluginType];for(c=0;c<h.length;c++)if(d=h[c],g.PluginDetector.hasPluginVersion(this.pluginType,d.version))for(e=0;e<d.types.length;e++)if(b==d.types[e])return!0;return!1},setSrc:function(b){if(typeof b==
"string")this.pluginApi.setSrc(g.Utility.absolutizeUrl(b)),this.src=g.Utility.absolutizeUrl(b);else{var c,e;for(c=0;c<b.length;c++)if(e=b[c],this.canPlayType(e.type))this.pluginApi.setSrc(g.Utility.absolutizeUrl(e.src)),this.src=g.Utility.absolutizeUrl(b)}},setCurrentTime:function(b){if(this.pluginApi!=null)this.pluginApi.setCurrentTime(b),this.currentTime=b},setVolume:function(b){if(this.pluginApi!=null)this.pluginApi.setVolume(b),this.volume=b},setMuted:function(b){if(this.pluginApi!=null)this.pluginApi.setMuted(b),
this.muted=b},setVideoSize:function(b,c){if(this.pluginElement.style)this.pluginElement.style.width=b+"px",this.pluginElement.style.height=c+"px";this.pluginApi!=null&&this.pluginApi.setVideoSize(b,c)},setFullscreen:function(b){this.pluginApi!=null&&this.pluginApi.setFullscreen(b)},addEventListener:function(b,c){this.events[b]=this.events[b]||[];this.events[b].push(c)},removeEventListener:function(b,c){if(!b)return this.events={},!0;var e=this.events[b];if(!e)return!0;if(!c)return this.events[b]=
[],!0;for(i=0;i<e.length;i++)if(e[i]===c)return this.events[b].splice(i,1),!0;return!1},dispatchEvent:function(b){var c,e,d=this.events[b];if(d){e=Array.prototype.slice.call(arguments,1);for(c=0;c<d.length;c++)d[c].apply(null,e)}}};g.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(b,c,e){this.pluginMediaElements[b]=c;this.htmlMediaElements[b]=e},initPlugin:function(b){var c=this.pluginMediaElements[b],e=this.htmlMediaElements[b];switch(c.pluginType){case "flash":c.pluginElement=
c.pluginApi=document.getElementById(b);break;case "silverlight":c.pluginElement=document.getElementById(c.id),c.pluginApi=c.pluginElement.Content.MediaElementJS}c.pluginApi!=null&&c.success&&c.success(c,e)},fireEvent:function(b,c,e){var d,g,b=this.pluginMediaElements[b];b.ended=!1;b.paused=!0;c={type:c,target:b};for(d in e)b[d]=e[d],c[d]=e[d];g=e.bufferedTime||0;c.target.buffered=c.buffered={start:function(){return 0},end:function(){return g},length:1};b.dispatchEvent(c.type,c)}};g.MediaElementDefaults=
{mode:"auto",plugins:["flash","silverlight"],enablePluginDebug:!1,type:"",pluginPath:g.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",enablePluginSmoothing:!1,silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,timerRate:250,success:function(){},error:function(){}};g.MediaElement=function(b,c){return g.HtmlMediaElementShim.create(b,
c)};g.HtmlMediaElementShim={create:function(b,c){var e=g.MediaElementDefaults,d=typeof b=="string"?document.getElementById(b):b,h=d.tagName.toLowerCase()=="video",a=typeof d.canPlayType!="undefined",k={method:"",url:""},m=d.getAttribute("poster"),r=d.getAttribute("autoplay"),v=d.getAttribute("preload"),o=d.getAttribute("controls"),p;for(p in c)e[p]=c[p];m=typeof m=="undefined"||m===null?"":m;v=typeof v=="undefined"||v===null||v==="false"?"none":v;r=!(typeof r=="undefined"||r===null||r==="false");
o=!(typeof o=="undefined"||o===null||o==="false");k=this.determinePlayback(d,e,h,a);if(k.method=="native")return this.updateNative(d,e,r,v,k);else if(k.method!=="")return this.createPlugin(d,e,h,k.method,k.url!==null?g.Utility.absolutizeUrl(k.url):"",m,r,v,o);else this.createErrorMessage(d,e,k.url!==null?g.Utility.absolutizeUrl(k.url):"",m)},determinePlayback:function(b,c,e,d){var h=[],a,k,m={method:"",url:""},r=b.getAttribute("src"),v,o;if(typeof c.type!="undefined"&&c.type!=="")h.push({type:c.type,
url:null});else if(r!="undefined"&&r!==null)k=this.checkType(r,b.getAttribute("type"),e),h.push({type:k,url:r});else for(a=0;a<b.childNodes.length;a++)k=b.childNodes[a],k.nodeType==1&&k.tagName.toLowerCase()=="source"&&(r=k.getAttribute("src"),k=this.checkType(r,k.getAttribute("type"),e),h.push({type:k,url:r}));if(d&&(c.mode==="auto"||c.mode==="native"))for(a=0;a<h.length;a++)if(b.canPlayType(h[a].type).replace(/no/,"")!==""||b.canPlayType(h[a].type.replace(/mp3/,"mpeg")).replace(/no/,"")!=="")return m.method=
"native",m.url=h[a].url,m;if(c.mode==="auto"||c.mode==="shim")for(a=0;a<h.length;a++){k=h[a].type;for(b=0;b<c.plugins.length;b++){r=c.plugins[b];v=g.plugins[r];for(e=0;e<v.length;e++)if(o=v[e],g.PluginDetector.hasPluginVersion(r,o.version))for(d=0;d<o.types.length;d++)if(k==o.types[d])return m.method=r,m.url=h[a].url,m}}if(m.method==="")m.url=h[0].url;return m},checkType:function(b,c,e){return b&&!c?(b=b.substring(b.lastIndexOf(".")+1),(e?"video":"audio")+"/"+b):c&&~c.indexOf(";")?c.substr(0,c.indexOf(";")):
c},createErrorMessage:function(b,c,e,d){var g=document.createElement("div");g.className="me-cannotplay";try{g.style.width=b.width+"px",g.style.height=b.height+"px"}catch(a){}g.innerHTML=d!==""?'<a href="'+e+'"><img src="'+d+'" /></a>':'<a href="'+e+'"><span>Download File</span></a>';b.parentNode.insertBefore(g,b);b.style.display="none";c.error(b)},createPlugin:function(b,c,e,d,h,a,k,m,r){var v=a=1,o="me_"+d+"_"+g.meIndex++,p=new g.PluginMediaElement(o,d,h),w=document.createElement("div"),u;for(u=
b.parentNode;u!==null&&u.tagName.toLowerCase()!="body";){if(u.parentNode.tagName.toLowerCase()=="p"){u.parentNode.parentNode.insertBefore(u,u.parentNode);break}u=u.parentNode}e?(a=c.videoWidth>0?c.videoWidth:b.getAttribute("width")!==null?b.getAttribute("width"):c.defaultVideoWidth,v=c.videoHeight>0?c.videoHeight:b.getAttribute("height")!==null?b.getAttribute("height"):c.defaultVideoHeight):c.enablePluginDebug&&(a=320,v=240);p.success=c.success;g.MediaPluginBridge.registerPluginElement(o,p,b);w.className=
"me-plugin";b.parentNode.insertBefore(w,b);e=["id="+o,"isvideo="+(e?"true":"false"),"autoplay="+(k?"true":"false"),"preload="+m,"width="+a,"timerrate="+c.timerRate,"height="+v];h!==null&&(d=="flash"?e.push("file="+g.Utility.encodeUrl(h)):e.push("file="+h));c.enablePluginDebug&&e.push("debug=true");c.enablePluginSmoothing&&e.push("smoothing=true");r&&e.push("controls=true");switch(d){case "silverlight":w.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+
o+'" name="'+o+'" width="'+a+'" height="'+v+'"><param name="initParams" value="'+e.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+c.pluginPath+c.silverlightName+'" /></object>';break;case "flash":g.MediaFeatures.isIE?(d=document.createElement("div"),w.appendChild(d),d.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+
o+'" width="'+a+'" height="'+v+'"><param name="movie" value="'+c.pluginPath+c.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+e.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'):w.innerHTML='<embed id="'+o+'" name="'+o+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" src="'+
c.pluginPath+c.flashName+'" flashvars="'+e.join("&")+'" width="'+a+'" height="'+v+'"></embed>'}b.style.display="none";return p},updateNative:function(b,c,e,d,h){for(var a in g.HtmlMediaElement)b[a]=g.HtmlMediaElement[a];if(g.MediaFeatures.isChrome)d==="none"&&!e?(b.src="",b.load(),b.canceledPreload=!0,b.addEventListener("play",function(){if(b.canceledPreload)b.src=h.url,b.load(),b.play(),b.canceledPreload=!1},!1)):e&&(b.load(),b.play());c.success(b,b);return b}};window.mejs=g;window.MediaElement=
g.MediaElement;return g}()};
Joshfire.definedModules["joshfire/adapters/ios/uielements/video.mediaelement"]=function(){return function(g,b,c,e){return b(g,{init:function(){this.listeners={};this.videoStatus=this.player=!1;this.videoDuration=0;var b=this;this.app.subscribe("input",function(c,a){b.isDefaultPlayer&&b.handleInputEvent(a)});this.subscribe("input",function(c,a){b.handleInputEvent(a)});c(window).bind("unload",function(){try{b.remove()}catch(c){}});this.__super()},handleInputEvent:function(b){b[0]=="play"?this.resume():
b[0]=="stop"?this.stop():b[0]=="pause"?this.pause():b[0]=="next"?this.playNext():b[0]=="prev"?this.playPrev():b[0]=="seekTo"?this.setCurrentTime(b[1]):b[0]=="seekBy"&&this.setCurrentTime(this.getCurrentTime()+b[1])},error:function(b){this.errorCode=this.errorCode!=0?this.errorCode:b.srcElement.error.code;b=this.options.errorMessages||{};switch(this.errorCode){case 1:this.message="<span>"+(b.aborted||"The loading of the video was aborted")+"</span>";break;case 2:this.message="<span>"+(b.network||"A network problem is preventing the video from loading")+
"</span>";break;case 3:this.message="<span>"+(b.decode||"The video format is not recognized")+"</span>";break;case 4:this.message="<span>"+(b.notsupported||"The video couldn't be loaded because of a server issue")+"</span>";break;default:this.message="<span>"+(b.other||"Unknown error")+"</span>"}this.publish("error",{message:this.message,number:this.errorCode,origin:"adapters/browser/uielements/video.mediaelement"})},startListening:function(b,c,a){this.listeners[c]=a;b.addEventListener(c,a)},stopListeningAll:function(b){e.each(this.listeners,
function(c,a){try{b.removeEventListener(c,a)}catch(e){}})},refresh:function(){},setVideoStatus:function(b){this.videoStatus=b;this.publish(b)},playWithStaticUrl:function(b){var e=this,a=e.options.controls?" controls":"";c("#"+e.htmlId)[0].innerHTML='<span class="close">Close</span><video id="'+e.htmlId+'_video" src="'+b.url+'" '+(b.noautoplay?"":'autoplay="true"')+" autobuffer preload "+(b.image?'poster="'+b.image+'"':"")+a+" />";e.player=document.getElementById(e.htmlId+"_video");e.player.paused&&
c("#"+e.player.id).addClass("video-paused");if(!a){var g;try{document.createEvent("TouchEvent"),g="touchstart MozTouchDown"}catch(m){g="mousedown"}c("#"+e.htmlId+" .close").bind(g,function(){c("#"+e.htmlId).html("").hide()});c("#"+e.htmlId+"_video").bind(g,function(){c("#"+e.player.id).toggleClass("video-paused");e.player.paused?e.player.play():e.player.pause()})}e.setVideoStatus("loading")},pause:function(){this.setVideoStatus("paused");this.player&&this.player.pause()},resume:function(){this.setVideoStatus("playing");
this.player&&this.player.play()},stop:function(){this.setVideoStatus("stopped");this.player&&this.player.pause()},getCurrentTime:function(){return this.player?this.player.currentTime:0},getTotalTime:function(){return this.videoDuration},setCurrentTime:function(b){this.player&&this.player.setCurrentTime(Math.max(0,b))},remove:function(){this.playingPath=!1;if(this.player){try{this.stopListeningAll(this.player)}catch(b){}try{this.player.pause()}catch(e){}try{this.player.stop()}catch(a){}try{this.setVideoStatus("stopped")}catch(g){}try{this.player.setSrc("/images/mediaelement/spacer.gif"),
this.player.load()}catch(m){}try{this.player.stop()}catch(r){}try{c(this.player).remove()}catch(v){}try{delete this.player}catch(o){}}},getHtml:function(){return"<div class='josh-type-"+this.type+"' id='"+this.htmlId+"'></div>"}})}(Joshfire.loadModule("joshfire/uielements/video"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/zepto"),Joshfire.loadModule("joshfire/vendor/underscore"),Joshfire.loadModule("joshfire/vendor/mediaelement"))};
Joshfire.definedModules["joshfire/adapters/ios/uielements/mediacontrols"]=function(){return function(g,b){return b(g,{type:"MediaControls",init:function(){},getInnerHtml:function(){return""},refresh:function(){},show:function(){},hide:function(){}})}(Joshfire.loadModule("joshfire/adapters/ios/uielement"),Joshfire.loadModule("joshfire/class"))};
Joshfire.definedModules["joshfire/adapters/ios/uielements/video.youtube"]=function(){return function(g,b,c){return b(g,{init:function(){this.__super()},playWithStaticUrl:function(b){var d=this.options.width?this.options.width:c(this.htmlEl).width(),g=parseInt(d*9/16);this.htmlEl.innerHTML='<object width="'+d+'" height="'+g+'"><param name="movie" value="http://www.youtube.com/v/'+b.url+'&f=gdata_videos"></param><param name="wmode" value="transparent"></param><embed src="http://www.youtube.com/v/'+
b.url+'&f=gdata_videos"type="application/x-shockwave-flash" wmode="transparent" width="'+d+'" height="'+g+'"></embed></object>'},pause:function(){},stop:function(){this.htmlEl.innerHTML=""},getHtml:function(){return"<div class='josh-type-"+this.type+"' id='"+this.htmlId+"'></div>"}})}(Joshfire.loadModule("joshfire/uielements/video"),Joshfire.loadModule("joshfire/class"),Joshfire.loadModule("joshfire/vendor/zepto"),Joshfire.loadModule("joshfire/vendor/underscore"))};
